/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@1.10.2-8, Date: 2014-11-27T10:31Z */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b(a):b(a)}("undefined"!=typeof window?window:this,function(a){var b=function(a){var b=[];return b["./jquery"]=a,b["./graph.axis"]=function(a){var b=function(){};return b.prototype={defaults:{lineAt0:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,wheelBaseline:"min",logScale:!1,allowedPxSerie:100,forcedMin:!1,forcedMax:!1},init:function(c,d,e){this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]];var f=this;this.graph=c,this.options=a.extend(!0,{},b.prototype.defaults,e,d),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.groupGrids=document.createElementNS(this.graph.ns,"g"),this.graph.axisGroup.insertBefore(this.groupGrids,this.graph.axisGroup.firstChild),this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.labelValue,this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.expTspan),this.expTspan.setAttribute("dx",10),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.expTspanExp),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.groupGrids.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.ticks=[],this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(a){a.preventDefault();var b=f.graph._getXY(a);f.handleMouseMoveLocal(b.x,b.y,a);for(var c=0,d=f.series.length;d>c;c++)f.series[c].handleMouseMove(!1,!0),"labelDragging"==f.currentAction&&f.series[c].handleLabelMove(b.x,b.y),"labelDraggingMain"==f.currentAction&&f.series[c].handleLabelMainMove(b.x,b.y)}),this.group.addEventListener("mouseup",function(a){a.preventDefault(),f.handleMouseUp()}),this.group.addEventListener("mouseout",function(a){a.preventDefault();var b=f.graph._getXY(a);f.handleMouseOutLocal(b.x,b.y,a)}),this.labels=[],this.group.addEventListener("click",function(a){a.preventDefault();var b=f.graph._getXY(a);f.addLabel(f.getVal(b.x-f.graph.getPaddingLeft()))}),this.axisRand=Math.random(),this.clip=document.createElementNS(this.graph.ns,"clipPath"),this.clip.setAttribute("id","_clip"+this.axisRand),this.graph.defs.appendChild(this.clip),this.clipRect=document.createElementNS(this.graph.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse")},handleMouseMoveLocal:function(){},addLabel:function(a){for(var b=0,c=this.series.length;c>b;b++)this.series[b].currentAction===!1&&this.series[b].addLabelObj({x:a})},hide:function(){return this.options.display=!1,this},show:function(){return this.options.display=!0,this},setDisplay:function(a){return this.options.display=!!a,this},isDisplayed:function(){return this.options.display},setLineAt0:function(a){this.options.lineAt0=!!a},adapt0To:function(a,b,c){this._adapt0To=a?[a,b,c]:!1},getAdapt0ToMin:function(){return"min"==this._adapt0To[1]?this._adapt0To[2]:this._adapt0To[2]*(this._adapt0To[0].getMinValue()/this._adapt0To[0].getMaxValue())},getAdapt0ToMax:function(){return"max"==this._adapt0To[1]?this._adapt0To[2]:this._adapt0To[2]*(this._adapt0To[0].getMaxValue()/this._adapt0To[0].getMinValue())},setAxisDataSpacing:function(a,b){this.options.axisDataSpacing.min=a,this.options.axisDataSpacing.max=b||a},setAxisDataSpacingMin:function(a){this.options.axisDataSpacing.min=a},setAxisDataSpacingMax:function(a){this.options.axisDataSpacing.max=a},setMinPx:function(a){this.minPx=a},setMaxPx:function(a){this.maxPx=a},getMinPx:function(){return this.isFlipped()?this.maxPx:this.minPx},getMaxPx:function(){return this.isFlipped()?this.minPx:this.maxPx},getMathMaxPx:function(){return this.maxPx},getMinValue:function(){return this._adapt0To?this.getAdapt0ToMin():this.options.forcedMin||(0===this.options.forcedMin?0:this.dataMin)},getMaxValue:function(){return this._adapt0To?this.getAdapt0ToMax():this.options.forcedMax||(0===this.options.forcedMax?0:this.dataMax)},setMinValueData:function(a){this.dataMin=a},setMaxValueData:function(a){this.dataMax=a},forceMin:function(a){return this.options.forcedMin=a,this},forceMax:function(a){return this.options.forcedMax=a,this},getNbTicksPrimary:function(){return this.options.nbTicksPrimary},getNbTicksSecondary:function(){return this.options.nbTicksSecondary},handleMouseMove:function(a){this.mouseVal=this.getVal(a)},handleMouseWheel:function(a){a=Math.min(.2,Math.max(-.2,a));var b;b="min"==this.options.wheelBaseline?this.getActualMin():"max"==this.options.wheelBaseline?this.getActualMax():this.options.wheelBaseline,this._doZoomVal((this.getActualMax()-b)*(1+a)+b,(this.getActualMin()-b)*(1+a)+b),this.graph.redraw()},handleMouseUp:function(){if("labelDragging"==this.currentAction||"labelDraggingMain"==this.currentAction){for(var a=0,b=this.series.length;b>a;a++)this.series[a].handleLabelUp();this.currentAction=!1}},zoom:function(a,b){return this._doZoomVal(a,b)},_doZoomVal:function(a,b,c){return this._doZoom(this.getPx(a),this.getPx(b),a,b,c)},_doZoom:function(a,b,c,d,e){var c=void 0!==c?c:this.getVal(a),d=void 0!==d?d:this.getVal(b);this.setCurrentMin(Math.min(c,d)),this.setCurrentMax(Math.max(c,d)),this._hasChanged=!0,this.options.onZoom&&!e&&this.options.onZoom(this.currentAxisMin,this.currentAxisMax)},getSerieShift:function(){return this._serieShift},getSerieScale:function(){return this._serieScale},getMouseVal:function(){return this.mouseVal},isFlipped:function(){return this.options.flipped},getUnitPerTick:function(a,b,c){var d=a/q;b=b?Math.min(b,a/10):a/10;var e=c/b;if("time"==this.options.unitModification){var f=this.getModifiedValue(this.getMaxValue());umin=3600>f?0:86400>f?1:2;for(var g=!1,h=0,i=this.unitModificationTimeTicks.length;i>h;h++){for(var j=0,k=this.unitModificationTimeTicks[h][1].length;k>j;j++)if(e<this.unitModificationTimeTicks[h][0]*this.unitModificationTimeTicks[h][1][j]){g=!0;break}if(g)break}p=h!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[h][0]*this.unitModificationTimeTicks[h][1][j]:1}else{var l=Math.floor(Math.log(e)/Math.log(10)),m=e*Math.pow(10,-l);this.decimals=-l;for(var n=[1,2,5,10],o=!1,h=n.length-1;h>=0;h--)(!o||Math.abs(n[h]-m)<Math.abs(o-m))&&(o=n[h]);var p=o*Math.pow(10,l)}var q=c/p,d=a/b;return[p,q,d]},setMinMaxToFitSeries:function(){var a=this.getInterval();this.currentAxisMin=this.getMinValue()-this.options.axisDataSpacing.min*a,this.currentAxisMax=this.getMaxValue()+this.options.axisDataSpacing.max*a,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,this.currentAxisMin),this.currentAxisMax=Math.max(1e-50,this.currentAxisMax)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0)},getInterval:function(){return this.getMaxValue()-this.getMinValue()},_getActualInterval:function(){return this.getActualMax()-this.getActualMin()},getActualMin:function(){return this.currentAxisMin==this.currentAxisMax?this.currentAxisMin-1:this.currentAxisMin},getActualMax:function(){return this.currentAxisMax==this.currentAxisMin?this.currentAxisMax+1:this.currentAxisMax},setCurrentMin:function(a){this.currentAxisMin=a,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,a))},setCurrentMax:function(a){this.currentAxisMax=a,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,a))},flip:function(a){return this.options.flipped=a,this},_draw:function(){var a;switch(this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;case 1:this.tickPx1=0,this.tickPx2=2}for(;this.groupTicks.firstChild;)this.groupTicks.removeChild(this.groupTicks.firstChild);for(;this.groupTickLabels.firstChild;)this.groupTickLabels.removeChild(this.groupTickLabels.firstChild);for(;this.groupGrids.firstChild;)this.groupGrids.removeChild(this.groupGrids.firstChild);(void 0==this.currentAxisMin||void 0==!this.currentAxisMax)&&this.setMinMaxToFitSeries();var b=this.maxPx-this.minPx,c=this._getActualInterval();if(!this.options.display)return this.line.setAttribute("display","none"),0;if(this.line.setAttribute("display","block"),this.options.hideTicks)var d=0;else if(this.options.logScale)var d=this.drawLogTicks();else{this.options.scientificTicks&&(this.scientificExp=Math.floor(Math.log(Math.max(Math.abs(this.getActualMax()),Math.abs(this.getActualMin())))/Math.log(10)));var d=this.drawLinearTicksWrapper(b,c)}var e;return(e=this.getLabel())&&(this.labelTspan.textContent=e,this.getExponentialLabelFactor()?(this.expTspan.nodeValue="x10",this.expTspanExp.nodeValue=this.getExponentialLabelFactor(),a=!0):this.options.scientificTicks?(this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExp,a=!0):a=!1,this.expTspan.setAttribute("display",a?"block":"none"),this.expTspanExp.setAttribute("display",a?"block":"none")),this.drawSpecifics(),this.options.lineAt0&&this.getActualMin()<0&&this.getActualMax()>0&&this._draw0Line(this.getPx(0)),d+(e?20:0)},drawLinearTicksWrapper:function(a,b){var c=this.getNbTicksPrimary(),d=this.getUnitPerTick(a,c,b),e=this.secondaryTicks();if(e)var e=e;return this.drawTicks(d,e)},setTickLabelRatio:function(a){this.options.ticklabelratio=a},draw:function(){this._widthLabels=0;var a=this._draw();return this._widthLabels+=a,a},drawTicks:function(a,b){var c,d,e,f=a[0],g=this.getActualMin(),h=this.getActualMax(),i=0;for(b&&(c=f/b),d=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-g)/f)*f:Math.floor(g/f)*f,this.incrTick=a[0],this.resetTicks();h>d&&(i++,!(i>200));){if(b){e=d+c;for(var j=0;d+f>e&&(j++,!(j>100));)g>e||e>h?e+=c:(this.drawTick(e,!1,Math.abs(e-d-f/2)<1e-4?3:2),e+=c)}g>d||d>h?d+=a[0]:(this.drawTick(d,!0,4),d+=a[0])}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick},resetTicks:function(){},secondaryTicks:function(){return this.options.nbTicksSecondary},drawLogTicks:function(){var a=this.getActualMin(),b=this.getActualMax(),c=Math.min(a,b),b=Math.max(a,b),d={fontSize:"1.0em",exponential:!0,overwrite:!1};0>c&&(c=0);for(var e,f=0==c?0:Math.floor(Math.log(c)/Math.log(10)),c=1;(e=c*Math.pow(10,f))<b;)1==c&&e>a&&this.drawTick(e,!0,5,d),10==c?(c=1,f++):(1!=c&&e>a&&this.drawTick(e,!0,2,{overwrite:c,fontSize:"0.6em"}),c++);return 5},getPx:function(a){return this.getPos(a)},getPos:function(a){if(this.options.logScale){if(0>a)return;var a=(Math.log(a)-Math.log(this.getActualMin()))/(Math.log(this.getActualMax())-Math.log(this.getActualMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx();return a}return(a-this.getActualMin())/this._getActualInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()},getRelPx:function(a){return a/this._getActualInterval()*(this.getMaxPx()-this.getMinPx())},getRelVal:function(a){return a/(this.getMaxPx()-this.getMinPx())*this._getActualInterval()},getVal:function(a){return(a-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this._getActualInterval()+this.getActualMin()},valueToText:function(a){if(this.options.scientificTicks)return a/=Math.pow(10,this.scientificExp),a.toFixed(1);if(a=a*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(a-=this.dataMin),this.options.ticklabelratio&&(a*=this.options.ticklabelratio),this.options.unitModification)return a=this.modifyUnit(a,this.options.unitModification);var b=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return a.toFixed(b>0?b:0)},getModifiedValue:function(a){return this.options.ticklabelratio&&(a*=this.options.ticklabelratio),this.options.shiftToZero&&(a-=this.getMinValue()*(this.options.ticklabelratio||1)),a},modifyUnit:function(a,b){switch(b){case"time":var c=this.getModifiedValue(this.getMaxValue()),d=[[60,"min"],[3600,"h"],[86400,"d"]];3600>c?umin=0:86400>c?umin=1:2592e3>c&&(umin=2)}var e,f=this.incrTick,g="";for(a/=d[umin][0],e=Math.floor(a),g=e+d[umin][1],umin--;f<1*d[umin+1][0]&&umin>-1;)first=!1,a=(a-e)*d[umin+1][0]/d[umin][0],e=Math.round(a),g+=" "+e+d[umin][1],umin--;return g},getExponentialFactor:function(){return this.options.exponentialFactor},setExponentialFactor:function(a){this.options.exponentialFactor=a},setExponentialLabelFactor:function(a){this.options.exponentialLabelFactor=a},getExponentialLabelFactor:function(){return this.options.exponentialLabelFactor},setLabel:function(a){return this.options.labelValue=a,this},getLabel:function(){return this.options.labelValue},setShift:function(a,b){this.shift=a,this.totalDimension=b,this._setShift()},getShift:function(){return this.shift},setTickPosition:function(a){switch(a){case 3:case"outside":a=3;break;case 2:case"centered":a=2;break;default:case 1:case"inside":a=1}return this.options.tickPosition=a,this},toggleGrids:function(a){return this.options.primaryGrid=a,this.options.secondaryGrid=a,this},togglePrimaryGrid:function(a){return this.options.primaryGrid=a,this},toggleSecondaryGrid:function(a){return this.options.secondaryGrid=a,this},doGridLine:function(a,b,c,d,e){var f=document.createElementNS(this.graph.ns,"line");f.setAttribute("shape-rendering","crispEdges"),f.setAttribute("y1",d),f.setAttribute("y2",e),f.setAttribute("x1",b),f.setAttribute("x2",c),f.setAttribute("stroke",a?this.getColorPrimaryGrid():this.getColorSecondaryGrid()),this.groupGrids.appendChild(f)},getColorPrimaryGrid:function(){return"#c0c0c0"},getColorSecondaryGrid:function(){return"#f0f0f0"},setTickContent:function(a,b,c){if(c||(c={}),c.overwrite||!c.exponential)a.textContent=c.overwrite||this.valueToText(b);else{var d=Math.round(Math.log(b)/Math.log(10)),e=Math.floor(b*Math.pow(10,-d));a.textContent=1!=e?e+"x10":"10";var f=document.createElementNS(this.graph.ns,"tspan");f.textContent=d,f.setAttribute("font-size","0.7em"),f.setAttribute("dy",-3),a.appendChild(f)}c.fontSize&&a.setAttribute("font-size",c.fontSize)},removeSerie:function(a){this.series.splice(this.series.indexOf(a),1)},killSeries:function(a){for(var b=0;b<this.series.length;b++)this.series[b].kill(a);this.series=[]},removeSeries:function(){this.killSeries()},handleMouseOutLocal:function(){for(var a=0,b=this.series.length;b>a;a++)this.series[a].hideTrackingMarker()}},b}(b["./jquery"]),b["./graph.axis.x"]=function(a,b){var c=function(a,b,c){this.init(a,c),this.top="top"==b};return a.extend(c.prototype,b.prototype,{getAxisPosition:function(){if(!this.options.display)return 0;var a=(1==this.options.tickPosition?15:25)+2*this.graph.options.fontSize;return this.options.allowedPxSerie&&this.series.length>0&&(a+=this.options.allowedPxSerie),a},getAxisWidthHeight:function(){},_setShift:function(){this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")},getMaxSizeTick:function(){return(this.top?-1:1)*(1==this.options.tickPosition?10:10)},drawTick:function(a,b,c,d){var e=(this.groupTicks,document.createElementNS(this.graph.ns,"line")),f=this.getPos(a);if(void 0!=f){if(e.setAttribute("shape-rendering","crispEdges"),e.setAttribute("x1",f),e.setAttribute("x2",f),e.setAttribute("y1",(this.top?1:-1)*this.tickPx1*c),e.setAttribute("y2",(this.top?1:-1)*this.tickPx2*c),b&&this.options.primaryGrid?this.doGridLine(!0,f,f,0,this.graph.getDrawingHeight()):!b&&this.options.secondaryGrid&&this.doGridLine(!1,f,f,0,this.graph.getDrawingHeight()),e.setAttribute("stroke","black"),this.groupTicks.appendChild(e),b){var g=(this.groupTickLabels,document.createElementNS(this.graph.ns,"text"));g.setAttribute("x",f),g.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?8:20)+(this.top?10:0))),g.setAttribute("text-anchor","middle"),g.style.dominantBaseline="hanging",this.setTickContent(g,a,d),this.groupTickLabels.appendChild(g)}this.ticks.push(e)}},drawSpecifics:function(){this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("x",Math.abs(this.getMaxPx()-this.getMinPx())/2+this.getMinPx()),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:15)+this.graph.options.fontSize)),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging"},drawSeries:function(){if(this.shift){this.rectEvent.setAttribute("y",this.top?-this.shift:0),this.rectEvent.setAttribute("height",this.totalDimension),this.rectEvent.setAttribute("x",Math.min(this.getMinPx(),this.getMaxPx())),this.rectEvent.setAttribute("width",Math.abs(this.getMinPx()-this.getMaxPx())),this.clipRect.setAttribute("y",this.top?-this.shift:0),this.clipRect.setAttribute("height",this.totalDimension),this.clipRect.setAttribute("x",Math.min(this.getMinPx(),this.getMaxPx())),this.clipRect.setAttribute("width",Math.abs(this.getMinPx()-this.getMaxPx()));for(var a=0,b=this.series.length;b>a;a++)this.series[a].draw()}},_draw0Line:function(a){this._0line=document.createElementNS(this.graph.ns,"line"),this._0line.setAttribute("x1",a),this._0line.setAttribute("x2",a),this._0line.setAttribute("y1",0),this._0line.setAttribute("y2",this.getMaxPx()),this._0line.setAttribute("stroke","black"),this.groupGrids.appendChild(this._0line)},handleMouseMoveLocal:function(a){a-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(a)},isXY:function(){return"x"}}),c}(b["./jquery"],b["./graph.axis"]),b["./graph.axis.y"]=function(b){var c=function(a,b,c){this.init(a,c),this.leftright=b,this.left="left"==b};return a.extend(c.prototype,b.prototype,{getAxisPosition:function(){var a=0;return this.options.display?(this.options.allowedPxSerie&&this.series.length>0&&(a=this.options.allowedPxSerie),a):0},getAxisWidthHeight:function(){return 15},resetTicks:function(){this.longestTick=[!1,0]},getMaxSizeTick:function(){return(this.longestTick[0]?this.longestTick[0].getComputedTextLength():0)+10},drawTick:function(a,b,c,d){var e,f=(this.groupTicks,this.getPos(a));if(void 0!=f){var g=document.createElementNS(this.graph.ns,"line");if(g.setAttribute("shape-rendering","crispEdges"),g.setAttribute("y1",f),g.setAttribute("y2",f),g.setAttribute("x1",(this.left?1:-1)*this.tickPx1*c),g.setAttribute("x2",(this.left?1:-1)*this.tickPx2*c),g.setAttribute("stroke","black"),b&&this.options.primaryGrid?this.doGridLine(!0,0,this.graph.getDrawingWidth(),f,f):!b&&this.options.secondaryGrid&&this.doGridLine(!1,0,this.graph.getDrawingWidth(),f,f),this.groupTicks.appendChild(g),b){{this.groupTickLabels}e=document.createElementNS(this.graph.ns,"text"),e.setAttribute("y",f),e.setAttribute("x",this.left?-10:10),this.left?e.setAttribute("text-anchor","end"):e.setAttribute("text-anchor","start"),e.style.dominantBaseline="central",this.setTickContent(e,a,d),this.groupTickLabels.appendChild(e),String(e.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=e,this.longestTick[1]=String(e.textContent).length)}this.ticks.push(g)}},drawSpecifics:function(){this.label.setAttribute("transform","translate("+(this.left?1:-1)*(-this.widthHeightTick-10-5)+", "+(Math.abs(this.getMaxPx()-this.getMinPx())/2+Math.min(this.getMinPx(),this.getMaxPx()))+") rotate(-90)"),this.left||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging"),this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0)},drawSeries:function(){if(this.shift){this.rectEvent.setAttribute("x",this.left?-this.shift:0),this.rectEvent.setAttribute("width",this.totalDimension),this.rectEvent.setAttribute("y",Math.min(this.getMinPx(),this.getMaxPx())),this.rectEvent.setAttribute("height",Math.abs(this.getMinPx()-this.getMaxPx())),this.clipRect.setAttribute("x",-this.shift),this.clipRect.setAttribute("width",this.totalDimension),this.clipRect.setAttribute("y",Math.min(this.getMinPx(),this.getMaxPx())),this.clipRect.setAttribute("height",Math.abs(this.getMinPx()-this.getMaxPx()));for(var a=0,b=this.series.length;b>a;a++)this.series[a].draw()}},_setShift:function(){var a=this.isLeft()?this.getShift():this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-this.getShift();this.group.setAttribute("transform","translate("+a+" 0)")},isLeft:function(){return this.left},isRight:function(){return!this.left},isFlipped:function(){return!this.options.flipped},_draw0Line:function(a){this._0line=document.createElementNS(this.graph.ns,"line"),this._0line.setAttribute("y1",a),this._0line.setAttribute("y2",a),this._0line.setAttribute("x1",0),this._0line.setAttribute("x2",this.graph.getDrawingWidth()),this._0line.setAttribute("stroke","black"),this.groupGrids.appendChild(this._0line)},handleMouseMoveLocal:function(a,b){b-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(b)},scaleToFitAxis:function(a,b,c,d){c||(c=a.getActualMin()),d||(d=a.getActualMax()),"number"==typeof b&&(d=c,c=b,b=!1);for(var e=-1/0,f=0,g=0,h=this.graph.series.length;h>g;g++)this.graph.series[g].isShown()&&this.graph.series[g]!=b&&this.graph.series[g].getXAxis()==a&&this.graph.series[g].getYAxis()===this&&(f++,e=Math.max(e,this.graph.series[g].getMax(c,d)));0==f?this.setMinMaxToFitSeries():this._doZoomVal(0,e)},isXY:function(){return"y"}}),c}(b["./graph.axis"]),b["./graph.axis.broken"]=function(){var a=function(){};return a.prototype={getNbTicksPrimary:function(){return this.options.nbTicksPrimary},getNbTicksSecondary:function(){return this.options.nbTicksSecondary},getBreakingSpacing:function(){return this.options.breakingSpacing||5},setBrokenRanges:function(a){this.ranges=[],this._broken=!0;var b=this,c=(a.length,0);a.map(function(a){c+=a[1]-a[0]}),a.map(function(a){b.ranges.push({ratio:(a[1]-a[0])/c,diff:a[1]-a[0],min:a[0],max:a[1],minPx:void 0,maxPx:void 0})}),b.totalValRanges=c},drawLinearTicksWrapper:function(){var a=this.ranges.length-1,b=this.maxPx-this.minPx-a*this.getBreakingSpacing(),c=this.getNbTicksPrimary(),d=this.getUnitPerTick(b,c,this.totalValRanges),e=this.secondaryTicks();return this.drawTicks(d,e)},setTickLabelRatio:function(a){this.options.ticklabelratio=a},drawTicks:function(a,b){var c=this,d=a[0],e=this.getMinPx(),f=(this.getMaxPx(),e),g=this.ranges.length-1,h=this.getMaxPx()-this.getMinPx()-g*this.getBreakingSpacing()*(c.isFlipped()?-1:1);return this.resetTicks(),this.ranges.map(function(g,i){g.minPx=0==i?e:f+c.getBreakingSpacing()*(c.isFlipped()?-1:1),g.maxPx=g.minPx+h*g.ratio,f=g.maxPx,i>0&&(g.brokenMin||(g.brokenMin=c.createBrokenLine(g),c.group.appendChild(g.brokenMin)),c.placeBrokenLine(g,g.brokenMin,g.minPx)),i<c.ranges.length-1&&(g.brokenMax||(g.brokenMax=c.createBrokenLine(g),c.group.appendChild(g.brokenMax)),c.placeBrokenLine(g,g.brokenMax,g.maxPx));var j,k,l,m=g.min,n=g.max;for(b&&(j=d/b),k=Math.floor(m/d)*d;n>k;){if(b)for(l=k+j;k+d>l;)m>l||l>n?l+=j:(c.drawTick(l,!1,Math.abs(l-k-d/2)<1e-4?3:2),l+=j);m>k||k>n?k+=a[0]:(c.drawTick(k,!0,4),k+=a[0])}}),this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick},secondaryTicks:function(){return this.options.nbTicksSecondary},drawLogTicks:function(){return 0},getPx:function(a){return this.getPos(a)},getPos:function(a){for(var b=0,c=this.ranges.length;c>b;b++)if(a<=this.ranges[b].max&&a>=this.ranges[b].min)return(a-this.ranges[b].min)/this.ranges[b].diff*(this.ranges[b].maxPx-this.ranges[b].minPx)+this.ranges[b].minPx},getRelPx:function(a){return a/this._getActualInterval()*(this.getMaxPx()-this.getMinPx())},getRelVal:function(a){return a/(this.maxPx-this.minPx-nbIntervals*this.getBreakingSpacing())*this.totalValRanges},getVal:function(a){for(var b=0,c=this.ranges.length;c>b;b++)if(a<=this.ranges[b].maxPx&&a>=this.ranges[b].minPx)return(a-this.ranges[b].minPx)/(this.ranges[b].maxPx-this.ranges[b].minPx)*(this.ranges[b].max-this.ranges[b].min)+this.ranges[b].min},sign:function(a){return a>0?1:-1},getBoundary:function(a,b){for(var c=0,d=this.ranges.length;d>c;c++)if(a<=this.ranges[c].max&&a>=this.ranges[c].min)return b>this.ranges[c].max?this.ranges[c].max:this.ranges[c].min},getInRange:function(a,b){for(var c=0,d=this.ranges.length;d>c;c++)if(a<=this.ranges[c].max&&a>=this.ranges[c].min)return(b-this.ranges[c].min)/this.ranges[c].diff*(this.ranges[c].maxPx-this.ranges[c].minPx)+this.ranges[c].minPx},getRange:function(a){for(var b=0,c=this.ranges.length;c>b;b++)if(a<=this.ranges[b].max&&a>=this.ranges[b].min)return[b,(a-this.ranges[b].min)/this.ranges[b].diff*(this.ranges[b].maxPx-this.ranges[b].minPx)+this.ranges[b].minPx];return[void 0,void 0]}},a}(b["./jquery"]),b["./graph.axis.x.broken"]=function(b,c){var d=function(a,b,c){this.init(a,c),this.top="top"==b};return a.extend(d.prototype,b.prototype,c.prototype,{createBrokenLine:function(){var a=document.createElementNS(this.graph.ns,"line");return a.setAttribute("x1","-3"),a.setAttribute("x2","3"),a.setAttribute("y1","-5"),a.setAttribute("y2","5"),a.setAttribute("stroke","black"),a},placeBrokenLine:function(a,b,c){b.setAttribute("transform","translate("+c+", 0)")}}),d}(b["./graph.axis.x"],b["./graph.axis.broken"]),b["./graph.axis.y.broken"]=function(b,c){var d=function(a,b,c){this.init(a,c),this.leftright=b,this.left="left"==b};return a.extend(d.prototype,b.prototype,c.prototype,{createBrokenLine:function(){var a=document.createElementNS(this.graph.ns,"line");return a.setAttribute("x1","-5"),a.setAttribute("x2","5"),a.setAttribute("y1","-3"),a.setAttribute("y2","3"),a.setAttribute("stroke","black"),a},placeBrokenLine:function(a,b,c){b.setAttribute("transform","translate(0, "+c+")")}}),d}(b["./graph.axis.y"],b["./graph.axis.broken"]),b["./graph.xaxis.time"]=function(b){function c(a,b){return Math.round(a/b)*b}function d(a,b){switch(b.unit){case"s":a.setSeconds(c(a.getSeconds(),b.increment)),a.setMilliseconds(0);break;case"i":a.setMinutes(c(a.getMinutes(),b.increment)),a.setSeconds(0),a.setMilliseconds(0);break;case"h":a.setHours(c(a.getHours(),b.increment)),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);break;case"d":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(c(a.getDate(),b.increment));break;case"m":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(c(a.getMonth(),b.increment));break;case"y":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(0)}return a}function e(a,b){switch(b.unit){case"s":a.setSeconds(a.getSeconds()+b.increment),a.setMilliseconds(0);break;case"i":a.setMinutes(a.getMinutes()+b.increment),a.setSeconds(0),a.setMilliseconds(0);break;case"h":a.setHours(a.getHours()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);break;case"d":a.setDate(a.getDate()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0);break;case"m":a.setMonth(a.getMonth()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1);break;case"y":a.setYear(a.getYear()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(0)}return a}function f(a,b,c){if(a.groups[b][c])return a.groups[b][c].group.setAttribute("display","block"),a.groups[b][c];var d={group:document.createElementNS(a.graph.ns,"g"),text:document.createElementNS(a.graph.ns,"text")},e=document.createElementNS(a.graph.ns,"line");switch(e.setAttribute("stroke","black"),e.setAttribute("y1",0),b){case 2:e.setAttribute("y2",6),d.text.setAttribute("y",15),d.line=e,d.group.appendChild(d.line);break;case 1:e.setAttribute("y2",20),d.text.setAttribute("y",10),d.line1=e,d.line2=e.cloneNode(),d.group.appendChild(d.line1),d.group.appendChild(d.line2)}return d.text.setAttribute("text-anchor","middle"),d.text.setAttribute("dominant-baseline","middle"),d.group.appendChild(d.text),a.getWrapper(b).appendChild(d.group),a.groups[b][c]=d}function g(a,b,c){for(;c<a.groups[b].length;c++)h(a.groups[b][c])}function h(a){a.group.setAttribute("display","none")}function i(a,b){return l(a,b)}function j(a,b,c,d,e,f,g){switch(a){case 1:var i=Math.max(d,Math.min(e,f)),j=Math.max(d,Math.min(e,g));b.line1.setAttribute("x1",i),b.line2.setAttribute("x1",j),b.line1.setAttribute("x2",i),b.line2.setAttribute("x2",j),b.text.setAttribute("x",(i+j)/2),8*c.length>j-i&&(c=""),b.text.textContent=c;break;case 2:if(d>f||f>e)return void h(b);b.line.setAttribute("x1",f),b.line.setAttribute("x2",f),b.text.setAttribute("x",f),b.text.textContent=c}}var k=function(a,b,c){this.wrapper={1:document.createElementNS(a.ns,"g"),2:document.createElementNS(a.ns,"g")},this.groups={1:[],2:[]};var d=document.createElementNS(a.ns,"rect");d.setAttribute("fill","#c0c0c0"),d.setAttribute("stroke","#808080"),d.setAttribute("height","20"),d.setAttribute("x","0"),d.setAttribute("y","0"),this.rect=d,this.wrapper[1].appendChild(this.rect),this.init(a,c),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")},l=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a},e=function(a,b){var c=new Date(a[b+"FullYear"](),0,1);return Math.ceil(((a-c)/864e5+c[b+"Day"]()+1)/7)};return function(f,g,h){var i=l;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(f)||/\d/.test(f)||(g=f,f=void 0),f=f?new Date(f):new Date,isNaN(f))throw SyntaxError("invalid date");g=String(i.masks[g]||g||i.masks["default"]),"UTC:"==g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=f[j+"Date"](),m=f[j+"Day"](),n=f[j+"Month"](),o=f[j+"FullYear"](),p=f[j+"Hours"](),q=f[j+"Minutes"](),r=f[j+"Seconds"](),s=f[j+"Milliseconds"](),t=h?0:f.getTimezoneOffset(),u={d:k,dd:d(k),ddd:i.i18n.dayNames[m],dddd:i.i18n.dayNames[m+7],m:n+1,mm:d(n+1),mmm:i.i18n.monthNames[n],mmmm:i.i18n.monthNames[n+12],yy:String(o).slice(2),yyyy:o,h:p%12||12,hh:d(p%12||12),H:p,HH:d(p),M:q,MM:d(q),s:r,ss:d(r),l:d(s,3),L:d(s>99?Math.round(s/10):s),t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:h?"UTC":(String(f).match(b)||[""]).pop().replace(c,""),o:(t>0?"-":"+")+d(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!=10)*k%10],W:e(f,j)};return g.replace(a,function(a){return a in u?u[a]:a.slice(1,a.length-1)})}}();return l.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},k.prototype=a.extend(!0,k.prototype,b.prototype,{draw:function(){(void 0==this.currentAxisMin||void 0==!this.currentAxisMax)&&this.setMinMaxToFitSeries(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);
var a=this.maxPx-this.minPx,b=this._getActualInterval(),c=b/a,h=this.getActualMax(),k=this.getActualMin();if(this.rect.setAttribute("width",a),this.rect.setAttribute("x",this.minPx),!h||!k)return 0;var l,m=[{threshold:1e3,increments:{1:{increment:1,unit:"d",format:"HH:MM (dd/mm)"},2:{increment:1,unit:"i",format:"MM:ss"}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:4e3,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"m",format:"mmmm"},2:{increment:7,unit:"d",format:"dd"}}}];for(s=0;s<m.length;s++)if(m[s].threshold>c){l=m[s];break}var n,o,p=0;for(p=1;2>=p;p++){var q=new Date(k),r=d(q,l.increments[p]),s=0;do{n=this.getPx(r.getTime());var t=i(r,l.increments[p].format),u=f(this,p,s);r=e(r,l.increments[p]),o=this.getPx(r.getTime()),j(p,u,t,this.getMinPx(),this.getMaxPx(),n,o),s++}while(r.getTime()<h);g(this,p,s)}},getWrapper:function(a){return this.wrapper[a]},setShift:function(a){this.shift=a,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")},getAxisPosition:function(){return 60},drawSeries:function(){}}),k}(b["./graph.axis"]),b["./graph.legend"]=function(){var b={frame:!1,backgroundColor:"transparent",frameWidth:0,frameColor:"transparent",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,movable:!1,shapesToggleable:!0,isSerieHideable:!0},c=function(c,d){this.options=a.extend({},b,d),this.graph=c,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.svg.appendChild(this.subG),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.applyStyle()};return c.prototype={setPosition:function(a,b,c){if(a){var d=this.graph.getPosition(a);"right"==b&&(d.x-=this.width),"bottom"==c&&(d.y-=this.height),this.pos.transformX=d.x,this.pos.transformY=d.y,this._setPosition()}},update:function(){var a=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);for(var b=this.graph.getSeries(),c=0,d=b.length;d>c;c++)!function(d){var e,f,g;e=document.createElementNS(a.graph.ns,"g"),e.setAttribute("transform","translate(0, "+(16*c+a.options.paddingTop)+")"),a.subG.appendChild(e);var f=b[d].getSymbolForLegend(),h=b[d].getMarkerForLegend(),g=b[d].getTextForLegend();e.appendChild(f),h&&e.appendChild(h),e.appendChild(g),e.addEventListener("click",function(){var c=b[d];c.isSelected()&&a.isHideable()?(c.hide(a.isToggleShapes()),a.graph.unselectSerie(c)):c.isShown()?a.graph.selectSerie(c):a.isHideable()&&c.show(a.isToggleShapes())})}(c);var e=this.subG.getBBox();this.width=e.width+this.options.paddingRight+this.options.paddingLeft,this.height=e.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",e.x-this.options.paddingTop),this.rectBottom.setAttribute("y",e.y-this.options.paddingLeft),this.svg.appendChild(this.rect)},isHideable:function(){return this.options.isSerieHideable},isToggleShapes:function(){return this.options.shapesToggleable},getDom:function(){return this.svg},setEvents:function(){var a=this,b=this.pos,c=function(c){a.options.movable&&(b.x=c.clientX,b.y=c.clientY,c.stopPropagation(),c.preventDefault(),a.mousedown=!0,a.graph.elementMoving(a),a.rect.setAttribute("display","block"))},d=function(b){a.handleMouseMove(b)};this.rectBottom.addEventListener("mousedown",c),this.rectBottom.addEventListener("mousemove",d),this.rect.addEventListener("mousemove",d)},handleMouseUp:function(a){a.stopPropagation(),a.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)},handleMouseMove:function(a){if(this.mousedown){var b=this.pos,c=a.clientX-b.x,d=a.clientY-b.y;b.transformX+=c,b.transformY+=d,b.x=a.clientX,b.y=a.clientY,a.stopPropagation(),a.preventDefault(),this._setPosition()}},_setPosition:function(){var a=this.pos;this.svg.setAttribute("transform","translate("+a.transformX+", "+a.transformY+")")},applyStyle:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px")),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},c}(),b["./dynamicdepencies"]=function(){return function(){this.caching={},this.folderMap={},this.load=function(a,c,d){var e=this;if(this.caching[a]||(this.caching[a]={}),Array.isArray(c))return void c.map(function(b){e.load(a,b,d)});var f=c;return this.folderMap[a]&&(c=this.folderMap[a]+c),this.caching[a][c]?d(this.caching[a][c],c,f)||this.caching[a][c]:"undefined"!=typeof b&&b[c]?d(this.caching[a][c]=b[c],c,f)||this.caching[a][c]:void("undefined"!=typeof require?require([c],function(b){d(e.caching[a][c]=b,c,f)}):console.warn("Could not load file "+c+" of type "+a))},this.configure=function(a){this.folderMap=a||{}}}}(),b["./graph.core"].getBuild=function(a){return b[a]},b["./graph.core"]};if("function"==typeof define&&define.amd)define(["jquery"],function(a){return b(a)});else if(a){if(!a.jQuery)throw"jQuery has not been loaded. Abort graph initialization.";a.Graph=b(a.jQuery)}});