/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.0.52, Date: 2017-11-09T14:36Z */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Graph=b():a.Graph=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){c(1),a.exports=c(298)},function(a,b,c){(function(a){"use strict";function b(a,b,c){a[b]||Object[d](a,b,{writable:!0,configurable:!0,value:c})}if(c(2),c(293),c(295),a._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");a._babelPolyfill=!0;var d="defineProperty";b(String.prototype,"padLeft","".padStart),b(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(a){[][a]&&b(Array,a,Function.call.bind([][a]))})}).call(b,function(){return this}())},function(a,b,c){c(3),c(52),c(53),c(54),c(55),c(57),c(60),c(61),c(62),c(63),c(64),c(65),c(66),c(67),c(68),c(70),c(72),c(74),c(76),c(79),c(80),c(81),c(85),c(87),c(89),c(92),c(93),c(94),c(95),c(97),c(98),c(99),c(100),c(101),c(102),c(103),c(105),c(106),c(107),c(109),c(110),c(111),c(113),c(114),c(115),c(116),c(117),c(118),c(119),c(120),c(121),c(122),c(123),c(124),c(125),c(126),c(131),c(132),c(136),c(137),c(138),c(139),c(141),c(142),c(143),c(144),c(145),c(146),c(147),c(148),c(149),c(150),c(151),c(152),c(153),c(154),c(155),c(156),c(157),c(159),c(160),c(166),c(167),c(169),c(170),c(171),c(175),c(176),c(177),c(178),c(179),c(181),c(182),c(183),c(184),c(187),c(189),c(190),c(191),c(193),c(195),c(197),c(198),c(199),c(201),c(202),c(203),c(204),c(211),c(214),c(215),c(217),c(218),c(221),c(222),c(224),c(225),c(226),c(227),c(228),c(229),c(230),c(231),c(232),c(233),c(234),c(235),c(236),c(237),c(238),c(239),c(240),c(241),c(242),c(244),c(245),c(246),c(247),c(248),c(249),c(251),c(252),c(253),c(254),c(255),c(256),c(257),c(258),c(260),c(261),c(263),c(264),c(265),c(266),c(269),c(270),c(271),c(272),c(273),c(274),c(275),c(276),c(278),c(279),c(280),c(281),c(282),c(283),c(284),c(285),c(286),c(287),c(288),c(291),c(292),a.exports=c(9)},function(a,b,c){"use strict";var d=c(4),e=c(5),f=c(6),g=c(8),h=c(18),i=c(22).KEY,j=c(7),k=c(23),l=c(24),m=c(19),n=c(25),o=c(26),p=c(27),q=c(29),r=c(42),s=c(45),t=c(12),u=c(32),v=c(16),w=c(17),x=c(46),y=c(49),z=c(51),A=c(11),B=c(30),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(a,b,c){return a===P&&W(O,b,c),t(a),b=v(b,!0),t(c),e(N,b)?(c.enumerable?(e(a,J)&&a[J][b]&&(a[J][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,J)||D(a,J,w(1,{})),a[J][b]=!0),T(a,b,c)):D(a,b,c)},X=function(a,b){t(a);for(var c,d=r(b=u(b)),e=0,f=d.length;f>e;)W(a,c=d[e++],b[c]);return a},Y=function(a,b){return void 0===b?x(a):X(x(a),b)},Z=function(a){var b=L.call(this,a=v(a,!0));return!(this===P&&e(N,a)&&!e(O,a))&&(!(b||!e(this,a)||!e(N,a)||e(this,J)&&this[J][a])||b)},$=function(a,b){if(a=u(a),b=v(b,!0),a!==P||!e(N,b)||e(O,b)){var c=C(a,b);return!c||!e(N,b)||e(a,J)&&a[J][b]||(c.enumerable=!0),c}},_=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(N,b=c[f++])||b==J||b==i||d.push(b);return d},aa=function(a){for(var b,c=a===P,d=E(c?O:u(a)),f=[],g=0;d.length>g;)!e(N,b=d[g++])||c&&!e(P,b)||f.push(N[b]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===P&&b.call(O,c),e(this,J)&&e(this[J],a)&&(this[J][a]=!1),T(this,a,w(1,c))};return f&&S&&T(P,a,{configurable:!0,set:b}),U(a)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,c(50).f=y.f=_,c(44).f=Z,c(43).f=aa,f&&!c(28)&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);for(var ba=B(n.store),ca=0;ba.length>ca;)p(ba[ca++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(V(a))return q(M,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!V(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&s(b)||(b=function(a,b){if(c&&(b=c.call(this,a,b)),!V(b))return b}),d[1]=b,H.apply(G,d)}}}),F[I][K]||c(10)(F[I],K,F[I].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){var c={}.hasOwnProperty;a.exports=function(a,b){return c.call(a,b)}},function(a,b,c){a.exports=!c(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b){a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b,c){var d=c(4),e=c(9),f=c(10),g=c(18),h=c(20),i="prototype",j=function(a,b,c){var k,l,m,n,o=a&j.F,p=a&j.G,q=a&j.S,r=a&j.P,s=a&j.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(k in c)l=!o&&t&&void 0!==t[k],m=(l?t:c)[k],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,k,m,a&j.U),u[k]!=m&&f(u,k,n),r&&v[k]!=m&&(v[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b){var c=a.exports={version:"2.4.0"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(11),e=c(17);a.exports=c(6)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){var d=c(12),e=c(14),f=c(16),g=Object.defineProperty;b.f=c(6)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b,c){var d=c(13);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){a.exports=!c(6)&&!c(7)(function(){return 7!=Object.defineProperty(c(15)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(13),e=c(4).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){var d=c(13);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){var d=c(4),e=c(10),f=c(5),g=c(19)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(9).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b,c){var d=c(21);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){var d=c(19)("meta"),e=c(13),f=c(5),g=c(11).f,h=0,i=Object.isExtensible||function(){return!0},j=!c(7)(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=a.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},function(a,b,c){var d=c(4),e="__core-js_shared__",f=d[e]||(d[e]={});a.exports=function(a){return f[a]||(f[a]={})}},function(a,b,c){var d=c(11).f,e=c(5),f=c(25)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){var d=c(23)("wks"),e=c(19),f=c(4).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a,b,c){b.f=c(25)},function(a,b,c){var d=c(4),e=c(9),f=c(28),g=c(26),h=c(11).f;a.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},function(a,b){a.exports=!1},function(a,b,c){var d=c(30),e=c(32);a.exports=function(a,b){for(var c,f=e(a),g=d(f),h=g.length,i=0;h>i;)if(f[c=g[i++]]===b)return c}},function(a,b,c){var d=c(31),e=c(41);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){var d=c(5),e=c(32),f=c(36)(!1),g=c(40)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){var d=c(33),e=c(35);a.exports=function(a){return d(e(a))}},function(a,b,c){var d=c(34);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){var d=c(32),e=c(37),f=c(39);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){var d=c(38),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b,c){var d=c(38),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},function(a,b,c){var d=c(23)("keys"),e=c(19);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){var d=c(30),e=c(43),f=c(44);a.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},function(a,b){b.f=Object.getOwnPropertySymbols},function(a,b){b.f={}.propertyIsEnumerable},function(a,b,c){var d=c(34);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){var d=c(12),e=c(47),f=c(41),g=c(40)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(15)("iframe"),d=f.length,e="<",g=">";for(b.style.display="none",c(48).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(e+"script"+g+"document.F=Object"+e+"/script"+g),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){var d=c(11),e=c(12),f=c(30);a.exports=c(6)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){a.exports=c(4).document&&document.documentElement},function(a,b,c){var d=c(32),e=c(50).f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};a.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},function(a,b,c){var d=c(31),e=c(41).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){var d=c(44),e=c(17),f=c(32),g=c(16),h=c(5),i=c(14),j=Object.getOwnPropertyDescriptor;b.f=c(6)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},function(a,b,c){var d=c(8);d(d.S,"Object",{create:c(46)})},function(a,b,c){var d=c(8);d(d.S+d.F*!c(6),"Object",{defineProperty:c(11).f})},function(a,b,c){var d=c(8);d(d.S+d.F*!c(6),"Object",{defineProperties:c(47)})},function(a,b,c){var d=c(32),e=c(51).f;c(56)("getOwnPropertyDescriptor",function(){return function(a,b){return e(d(a),b)}})},function(a,b,c){var d=c(8),e=c(9),f=c(7);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(58),e=c(59);c(56)("getPrototypeOf",function(){return function(a){return e(d(a))}})},function(a,b,c){var d=c(35);a.exports=function(a){return Object(d(a))}},function(a,b,c){var d=c(5),e=c(58),f=c(40)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){var d=c(58),e=c(30);c(56)("keys",function(){return function(a){return e(d(a))}})},function(a,b,c){c(56)("getOwnPropertyNames",function(){return c(49).f})},function(a,b,c){var d=c(13),e=c(22).onFreeze;c(56)("freeze",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(13),e=c(22).onFreeze;c(56)("seal",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(13),e=c(22).onFreeze;c(56)("preventExtensions",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(13);c(56)("isFrozen",function(a){return function(b){return!d(b)||!!a&&a(b)}})},function(a,b,c){var d=c(13);c(56)("isSealed",function(a){return function(b){return!d(b)||!!a&&a(b)}})},function(a,b,c){var d=c(13);c(56)("isExtensible",function(a){return function(b){return!!d(b)&&(!a||a(b))}})},function(a,b,c){var d=c(8);d(d.S+d.F,"Object",{assign:c(69)})},function(a,b,c){"use strict";var d=c(30),e=c(43),f=c(44),g=c(58),h=c(33),i=Object.assign;a.exports=!i||c(7)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},function(a,b,c){var d=c(8);d(d.S,"Object",{is:c(71)})},function(a,b){a.exports=Object.is||function(a,b){return a===b?0!==a||1/a===1/b:a!=a&&b!=b}},function(a,b,c){var d=c(8);d(d.S,"Object",{setPrototypeOf:c(73).set})},function(a,b,c){var d=c(13),e=c(12),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(20)(Function.call,c(51).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b,c){"use strict";var d=c(75),e={};e[c(25)("toStringTag")]="z",e+""!="[object z]"&&c(18)(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},function(a,b,c){var d=c(34),e=c(25)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){var d=c(8);d(d.P,"Function",{bind:c(77)})},function(a,b,c){"use strict";var d=c(21),e=c(13),f=c(78),g=[].slice,h={},i=function(a,b,c){if(!(b in h)){for(var d=[],e=0;e<b;e++)d[e]="a["+e+"]";h[b]=Function("F,a","return new F("+d.join(",")+")")}return h[b](a,c)};a.exports=Function.bind||function(a){var b=d(this),c=g.call(arguments,1),h=function(){var d=c.concat(g.call(arguments));return this instanceof h?i(b,d.length,d):f(b,d,a)};return e(b.prototype)&&(h.prototype=b.prototype),h}},function(a,b){a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){var d=c(11).f,e=c(17),f=c(5),g=Function.prototype,h=/^\s*function ([^ (]*)/,i="name",j=Object.isExtensible||function(){return!0};i in g||c(6)&&d(g,i,{configurable:!0,get:function(){try{var a=this,b=(""+a).match(h)[1];return f(a,i)||!j(a)||d(a,i,e(5,b)),b}catch(a){return""}}})},function(a,b,c){"use strict";var d=c(13),e=c(59),f=c(25)("hasInstance"),g=Function.prototype;f in g||c(11).f(g,f,{value:function(a){if("function"!=typeof this||!d(a))return!1;if(!d(this.prototype))return a instanceof this;for(;a=e(a);)if(this.prototype===a)return!0;return!1}})},function(a,b,c){var d=c(8),e=c(82);d(d.G+d.F*(parseInt!=e),{parseInt:e})},function(a,b,c){var d=c(4).parseInt,e=c(83).trim,f=c(84),g=/^[\-+]?0[xX]/;a.exports=8!==d(f+"08")||22!==d(f+"0x16")?function(a,b){var c=e(String(a),3);return d(c,b>>>0||(g.test(c)?16:10))}:d},function(a,b,c){var d=c(8),e=c(35),f=c(7),g=c(84),h="["+g+"]",i="​",j=RegExp("^"+h+h+"*"),k=RegExp(h+h+"*$"),l=function(a,b,c){var e={},h=f(function(){return!!g[a]()||i[a]()!=i}),j=e[a]=h?b(m):g[a];c&&(e[c]=j),d(d.P+d.F*h,"String",e)},m=l.trim=function(a,b){return a=String(e(a)),1&b&&(a=a.replace(j,"")),2&b&&(a=a.replace(k,"")),a};a.exports=l},function(a,b){a.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(a,b,c){var d=c(8),e=c(86);d(d.G+d.F*(parseFloat!=e),{parseFloat:e})},function(a,b,c){var d=c(4).parseFloat,e=c(83).trim;a.exports=1/d(c(84)+"-0")!==-(1/0)?function(a){var b=e(String(a),3),c=d(b);return 0===c&&"-"==b.charAt(0)?-0:c}:d},function(a,b,c){"use strict";var d=c(4),e=c(5),f=c(34),g=c(88),h=c(16),i=c(7),j=c(50).f,k=c(51).f,l=c(11).f,m=c(83).trim,n="Number",o=d[n],p=o,q=o.prototype,r=f(c(46)(q))==n,s="trim"in String.prototype,t=function(a){var b=h(a,!1);if("string"==typeof b&&b.length>2){b=s?b.trim():m(b,3);var c,d,e,f=b.charCodeAt(0);if(43===f||45===f){if(c=b.charCodeAt(2),88===c||120===c)return NaN}else if(48===f){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var g,i=b.slice(2),j=0,k=i.length;j<k;j++)if(g=i.charCodeAt(j),g<48||g>e)return NaN;return parseInt(i,d)}}return+b};if(!o(" 0o1")||!o("0b1")||o("+0x1")){o=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof o&&(r?i(function(){q.valueOf.call(c)}):f(c)!=n)?g(new p(t(b)),c,o):t(b)};for(var u,v=c(6)?j(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;v.length>w;w++)e(p,u=v[w])&&!e(o,u)&&l(o,u,k(p,u));o.prototype=q,q.constructor=o,c(18)(d,n,o)}},function(a,b,c){var d=c(13),e=c(73).set;a.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},function(a,b,c){"use strict";var d=c(8),e=c(38),f=c(90),g=c(91),h=1..toFixed,i=Math.floor,j=[0,0,0,0,0,0],k="Number.toFixed: incorrect invocation!",l="0",m=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*j[c],j[c]=d%1e7,d=i(d/1e7)},n=function(a){for(var b=6,c=0;--b>=0;)c+=j[b],j[b]=i(c/a),c=c%a*1e7},o=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==j[a]){var c=String(j[a]);b=""===b?c:b+g.call(l,7-c.length)+c}return b},p=function(a,b,c){return 0===b?c:b%2===1?p(a,b-1,c*a):p(a*a,b/2,c)},q=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};d(d.P+d.F*(!!h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c(7)(function(){h.call({})})),"Number",{toFixed:function(a){var b,c,d,h,i=f(this,k),j=e(a),r="",s=l;if(j<0||j>20)throw RangeError(k);if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(r="-",i=-i),i>1e-21)if(b=q(i*p(2,69,1))-69,c=b<0?i*p(2,-b,1):i/p(2,b,1),c*=4503599627370496,b=52-b,b>0){for(m(0,c),d=j;d>=7;)m(1e7,0),d-=7;for(m(p(10,d,1),0),d=b-1;d>=23;)n(1<<23),d-=23;n(1<<d),m(1,1),n(2),s=o()}else m(0,c),m(1<<-b,0),s=o()+g.call(l,j);return j>0?(h=s.length,s=r+(h<=j?"0."+g.call(l,j-h)+s:s.slice(0,h-j)+"."+s.slice(h-j))):s=r+s,s}})},function(a,b,c){var d=c(34);a.exports=function(a,b){if("number"!=typeof a&&"Number"!=d(a))throw TypeError(b);return+a}},function(a,b,c){"use strict";var d=c(38),e=c(35);a.exports=function(a){var b=String(e(this)),c="",f=d(a);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(b+=b))1&f&&(c+=b);return c}},function(a,b,c){"use strict";var d=c(8),e=c(7),f=c(90),g=1..toPrecision;d(d.P+d.F*(e(function(){return"1"!==g.call(1,void 0)})||!e(function(){g.call({})})),"Number",{toPrecision:function(a){var b=f(this,"Number#toPrecision: incorrect invocation!");return void 0===a?g.call(b):g.call(b,a)}})},function(a,b,c){var d=c(8);d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},function(a,b,c){var d=c(8),e=c(4).isFinite;d(d.S,"Number",{isFinite:function(a){return"number"==typeof a&&e(a)}})},function(a,b,c){var d=c(8);d(d.S,"Number",{isInteger:c(96)})},function(a,b,c){var d=c(13),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b,c){var d=c(8);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(a,b,c){var d=c(8),e=c(96),f=Math.abs;d(d.S,"Number",{isSafeInteger:function(a){return e(a)&&f(a)<=9007199254740991}})},function(a,b,c){var d=c(8);d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(a,b,c){var d=c(8);d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(a,b,c){var d=c(8),e=c(86);d(d.S+d.F*(Number.parseFloat!=e),"Number",{parseFloat:e})},function(a,b,c){var d=c(8),e=c(82);d(d.S+d.F*(Number.parseInt!=e),"Number",{parseInt:e})},function(a,b,c){var d=c(8),e=c(104),f=Math.sqrt,g=Math.acosh;d(d.S+d.F*!(g&&710==Math.floor(g(Number.MAX_VALUE))&&g(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:e(a-1+f(a-1)*f(a+1))}})},function(a,b){a.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)}},function(a,b,c){function d(a){return isFinite(a=+a)&&0!=a?a<0?-d(-a):Math.log(a+Math.sqrt(a*a+1)):a}var e=c(8),f=Math.asinh;e(e.S+e.F*!(f&&1/f(0)>0),"Math",{asinh:d})},function(a,b,c){var d=c(8),e=Math.atanh;d(d.S+d.F*!(e&&1/e(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}})},function(a,b,c){var d=c(8),e=c(108);d(d.S,"Math",{cbrt:function(a){return e(a=+a)*Math.pow(Math.abs(a),1/3)}})},function(a,b){a.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:a<0?-1:1}},function(a,b,c){var d=c(8);d(d.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},function(a,b,c){var d=c(8),e=Math.exp;d(d.S,"Math",{cosh:function(a){return(e(a=+a)+e(-a))/2}})},function(a,b,c){var d=c(8),e=c(112);d(d.S+d.F*(e!=Math.expm1),"Math",{expm1:e})},function(a,b){var c=Math.expm1;a.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||c(-2e-17)!=-2e-17?function(a){return 0==(a=+a)?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:c},function(a,b,c){var d=c(8),e=c(108),f=Math.pow,g=f(2,-52),h=f(2,-23),i=f(2,127)*(2-h),j=f(2,-126),k=function(a){return a+1/g-1/g};d(d.S,"Math",{fround:function(a){var b,c,d=Math.abs(a),f=e(a);return d<j?f*k(d/j/h)*j*h:(b=(1+h/g)*d,c=b-(b-d),c>i||c!=c?f*(1/0):f*c)}})},function(a,b,c){var d=c(8),e=Math.abs;d(d.S,"Math",{hypot:function(a,b){for(var c,d,f=0,g=0,h=arguments.length,i=0;g<h;)c=e(arguments[g++]),i<c?(d=i/c,f=f*d*d+1,i=c):c>0?(d=c/i,f+=d*d):f+=c;return i===1/0?1/0:i*Math.sqrt(f)}})},function(a,b,c){var d=c(8),e=Math.imul;d(d.S+d.F*c(7)(function(){return e(4294967295,5)!=-5||2!=e.length}),"Math",{imul:function(a,b){var c=65535,d=+a,e=+b,f=c&d,g=c&e;return 0|f*g+((c&d>>>16)*g+f*(c&e>>>16)<<16>>>0)}})},function(a,b,c){var d=c(8);d(d.S,"Math",{log10:function(a){return Math.log(a)/Math.LN10}})},function(a,b,c){var d=c(8);d(d.S,"Math",{log1p:c(104)})},function(a,b,c){var d=c(8);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(a,b,c){var d=c(8);d(d.S,"Math",{sign:c(108)})},function(a,b,c){var d=c(8),e=c(112),f=Math.exp;d(d.S+d.F*c(7)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(e(a)-e(-a))/2:(f(a-1)-f(-a-1))*(Math.E/2)}})},function(a,b,c){var d=c(8),e=c(112),f=Math.exp;d(d.S,"Math",{tanh:function(a){var b=e(a=+a),c=e(-a);return b==1/0?1:c==1/0?-1:(b-c)/(f(a)+f(-a))}})},function(a,b,c){var d=c(8);d(d.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})},function(a,b,c){var d=c(8),e=c(39),f=String.fromCharCode,g=String.fromCodePoint;d(d.S+d.F*(!!g&&1!=g.length),"String",{fromCodePoint:function(a){for(var b,c=[],d=arguments.length,g=0;d>g;){if(b=+arguments[g++],e(b,1114111)!==b)throw RangeError(b+" is not a valid code point");c.push(b<65536?f(b):f(((b-=65536)>>10)+55296,b%1024+56320))}return c.join("")}})},function(a,b,c){var d=c(8),e=c(32),f=c(37);d(d.S,"String",{raw:function(a){for(var b=e(a.raw),c=f(b.length),d=arguments.length,g=[],h=0;c>h;)g.push(String(b[h++])),h<d&&g.push(String(arguments[h]));return g.join("")}})},function(a,b,c){"use strict";c(83)("trim",function(a){return function(){return a(this,3)}})},function(a,b,c){"use strict";var d=c(127)(!0);c(128)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){var d=c(38),e=c(35);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},function(a,b,c){"use strict";var d=c(28),e=c(8),f=c(18),g=c(10),h=c(5),i=c(129),j=c(130),k=c(24),l=c(59),m=c(25)("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};a.exports=function(a,b,c,s,t,u,v){j(c,b,s);var w,x,y,z=function(a){if(!n&&a in D)return D[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){return new c(this,a)}},A=b+" Iterator",B=t==q,C=!1,D=a.prototype,E=D[m]||D[o]||t&&D[t],F=E||z(t),G=t?B?z("entries"):F:void 0,H="Array"==b?D.entries||E:E;if(H&&(y=l(H.call(new a)),y!==Object.prototype&&(k(y,A,!0),d||h(y,m)||g(y,m,r))),B&&E&&E.name!==q&&(C=!0,F=function(){return E.call(this)}),d&&!v||!n&&!C&&D[m]||g(D,m,F),i[b]=F,i[A]=r,t)if(w={values:B?F:z(q),keys:u?F:z(p),entries:G},v)for(x in w)x in D||f(D,x,w[x]);else e(e.P+e.F*(n||C),b,w);return w}},function(a,b){a.exports={}},function(a,b,c){"use strict";var d=c(46),e=c(17),f=c(24),g={};c(10)(g,c(25)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){"use strict";var d=c(8),e=c(127)(!1);d(d.P,"String",{codePointAt:function(a){return e(this,a)}})},function(a,b,c){"use strict";var d=c(8),e=c(37),f=c(133),g="endsWith",h=""[g];d(d.P+d.F*c(135)(g),"String",{endsWith:function(a){var b=f(this,a,g),c=arguments.length>1?arguments[1]:void 0,d=e(b.length),i=void 0===c?d:Math.min(e(c),d),j=String(a);return h?h.call(b,j,i):b.slice(i-j.length,i)===j}})},function(a,b,c){var d=c(134),e=c(35);a.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},function(a,b,c){var d=c(13),e=c(34),f=c(25)("match");a.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},function(a,b,c){var d=c(25)("match");a.exports=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[d]=!1,!"/./"[a](b)}catch(a){}}return!0}},function(a,b,c){"use strict";var d=c(8),e=c(133),f="includes";d(d.P+d.F*c(135)(f),"String",{includes:function(a){return!!~e(this,a,f).indexOf(a,arguments.length>1?arguments[1]:void 0)}})},function(a,b,c){var d=c(8);d(d.P,"String",{repeat:c(91)})},function(a,b,c){"use strict";var d=c(8),e=c(37),f=c(133),g="startsWith",h=""[g];d(d.P+d.F*c(135)(g),"String",{startsWith:function(a){var b=f(this,a,g),c=e(Math.min(arguments.length>1?arguments[1]:void 0,b.length)),d=String(a);return h?h.call(b,d,c):b.slice(c,c+d.length)===d}})},function(a,b,c){"use strict";c(140)("anchor",function(a){return function(b){return a(this,"a","name",b)}})},function(a,b,c){var d=c(8),e=c(7),f=c(35),g=/"/g,h=function(a,b,c,d){var e=String(f(a)),h="<"+b;return""!==c&&(h+=" "+c+'="'+String(d).replace(g,"&quot;")+'"'),h+">"+e+"</"+b+">"};a.exports=function(a,b){var c={};c[a]=b(h),d(d.P+d.F*e(function(){var b=""[a]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",c)}},function(a,b,c){"use strict";c(140)("big",function(a){return function(){return a(this,"big","","")}})},function(a,b,c){"use strict";c(140)("blink",function(a){return function(){return a(this,"blink","","")}})},function(a,b,c){"use strict";c(140)("bold",function(a){return function(){return a(this,"b","","")}})},function(a,b,c){"use strict";c(140)("fixed",function(a){return function(){return a(this,"tt","","")}})},function(a,b,c){"use strict";c(140)("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})},function(a,b,c){"use strict";c(140)("fontsize",function(a){return function(b){return a(this,"font","size",b)}})},function(a,b,c){"use strict";c(140)("italics",function(a){return function(){return a(this,"i","","")}})},function(a,b,c){"use strict";c(140)("link",function(a){return function(b){return a(this,"a","href",b)}})},function(a,b,c){"use strict";c(140)("small",function(a){return function(){return a(this,"small","","")}})},function(a,b,c){"use strict";c(140)("strike",function(a){return function(){return a(this,"strike","","")}})},function(a,b,c){"use strict";c(140)("sub",function(a){return function(){return a(this,"sub","","")}})},function(a,b,c){"use strict";c(140)("sup",function(a){return function(){return a(this,"sup","","")}})},function(a,b,c){var d=c(8);d(d.S,"Date",{now:function(){return(new Date).getTime()}})},function(a,b,c){"use strict";var d=c(8),e=c(58),f=c(16);d(d.P+d.F*c(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(a){var b=e(this),c=f(b);return"number"!=typeof c||isFinite(c)?b.toISOString():null}})},function(a,b,c){"use strict";var d=c(8),e=c(7),f=Date.prototype.getTime,g=function(a){return a>9?a:"0"+a};d(d.P+d.F*(e(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!e(function(){new Date(NaN).toISOString();
})),"Date",{toISOString:function(){if(!isFinite(f.call(this)))throw RangeError("Invalid time value");var a=this,b=a.getUTCFullYear(),c=a.getUTCMilliseconds(),d=b<0?"-":b>9999?"+":"";return d+("00000"+Math.abs(b)).slice(d?-6:-4)+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"."+(c>99?c:"0"+g(c))+"Z"}})},function(a,b,c){var d=Date.prototype,e="Invalid Date",f="toString",g=d[f],h=d.getTime;new Date(NaN)+""!=e&&c(18)(d,f,function(){var a=h.call(this);return a===a?g.call(this):e})},function(a,b,c){var d=c(25)("toPrimitive"),e=Date.prototype;d in e||c(10)(e,d,c(158))},function(a,b,c){"use strict";var d=c(12),e=c(16),f="number";a.exports=function(a){if("string"!==a&&a!==f&&"default"!==a)throw TypeError("Incorrect hint");return e(d(this),a!=f)}},function(a,b,c){var d=c(8);d(d.S,"Array",{isArray:c(45)})},function(a,b,c){"use strict";var d=c(20),e=c(8),f=c(58),g=c(161),h=c(162),i=c(37),j=c(163),k=c(164);e(e.S+e.F*!c(165)(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},function(a,b,c){var d=c(12);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},function(a,b,c){var d=c(129),e=c(25)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(11),e=c(17);a.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},function(a,b,c){var d=c(75),e=c(25)("iterator"),f=c(129);a.exports=c(9).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},function(a,b,c){var d=c(25)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b,c){"use strict";var d=c(8),e=c(163);d(d.S+d.F*c(7)(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,c=new("function"==typeof this?this:Array)(b);b>a;)e(c,a,arguments[a++]);return c.length=b,c}})},function(a,b,c){"use strict";var d=c(8),e=c(32),f=[].join;d(d.P+d.F*(c(33)!=Object||!c(168)(f)),"Array",{join:function(a){return f.call(e(this),void 0===a?",":a)}})},function(a,b,c){var d=c(7);a.exports=function(a,b){return!!a&&d(function(){b?a.call(null,function(){},1):a.call(null)})}},function(a,b,c){"use strict";var d=c(8),e=c(48),f=c(34),g=c(39),h=c(37),i=[].slice;d(d.P+d.F*c(7)(function(){e&&i.call(e)}),"Array",{slice:function(a,b){var c=h(this.length),d=f(this);if(b=void 0===b?c:b,"Array"==d)return i.call(this,a,b);for(var e=g(a,c),j=g(b,c),k=h(j-e),l=Array(k),m=0;m<k;m++)l[m]="String"==d?this.charAt(e+m):this[e+m];return l}})},function(a,b,c){"use strict";var d=c(8),e=c(21),f=c(58),g=c(7),h=[].sort,i=[1,2,3];d(d.P+d.F*(g(function(){i.sort(void 0)})||!g(function(){i.sort(null)})||!c(168)(h)),"Array",{sort:function(a){return void 0===a?h.call(f(this)):h.call(f(this),e(a))}})},function(a,b,c){"use strict";var d=c(8),e=c(172)(0),f=c(168)([].forEach,!0);d(d.P+d.F*!f,"Array",{forEach:function(a){return e(this,a,arguments[1])}})},function(a,b,c){var d=c(20),e=c(33),f=c(58),g=c(37),h=c(173);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},function(a,b,c){var d=c(174);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){var d=c(13),e=c(45),f=c(25)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(8),e=c(172)(1);d(d.P+d.F*!c(168)([].map,!0),"Array",{map:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(8),e=c(172)(2);d(d.P+d.F*!c(168)([].filter,!0),"Array",{filter:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(8),e=c(172)(3);d(d.P+d.F*!c(168)([].some,!0),"Array",{some:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(8),e=c(172)(4);d(d.P+d.F*!c(168)([].every,!0),"Array",{every:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(8),e=c(180);d(d.P+d.F*!c(168)([].reduce,!0),"Array",{reduce:function(a){return e(this,a,arguments.length,arguments[1],!1)}})},function(a,b,c){var d=c(21),e=c(58),f=c(33),g=c(37);a.exports=function(a,b,c,h,i){d(b);var j=e(a),k=f(j),l=g(j.length),m=i?l-1:0,n=i?-1:1;if(c<2)for(;;){if(m in k){h=k[m],m+=n;break}if(m+=n,i?m<0:l<=m)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:l>m;m+=n)m in k&&(h=b(h,k[m],m,j));return h}},function(a,b,c){"use strict";var d=c(8),e=c(180);d(d.P+d.F*!c(168)([].reduceRight,!0),"Array",{reduceRight:function(a){return e(this,a,arguments.length,arguments[1],!0)}})},function(a,b,c){"use strict";var d=c(8),e=c(36)(!1),f=[].indexOf,g=!!f&&1/[1].indexOf(1,-0)<0;d(d.P+d.F*(g||!c(168)(f)),"Array",{indexOf:function(a){return g?f.apply(this,arguments)||0:e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(8),e=c(32),f=c(38),g=c(37),h=[].lastIndexOf,i=!!h&&1/[1].lastIndexOf(1,-0)<0;d(d.P+d.F*(i||!c(168)(h)),"Array",{lastIndexOf:function(a){if(i)return h.apply(this,arguments)||0;var b=e(this),c=g(b.length),d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d<0&&(d=c+d);d>=0;d--)if(d in b&&b[d]===a)return d||0;return-1}})},function(a,b,c){var d=c(8);d(d.P,"Array",{copyWithin:c(185)}),c(186)("copyWithin")},function(a,b,c){"use strict";var d=c(58),e=c(39),f=c(37);a.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(i<h&&h<i+k&&(l=-1,i+=k-1,h+=k-1);k-- >0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},function(a,b,c){var d=c(25)("unscopables"),e=Array.prototype;void 0==e[d]&&c(10)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a,b,c){var d=c(8);d(d.P,"Array",{fill:c(188)}),c(186)("fill")},function(a,b,c){"use strict";var d=c(58),e=c(39),f=c(37);a.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},function(a,b,c){"use strict";var d=c(8),e=c(172)(5),f="find",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(186)(f)},function(a,b,c){"use strict";var d=c(8),e=c(172)(6),f="findIndex",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{findIndex:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(186)(f)},function(a,b,c){c(192)("Array")},function(a,b,c){"use strict";var d=c(4),e=c(11),f=c(6),g=c(25)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b,c){"use strict";var d=c(186),e=c(194),f=c(129),g=c(32);a.exports=c(128)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b){a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){var d=c(4),e=c(88),f=c(11).f,g=c(50).f,h=c(134),i=c(196),j=d.RegExp,k=j,l=j.prototype,m=/a/g,n=/a/g,o=new j(m)!==m;if(c(6)&&(!o||c(7)(function(){return n[c(25)("match")]=!1,j(m)!=m||j(n)==n||"/a/i"!=j(m,"i")}))){j=function(a,b){var c=this instanceof j,d=h(a),f=void 0===b;return!c&&d&&a.constructor===j&&f?a:e(o?new k(d&&!f?a.source:a,b):k((d=a instanceof j)?a.source:a,d&&f?i.call(a):b),c?this:l,j)};for(var p=(function(a){a in j||f(j,a,{configurable:!0,get:function(){return k[a]},set:function(b){k[a]=b}})}),q=g(k),r=0;q.length>r;)p(q[r++]);l.constructor=j,j.prototype=l,c(18)(d,"RegExp",j)}c(192)("RegExp")},function(a,b,c){"use strict";var d=c(12);a.exports=function(){var a=d(this),b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}},function(a,b,c){"use strict";c(198);var d=c(12),e=c(196),f=c(6),g="toString",h=/./[g],i=function(a){c(18)(RegExp.prototype,g,a,!0)};c(7)(function(){return"/a/b"!=h.call({source:"a",flags:"b"})})?i(function(){var a=d(this);return"/".concat(a.source,"/","flags"in a?a.flags:!f&&a instanceof RegExp?e.call(a):void 0)}):h.name!=g&&i(function(){return h.call(this)})},function(a,b,c){c(6)&&"g"!=/./g.flags&&c(11).f(RegExp.prototype,"flags",{configurable:!0,get:c(196)})},function(a,b,c){c(200)("match",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},function(a,b,c){"use strict";var d=c(10),e=c(18),f=c(7),g=c(35),h=c(25);a.exports=function(a,b,c){var i=h(a),j=c(g,i,""[a]),k=j[0],l=j[1];f(function(){var b={};return b[i]=function(){return 7},7!=""[a](b)})&&(e(String.prototype,a,k),d(RegExp.prototype,i,2==b?function(a,b){return l.call(a,this,b)}:function(a){return l.call(a,this)}))}},function(a,b,c){c(200)("replace",2,function(a,b,c){return[function(d,e){"use strict";var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},c]})},function(a,b,c){c(200)("search",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},function(a,b,c){c(200)("split",2,function(a,b,d){"use strict";var e=c(134),f=d,g=[].push,h="split",i="length",j="lastIndex";if("c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[i]||2!="ab"[h](/(?:ab)*/)[i]||4!="."[h](/(.?)(.?)/)[i]||"."[h](/()()/)[i]>1||""[h](/.?/)[i]){var k=void 0===/()??/.exec("")[1];d=function(a,b){var c=String(this);if(void 0===a&&0===b)return[];if(!e(a))return f.call(c,a,b);var d,h,l,m,n,o=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),q=0,r=void 0===b?4294967295:b>>>0,s=new RegExp(a.source,p+"g");for(k||(d=new RegExp("^"+s.source+"$(?!\\s)",p));(h=s.exec(c))&&(l=h.index+h[0][i],!(l>q&&(o.push(c.slice(q,h.index)),!k&&h[i]>1&&h[0].replace(d,function(){for(n=1;n<arguments[i]-2;n++)void 0===arguments[n]&&(h[n]=void 0)}),h[i]>1&&h.index<c[i]&&g.apply(o,h.slice(1)),m=h[0][i],q=l,o[i]>=r)));)s[j]===h.index&&s[j]++;return q===c[i]?!m&&s.test("")||o.push(""):o.push(c.slice(q)),o[i]>r?o.slice(0,r):o}}else"0"[h](void 0,0)[i]&&(d=function(a,b){return void 0===a&&0===b?[]:f.call(this,a,b)});return[function(c,e){var f=a(this),g=void 0==c?void 0:c[b];return void 0!==g?g.call(c,f,e):d.call(String(f),c,e)},d]})},function(a,b,c){"use strict";var d,e,f,g=c(28),h=c(4),i=c(20),j=c(75),k=c(8),l=c(13),m=c(21),n=c(205),o=c(206),p=c(207),q=c(208).set,r=c(209)(),s="Promise",t=h.TypeError,u=h.process,v=h[s],u=h.process,w="process"==j(u),x=function(){},y=!!function(){try{var a=v.resolve(1),b=(a.constructor={})[c(25)("species")]=function(a){a(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&a.then(x)instanceof b}catch(a){}}(),z=function(a,b){return a===b||a===v&&b===f},A=function(a){var b;return!(!l(a)||"function"!=typeof(b=a.then))&&b},B=function(a){return z(v,a)?new C(a):new e(a)},C=e=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw t("Bad Promise constructor");b=a,c=d}),this.resolve=m(b),this.reject=m(c)},D=function(a){try{a()}catch(a){return{error:a}}},E=function(a,b){if(!a._n){a._n=!0;var c=a._c;r(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject,j=b.domain;try{g?(e||(2==a._h&&H(a),a._h=1),g===!0?c=d:(j&&j.enter(),c=g(d),j&&j.exit()),c===b.promise?i(t("Promise-chain cycle")):(f=A(c))?f.call(c,h,i):h(c)):i(d)}catch(a){i(a)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&F(a)})}},F=function(a){q.call(h,function(){var b,c,d,e=a._v;if(G(a)&&(b=D(function(){w?u.emit("unhandledRejection",e,a):(c=h.onunhandledrejection)?c({promise:a,reason:e}):(d=h.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=w||G(a)?2:1),a._a=void 0,b)throw b.error})},G=function(a){if(1==a._h)return!1;for(var b,c=a._a||a._c,d=0;c.length>d;)if(b=c[d++],b.fail||!G(b.promise))return!1;return!0},H=function(a){q.call(h,function(){var b;w?u.emit("rejectionHandled",a):(b=h.onrejectionhandled)&&b({promise:a,reason:a._v})})},I=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),E(b,!0))},J=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw t("Promise can't be resolved itself");(b=A(a))?r(function(){var d={_w:c,_d:!1};try{b.call(a,i(J,d,1),i(I,d,1))}catch(a){I.call(d,a)}}):(c._v=a,c._s=1,E(c,!1))}catch(a){I.call({_w:c,_d:!1},a)}}};y||(v=function(a){n(this,v,s,"_h"),m(a),d.call(this);try{a(i(J,this,1),i(I,this,1))}catch(a){I.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=c(210)(v.prototype,{then:function(a,b){var c=B(p(this,v));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=w?u.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&E(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),C=function(){var a=new d;this.promise=a,this.resolve=i(J,a,1),this.reject=i(I,a,1)}),k(k.G+k.W+k.F*!y,{Promise:v}),c(24)(v,s),c(192)(s),f=c(9)[s],k(k.S+k.F*!y,s,{reject:function(a){var b=B(this),c=b.reject;return c(a),b.promise}}),k(k.S+k.F*(g||!y),s,{resolve:function(a){if(a instanceof v&&z(a.constructor,this))return a;var b=B(this),c=b.resolve;return c(a),b.promise}}),k(k.S+k.F*!(y&&c(165)(function(a){v.all(a).catch(x)})),s,{all:function(a){var b=this,c=B(b),d=c.resolve,e=c.reject,f=D(function(){var c=[],f=0,g=1;o(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f&&e(f.error),c.promise},race:function(a){var b=this,c=B(b),d=c.reject,e=D(function(){o(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}})},function(a,b){a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){var d=c(20),e=c(161),f=c(162),g=c(12),h=c(37),i=c(164),j={},k={},b=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};b.BREAK=j,b.RETURN=k},function(a,b,c){var d=c(12),e=c(21),f=c(25)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){var d,e,f,g=c(20),h=c(78),i=c(48),j=c(15),k=c(4),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r="onreadystatechange",s=function(){var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==c(34)(l)?d=function(a){l.nextTick(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d=r in j("script")?function(a){i.appendChild(j("script"))[r]=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),a.exports={set:m,clear:n}},function(a,b,c){var d=c(4),e=c(208).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(34)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(f){var k=!0,l=document.createTextNode("");new f(j).observe(l,{characterData:!0}),c=function(){l.data=k=!k}}else if(h&&h.resolve){var m=h.resolve();c=function(){m.then(j)}}else c=function(){e.call(d,j)};return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){var d=c(18);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a,b,c){"use strict";var d=c(212);a.exports=c(213)("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(this,a);return b&&b.v},set:function(a,b){return d.def(this,0===a?0:a,b)}},d,!0)},function(a,b,c){"use strict";var d=c(11).f,e=c(46),f=c(210),g=c(20),h=c(205),i=c(35),j=c(206),k=c(128),l=c(194),m=c(192),n=c(6),o=c(22).fastKey,p=n?"_s":"size",q=function(a,b){var c,d=o(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};a.exports={getConstructor:function(a,b,c,k){var l=a(function(a,d){h(a,l,b,"_i"),a._i=e(null),a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&j(d,c,a[k],a)});return f(l.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[p]=0},delete:function(a){var b=this,c=q(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[p]--}return!!c},forEach:function(a){h(this,l,"forEach");for(var b,c=g(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!q(this,a)}}),n&&d(l.prototype,"size",{get:function(){return i(this[p])}}),l},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=o(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){k(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?l(0,c.k):"values"==b?l(0,c.v):l(0,[c.k,c.v]):(a._t=void 0,l(1))},c?"entries":"values",!c,!0),m(b)}}},function(a,b,c){"use strict";var d=c(4),e=c(8),f=c(18),g=c(210),h=c(22),i=c(206),j=c(205),k=c(13),l=c(7),m=c(165),n=c(24),o=c(88);a.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},function(a,b,c){"use strict";var d=c(212);a.exports=c(213)("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(this,a=0===a?0:a,a)}},d)},function(a,b,c){"use strict";var d,e=c(172)(0),f=c(18),g=c(22),h=c(69),i=c(216),j=c(13),k=g.getWeak,l=Object.isExtensible,m=i.ufstore,n={},o=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},p={get:function(a){if(j(a)){var b=k(a);return b===!0?m(this).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(this,a,b)}},q=a.exports=c(213)("WeakMap",o,p,i,!0,!0);7!=(new q).set((Object.freeze||Object)(n),7).get(n)&&(d=i.getConstructor(o),h(d.prototype,p),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=q.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!l(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},function(a,b,c){"use strict";var d=c(210),e=c(22).getWeak,f=c(12),g=c(13),h=c(205),i=c(206),j=c(172),k=c(5),l=j(5),m=j(6),n=0,o=function(a){return a._l||(a._l=new p)},p=function(){this.a=[]},q=function(a,b){return l(a.a,function(a){return a[0]===b})};p.prototype={get:function(a){var b=q(this,a);if(b)return b[1]},has:function(a){return!!q(this,a)},set:function(a,b){var c=q(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=m(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},a.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._i=n++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).delete(a):b&&k(b,this._i)&&delete b[this._i]},has:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).has(a):b&&k(b,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return d===!0?o(a).set(b,c):d[a._i]=c,a},ufstore:o}},function(a,b,c){"use strict";var d=c(216);c(213)("WeakSet",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(this,a,!0)}},d,!1,!0)},function(a,b,c){"use strict";var d=c(8),e=c(219),f=c(220),g=c(12),h=c(39),i=c(37),j=c(13),k=c(4).ArrayBuffer,l=c(207),m=f.ArrayBuffer,n=f.DataView,o=e.ABV&&k.isView,p=m.prototype.slice,q=e.VIEW,r="ArrayBuffer";d(d.G+d.W+d.F*(k!==m),{ArrayBuffer:m}),d(d.S+d.F*!e.CONSTR,r,{isView:function(a){return o&&o(a)||j(a)&&q in a}}),d(d.P+d.U+d.F*c(7)(function(){return!new m(2).slice(1,void 0).byteLength}),r,{slice:function(a,b){if(void 0!==p&&void 0===b)return p.call(g(this),a);for(var c=g(this).byteLength,d=h(a,c),e=h(void 0===b?c:b,c),f=new(l(this,m))(i(e-d)),j=new n(this),k=new n(f),o=0;d<e;)k.setUint8(o++,j.getUint8(d++));return f}}),c(192)(r)},function(a,b,c){for(var d,e=c(4),f=c(10),g=c(19),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<m;)(d=e[n[l++]])?(f(d.prototype,h,!0),f(d.prototype,i,!0)):k=!1;a.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},function(a,b,c){"use strict";var d=c(4),e=c(6),f=c(28),g=c(219),h=c(10),i=c(210),j=c(7),k=c(205),l=c(38),m=c(37),n=c(50).f,o=c(11).f,p=c(188),q=c(24),r="ArrayBuffer",s="DataView",t="prototype",u="Wrong length!",v="Wrong index!",w=d[r],x=d[s],y=d.Math,z=d.RangeError,A=d.Infinity,B=w,C=y.abs,D=y.pow,E=y.floor,F=y.log,G=y.LN2,H="buffer",I="byteLength",J="byteOffset",K=e?"_b":H,L=e?"_l":I,M=e?"_o":J,N=function(a,b,c){var d,e,f,g=Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?D(2,-24)-D(2,-77):0,l=0,m=a<0||0===a&&1/a<0?1:0;for(a=C(a),a!=a||a===A?(e=a!=a?1:0,d=i):(d=E(F(a)/G),a*(f=D(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*D(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*D(2,b),d+=j):(e=a*D(2,j-1)*D(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g},O=function(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-A:A;d+=D(2,b),k-=g}return(j?-1:1)*d*D(2,k-b)},P=function(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]},Q=function(a){return[255&a]},R=function(a){return[255&a,a>>8&255]},S=function(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]},T=function(a){return N(a,52,8)},U=function(a){return N(a,23,4)},V=function(a,b,c){o(a[t],b,{get:function(){return this[c]}})},W=function(a,b,c,d){var e=+c,f=l(e);if(e!=f||f<0||f+b>a[L])throw z(v);var g=a[K]._b,h=f+a[M],i=g.slice(h,h+b);return d?i:i.reverse()},X=function(a,b,c,d,e,f){var g=+c,h=l(g);if(g!=h||h<0||h+b>a[L])throw z(v);for(var i=a[K]._b,j=h+a[M],k=d(+e),m=0;m<b;m++)i[j+m]=k[f?m:b-m-1]},Y=function(a,b){k(a,w,r);var c=+b,d=m(c);if(c!=d)throw z(u);return d};if(g.ABV){if(!j(function(){new w})||!j(function(){new w(.5)})){w=function(a){return new B(Y(this,a))};for(var Z,$=w[t]=B[t],_=n(B),aa=0;_.length>aa;)(Z=_[aa++])in w||h(w,Z,B[Z]);f||($.constructor=w)}var ba=new x(new w(2)),ca=x[t].setInt8;ba.setInt8(0,2147483648),ba.setInt8(1,2147483649),!ba.getInt8(0)&&ba.getInt8(1)||i(x[t],{setInt8:function(a,b){ca.call(this,a,b<<24>>24)},setUint8:function(a,b){ca.call(this,a,b<<24>>24)}},!0)}else w=function(a){var b=Y(this,a);this._b=p.call(Array(b),0),this[L]=b},x=function(a,b,c){k(this,x,s),k(a,w,s);var d=a[L],e=l(b);if(e<0||e>d)throw z("Wrong offset!");if(c=void 0===c?d-e:m(c),e+c>d)throw z(u);this[K]=a,this[M]=e,this[L]=c},e&&(V(w,I,"_l"),V(x,H,"_b"),V(x,I,"_l"),V(x,J,"_o")),i(x[t],{getInt8:function(a){return W(this,1,a)[0]<<24>>24},getUint8:function(a){return W(this,1,a)[0]},getInt16:function(a){var b=W(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=W(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return P(W(this,4,a,arguments[1]))},getUint32:function(a){return P(W(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return O(W(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return O(W(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){X(this,1,a,Q,b)},setUint8:function(a,b){X(this,1,a,Q,b)},setInt16:function(a,b){X(this,2,a,R,b,arguments[2])},setUint16:function(a,b){X(this,2,a,R,b,arguments[2])},setInt32:function(a,b){X(this,4,a,S,b,arguments[2])},setUint32:function(a,b){X(this,4,a,S,b,arguments[2])},setFloat32:function(a,b){X(this,4,a,U,b,arguments[2])},setFloat64:function(a,b){X(this,8,a,T,b,arguments[2])}});q(w,r),q(x,s),h(x[t],g.VIEW,!0),b[r]=w,b[s]=x},function(a,b,c){var d=c(8);d(d.G+d.W+d.F*!c(219).ABV,{DataView:c(220).DataView})},function(a,b,c){c(223)("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){"use strict";if(c(6)){var d=c(28),e=c(4),f=c(7),g=c(8),h=c(219),i=c(220),j=c(20),k=c(205),l=c(17),m=c(10),n=c(210),o=c(38),p=c(37),q=c(39),r=c(16),s=c(5),t=c(71),u=c(75),v=c(13),w=c(58),x=c(162),y=c(46),z=c(59),A=c(50).f,B=c(164),C=c(19),D=c(25),E=c(172),F=c(36),G=c(207),H=c(193),I=c(129),J=c(165),K=c(192),L=c(188),M=c(185),N=c(11),O=c(51),P=N.f,Q=O.f,R=e.RangeError,S=e.TypeError,T=e.Uint8Array,U="ArrayBuffer",V="Shared"+U,W="BYTES_PER_ELEMENT",X="prototype",Y=Array[X],Z=i.ArrayBuffer,$=i.DataView,_=E(0),aa=E(2),ba=E(3),ca=E(4),da=E(5),ea=E(6),fa=F(!0),ga=F(!1),ha=H.values,ia=H.keys,ja=H.entries,ka=Y.lastIndexOf,la=Y.reduce,ma=Y.reduceRight,na=Y.join,oa=Y.sort,pa=Y.slice,qa=Y.toString,ra=Y.toLocaleString,sa=D("iterator"),ta=D("toStringTag"),ua=C("typed_constructor"),va=C("def_constructor"),wa=h.CONSTR,xa=h.TYPED,ya=h.VIEW,za="Wrong length!",Aa=E(1,function(a,b){return Ga(G(a,a[va]),b)}),Ba=f(function(){return 1===new T(new Uint16Array([1]).buffer)[0]}),Ca=!!T&&!!T[X].set&&f(function(){new T(1).set({})}),Da=function(a,b){if(void 0===a)throw S(za);var c=+a,d=p(a);if(b&&!t(c,d))throw R(za);return d},Ea=function(a,b){var c=o(a);if(c<0||c%b)throw R("Wrong offset!");return c},Fa=function(a){if(v(a)&&xa in a)return a;throw S(a+" is not a typed array!")},Ga=function(a,b){if(!(v(a)&&ua in a))throw S("It is not a typed array constructor!");return new a(b)},Ha=function(a,b){return Ia(G(a,a[va]),b)},Ia=function(a,b){for(var c=0,d=b.length,e=Ga(a,d);d>c;)e[c]=b[c++];return e},Ja=function(a,b,c){P(a,b,{get:function(){return this._d[c]}})},Ka=function(a){var b,c,d,e,f,g,h=w(a),i=arguments.length,k=i>1?arguments[1]:void 0,l=void 0!==k,m=B(h);if(void 0!=m&&!x(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(k=j(k,arguments[2],2)),b=0,c=p(h.length),e=Ga(this,c);c>b;b++)e[b]=l?k(h[b],b):h[b];return e},La=function(){for(var a=0,b=arguments.length,c=Ga(this,b);b>a;)c[a]=arguments[a++];return c},Ma=!!T&&f(function(){ra.call(new T(1))}),Na=function(){return ra.apply(Ma?pa.call(Fa(this)):Fa(this),arguments)},Oa={copyWithin:function(a,b){return M.call(Fa(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return ca(Fa(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return L.apply(Fa(this),arguments)},filter:function(a){return Ha(this,aa(Fa(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return da(Fa(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return ea(Fa(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){_(Fa(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ga(Fa(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return fa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return na.apply(Fa(this),arguments)},lastIndexOf:function(a){return ka.apply(Fa(this),arguments)},map:function(a){return Aa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return la.apply(Fa(this),arguments)},reduceRight:function(a){return ma.apply(Fa(this),arguments)},reverse:function(){for(var a,b=this,c=Fa(b).length,d=Math.floor(c/2),e=0;e<d;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return ba(Fa(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return oa.call(Fa(this),a)},subarray:function(a,b){var c=Fa(this),d=c.length,e=q(a,d);return new(G(c,c[va]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,p((void 0===b?d:q(b,d))-e))}},Pa=function(a,b){return Ha(this,pa.call(Fa(this),a,b))},Qa=function(a){Fa(this);var b=Ea(arguments[1],1),c=this.length,d=w(a),e=p(d.length),f=0;if(e+b>c)throw R(za);for(;f<e;)this[b+f]=d[f++]},Ra={entries:function(){return ja.call(Fa(this))},keys:function(){return ia.call(Fa(this))},values:function(){return ha.call(Fa(this))}},Sa=function(a,b){return v(a)&&a[xa]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},Ta=function(a,b){return Sa(a,b=r(b,!0))?l(2,a[b]):Q(a,b)},Ua=function(a,b,c){return!(Sa(a,b=r(b,!0))&&v(c)&&s(c,"value"))||s(c,"get")||s(c,"set")||c.configurable||s(c,"writable")&&!c.writable||s(c,"enumerable")&&!c.enumerable?P(a,b,c):(a[b]=c.value,a)};wa||(O.f=Ta,N.f=Ua),g(g.S+g.F*!wa,"Object",{getOwnPropertyDescriptor:Ta,defineProperty:Ua}),f(function(){qa.call({})})&&(qa=ra=function(){return na.call(this)});var Va=n({},Oa);n(Va,Ra),m(Va,sa,Ra.values),n(Va,{slice:Pa,set:Qa,constructor:function(){},toString:qa,toLocaleString:Na}),Ja(Va,"buffer","b"),Ja(Va,"byteOffset","o"),Ja(Va,"byteLength","l"),Ja(Va,"length","e"),P(Va,ta,{get:function(){return this[xa]}}),a.exports=function(a,b,c,i){i=!!i;var j=a+(i?"Clamped":"")+"Array",l="Uint8Array"!=j,n="get"+a,o="set"+a,q=e[j],r=q||{},s=q&&z(q),t=!q||!h.ABV,w={},x=q&&q[X],B=function(a,c){var d=a._d;return d.v[n](c*b+d.o,Ba)},C=function(a,c,d){var e=a._d;i&&(d=(d=Math.round(d))<0?0:d>255?255:255&d),e.v[o](c*b+e.o,d,Ba)},D=function(a,b){P(a,b,{get:function(){return B(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(q=c(function(a,c,d,e){k(a,q,j,"_d");var f,g,h,i,l=0,n=0;if(v(c)){if(!(c instanceof Z||(i=u(c))==U||i==V))return xa in c?Ia(q,c):Ka.call(q,c);f=c,n=Ea(d,b);var o=c.byteLength;if(void 0===e){if(o%b)throw R(za);if(g=o-n,g<0)throw R(za)}else if(g=p(e)*b,g+n>o)throw R(za);h=g/b}else h=Da(c,!0),g=h*b,f=new Z(g);for(m(a,"_d",{b:f,o:n,l:g,e:h,v:new $(f)});l<h;)D(a,l++)}),x=q[X]=y(Va),
m(x,"constructor",q)):J(function(a){new q(null),new q(a)},!0)||(q=c(function(a,c,d,e){k(a,q,j);var f;return v(c)?c instanceof Z||(f=u(c))==U||f==V?void 0!==e?new r(c,Ea(d,b),e):void 0!==d?new r(c,Ea(d,b)):new r(c):xa in c?Ia(q,c):Ka.call(q,c):new r(Da(c,l))}),_(s!==Function.prototype?A(r).concat(A(s)):A(r),function(a){a in q||m(q,a,r[a])}),q[X]=x,d||(x.constructor=q));var E=x[sa],F=!!E&&("values"==E.name||void 0==E.name),G=Ra.values;m(q,ua,!0),m(x,xa,j),m(x,ya,!0),m(x,va,q),(i?new q(1)[ta]==j:ta in x)||P(x,ta,{get:function(){return j}}),w[j]=q,g(g.G+g.W+g.F*(q!=r),w),g(g.S,j,{BYTES_PER_ELEMENT:b,from:Ka,of:La}),W in x||m(x,W,b),g(g.P,j,Oa),K(j),g(g.P+g.F*Ca,j,{set:Qa}),g(g.P+g.F*!F,j,Ra),g(g.P+g.F*(x.toString!=qa),j,{toString:qa}),g(g.P+g.F*f(function(){new q(1).slice()}),j,{slice:Pa}),g(g.P+g.F*(f(function(){return[1,2].toLocaleString()!=new q([1,2]).toLocaleString()})||!f(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Na}),I[j]=F?E:G,d||F||m(x,sa,G)}}else a.exports=function(){}},function(a,b,c){c(223)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},function(a,b,c){c(223)("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(223)("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){var d=c(8),e=c(21),f=c(12),g=(c(4).Reflect||{}).apply,h=Function.apply;d(d.S+d.F*!c(7)(function(){g(function(){})}),"Reflect",{apply:function(a,b,c){var d=e(a),i=f(c);return g?g(d,b,i):h.call(d,b,i)}})},function(a,b,c){var d=c(8),e=c(46),f=c(21),g=c(12),h=c(13),i=c(7),j=c(77),k=(c(4).Reflect||{}).construct,l=i(function(){function a(){}return!(k(function(){},[],a)instanceof a)}),m=!i(function(){k(function(){})});d(d.S+d.F*(l||m),"Reflect",{construct:function(a,b){f(a),g(b);var c=arguments.length<3?a:f(arguments[2]);if(m&&!l)return k(a,b,c);if(a==c){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3])}var d=[null];return d.push.apply(d,b),new(j.apply(a,d))}var i=c.prototype,n=e(h(i)?i:Object.prototype),o=Function.apply.call(a,n,b);return h(o)?o:n}})},function(a,b,c){var d=c(11),e=c(8),f=c(12),g=c(16);e(e.S+e.F*c(7)(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,b,c){f(a),b=g(b,!0),f(c);try{return d.f(a,b,c),!0}catch(a){return!1}}})},function(a,b,c){var d=c(8),e=c(51).f,f=c(12);d(d.S,"Reflect",{deleteProperty:function(a,b){var c=e(f(a),b);return!(c&&!c.configurable)&&delete a[b]}})},function(a,b,c){"use strict";var d=c(8),e=c(12),f=function(a){this._t=e(a),this._i=0;var b,c=this._k=[];for(b in a)c.push(b)};c(130)(f,"Object",function(){var a,b=this,c=b._k;do if(b._i>=c.length)return{value:void 0,done:!0};while(!((a=c[b._i++])in b._t));return{value:a,done:!1}}),d(d.S,"Reflect",{enumerate:function(a){return new f(a)}})},function(a,b,c){function d(a,b){var c,h,k=arguments.length<3?a:arguments[2];return j(a)===k?a[b]:(c=e.f(a,b))?g(c,"value")?c.value:void 0!==c.get?c.get.call(k):void 0:i(h=f(a))?d(h,b,k):void 0}var e=c(51),f=c(59),g=c(5),h=c(8),i=c(13),j=c(12);h(h.S,"Reflect",{get:d})},function(a,b,c){var d=c(51),e=c(8),f=c(12);e(e.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return d.f(f(a),b)}})},function(a,b,c){var d=c(8),e=c(59),f=c(12);d(d.S,"Reflect",{getPrototypeOf:function(a){return e(f(a))}})},function(a,b,c){var d=c(8);d(d.S,"Reflect",{has:function(a,b){return b in a}})},function(a,b,c){var d=c(8),e=c(12),f=Object.isExtensible;d(d.S,"Reflect",{isExtensible:function(a){return e(a),!f||f(a)}})},function(a,b,c){var d=c(8);d(d.S,"Reflect",{ownKeys:c(243)})},function(a,b,c){var d=c(50),e=c(43),f=c(12),g=c(4).Reflect;a.exports=g&&g.ownKeys||function(a){var b=d.f(f(a)),c=e.f;return c?b.concat(c(a)):b}},function(a,b,c){var d=c(8),e=c(12),f=Object.preventExtensions;d(d.S,"Reflect",{preventExtensions:function(a){e(a);try{return f&&f(a),!0}catch(a){return!1}}})},function(a,b,c){function d(a,b,c){var i,m,n=arguments.length<4?a:arguments[3],o=f.f(k(a),b);if(!o){if(l(m=g(a)))return d(m,b,c,n);o=j(0)}return h(o,"value")?!(o.writable===!1||!l(n))&&(i=f.f(n,b)||j(0),i.value=c,e.f(n,b,i),!0):void 0!==o.set&&(o.set.call(n,c),!0)}var e=c(11),f=c(51),g=c(59),h=c(5),i=c(8),j=c(17),k=c(12),l=c(13);i(i.S,"Reflect",{set:d})},function(a,b,c){var d=c(8),e=c(73);e&&d(d.S,"Reflect",{setPrototypeOf:function(a,b){e.check(a,b);try{return e.set(a,b),!0}catch(a){return!1}}})},function(a,b,c){"use strict";var d=c(8),e=c(36)(!0);d(d.P,"Array",{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(186)("includes")},function(a,b,c){"use strict";var d=c(8),e=c(127)(!0);d(d.P,"String",{at:function(a){return e(this,a)}})},function(a,b,c){"use strict";var d=c(8),e=c(250);d(d.P,"String",{padStart:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!0)}})},function(a,b,c){var d=c(37),e=c(91),f=c(35);a.exports=function(a,b,c,g){var h=String(f(a)),i=h.length,j=void 0===c?" ":String(c),k=d(b);if(k<=i||""==j)return h;var l=k-i,m=e.call(j,Math.ceil(l/j.length));return m.length>l&&(m=m.slice(0,l)),g?m+h:h+m}},function(a,b,c){"use strict";var d=c(8),e=c(250);d(d.P,"String",{padEnd:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!1)}})},function(a,b,c){"use strict";c(83)("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},function(a,b,c){"use strict";c(83)("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")},function(a,b,c){"use strict";var d=c(8),e=c(35),f=c(37),g=c(134),h=c(196),i=RegExp.prototype,j=function(a,b){this._r=a,this._s=b};c(130)(j,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),d(d.P,"String",{matchAll:function(a){if(e(this),!g(a))throw TypeError(a+" is not a regexp!");var b=String(this),c="flags"in i?String(a.flags):h.call(a),d=new RegExp(a.source,~c.indexOf("g")?c:"g"+c);return d.lastIndex=f(a.lastIndex),new j(d,b)}})},function(a,b,c){c(27)("asyncIterator")},function(a,b,c){c(27)("observable")},function(a,b,c){var d=c(8),e=c(243),f=c(32),g=c(51),h=c(163);d(d.S,"Object",{getOwnPropertyDescriptors:function(a){for(var b,c=f(a),d=g.f,i=e(c),j={},k=0;i.length>k;)h(j,b=i[k++],d(c,b));return j}})},function(a,b,c){var d=c(8),e=c(259)(!1);d(d.S,"Object",{values:function(a){return e(a)}})},function(a,b,c){var d=c(30),e=c(32),f=c(44).f;a.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),i=h.length,j=0,k=[];i>j;)f.call(g,c=h[j++])&&k.push(a?[c,g[c]]:g[c]);return k}}},function(a,b,c){var d=c(8),e=c(259)(!0);d(d.S,"Object",{entries:function(a){return e(a)}})},function(a,b,c){"use strict";var d=c(8),e=c(58),f=c(21),g=c(11);c(6)&&d(d.P+c(262),"Object",{__defineGetter__:function(a,b){g.f(e(this),a,{get:f(b),enumerable:!0,configurable:!0})}})},function(a,b,c){a.exports=c(28)||!c(7)(function(){var a=Math.random();__defineSetter__.call(null,a,function(){}),delete c(4)[a]})},function(a,b,c){"use strict";var d=c(8),e=c(58),f=c(21),g=c(11);c(6)&&d(d.P+c(262),"Object",{__defineSetter__:function(a,b){g.f(e(this),a,{set:f(b),enumerable:!0,configurable:!0})}})},function(a,b,c){"use strict";var d=c(8),e=c(58),f=c(16),g=c(59),h=c(51).f;c(6)&&d(d.P+c(262),"Object",{__lookupGetter__:function(a){var b,c=e(this),d=f(a,!0);do if(b=h(c,d))return b.get;while(c=g(c))}})},function(a,b,c){"use strict";var d=c(8),e=c(58),f=c(16),g=c(59),h=c(51).f;c(6)&&d(d.P+c(262),"Object",{__lookupSetter__:function(a){var b,c=e(this),d=f(a,!0);do if(b=h(c,d))return b.set;while(c=g(c))}})},function(a,b,c){var d=c(8);d(d.P+d.R,"Map",{toJSON:c(267)("Map")})},function(a,b,c){var d=c(75),e=c(268);a.exports=function(a){return function(){if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},function(a,b,c){var d=c(206);a.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},function(a,b,c){var d=c(8);d(d.P+d.R,"Set",{toJSON:c(267)("Set")})},function(a,b,c){var d=c(8);d(d.S,"System",{global:c(4)})},function(a,b,c){var d=c(8),e=c(34);d(d.S,"Error",{isError:function(a){return"Error"===e(a)}})},function(a,b,c){var d=c(8);d(d.S,"Math",{iaddh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f+(d>>>0)+((e&g|(e|g)&~(e+g>>>0))>>>31)|0}})},function(a,b,c){var d=c(8);d(d.S,"Math",{isubh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f-(d>>>0)-((~e&g|~(e^g)&e-g>>>0)>>>31)|0}})},function(a,b,c){var d=c(8);d(d.S,"Math",{imulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>16,i=e>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>16)+((f*i>>>0)+(j&c)>>16)}})},function(a,b,c){var d=c(8);d(d.S,"Math",{umulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>>16,i=e>>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>>16)+((f*i>>>0)+(j&c)>>>16)}})},function(a,b,c){var d=c(277),e=c(12),f=d.key,g=d.set;d.exp({defineMetadata:function(a,b,c,d){g(a,b,e(c),f(d))}})},function(a,b,c){var d=c(211),e=c(8),f=c(23)("metadata"),g=f.store||(f.store=new(c(215))),h=function(a,b,c){var e=g.get(a);if(!e){if(!c)return;g.set(a,e=new d)}var f=e.get(b);if(!f){if(!c)return;e.set(b,f=new d)}return f},i=function(a,b,c){var d=h(b,c,!1);return void 0!==d&&d.has(a)},j=function(a,b,c){var d=h(b,c,!1);return void 0===d?void 0:d.get(a)},k=function(a,b,c,d){h(c,d,!0).set(a,b)},l=function(a,b){var c=h(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},m=function(a){return void 0===a||"symbol"==typeof a?a:String(a)},n=function(a){e(e.S,"Reflect",a)};a.exports={store:g,map:h,has:i,get:j,set:k,keys:l,key:m,exp:n}},function(a,b,c){var d=c(277),e=c(12),f=d.key,g=d.map,h=d.store;d.exp({deleteMetadata:function(a,b){var c=arguments.length<3?void 0:f(arguments[2]),d=g(e(b),c,!1);if(void 0===d||!d.delete(a))return!1;if(d.size)return!0;var i=h.get(b);return i.delete(c),!!i.size||h.delete(b)}})},function(a,b,c){var d=c(277),e=c(12),f=c(59),g=d.has,h=d.get,i=d.key,j=function(a,b,c){var d=g(a,b,c);if(d)return h(a,b,c);var e=f(b);return null!==e?j(a,e,c):void 0};d.exp({getMetadata:function(a,b){return j(a,e(b),arguments.length<3?void 0:i(arguments[2]))}})},function(a,b,c){var d=c(214),e=c(268),f=c(277),g=c(12),h=c(59),i=f.keys,j=f.key,k=function(a,b){var c=i(a,b),f=h(a);if(null===f)return c;var g=k(f,b);return g.length?c.length?e(new d(c.concat(g))):g:c};f.exp({getMetadataKeys:function(a){return k(g(a),arguments.length<2?void 0:j(arguments[1]))}})},function(a,b,c){var d=c(277),e=c(12),f=d.get,g=d.key;d.exp({getOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},function(a,b,c){var d=c(277),e=c(12),f=d.keys,g=d.key;d.exp({getOwnMetadataKeys:function(a){return f(e(a),arguments.length<2?void 0:g(arguments[1]))}})},function(a,b,c){var d=c(277),e=c(12),f=c(59),g=d.has,h=d.key,i=function(a,b,c){var d=g(a,b,c);if(d)return!0;var e=f(b);return null!==e&&i(a,e,c)};d.exp({hasMetadata:function(a,b){return i(a,e(b),arguments.length<3?void 0:h(arguments[2]))}})},function(a,b,c){var d=c(277),e=c(12),f=d.has,g=d.key;d.exp({hasOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},function(a,b,c){var d=c(277),e=c(12),f=c(21),g=d.key,h=d.set;d.exp({metadata:function(a,b){return function(c,d){h(a,b,(void 0!==d?e:f)(c),g(d))}}})},function(a,b,c){var d=c(8),e=c(209)(),f=c(4).process,g="process"==c(34)(f);d(d.G,{asap:function(a){var b=g&&f.domain;e(b?b.bind(a):a)}})},function(a,b,c){"use strict";var d=c(8),e=c(4),f=c(9),g=c(209)(),h=c(25)("observable"),i=c(21),j=c(12),k=c(205),l=c(210),m=c(10),n=c(206),o=n.RETURN,p=function(a){return null==a?void 0:i(a)},q=function(a){var b=a._c;b&&(a._c=void 0,b())},r=function(a){return void 0===a._o},s=function(a){r(a)||(a._o=void 0,q(a))},t=function(a,b){j(a),this._c=void 0,this._o=a,a=new u(this);try{var c=b(a),d=c;null!=c&&("function"==typeof c.unsubscribe?c=function(){d.unsubscribe()}:i(c),this._c=c)}catch(b){return void a.error(b)}r(this)&&q(this)};t.prototype=l({},{unsubscribe:function(){s(this)}});var u=function(a){this._s=a};u.prototype=l({},{next:function(a){var b=this._s;if(!r(b)){var c=b._o;try{var d=p(c.next);if(d)return d.call(c,a)}catch(a){try{s(b)}finally{throw a}}}},error:function(a){var b=this._s;if(r(b))throw a;var c=b._o;b._o=void 0;try{var d=p(c.error);if(!d)throw a;a=d.call(c,a)}catch(a){try{q(b)}finally{throw a}}return q(b),a},complete:function(a){var b=this._s;if(!r(b)){var c=b._o;b._o=void 0;try{var d=p(c.complete);a=d?d.call(c,a):void 0}catch(a){try{q(b)}finally{throw a}}return q(b),a}}});var v=function(a){k(this,v,"Observable","_f")._f=i(a)};l(v.prototype,{subscribe:function(a){return new t(a,this._f)},forEach:function(a){var b=this;return new(f.Promise||e.Promise)(function(c,d){i(a);var e=b.subscribe({next:function(b){try{return a(b)}catch(a){d(a),e.unsubscribe()}},error:d,complete:c})})}}),l(v,{from:function(a){var b="function"==typeof this?this:v,c=p(j(a)[h]);if(c){var d=j(c.call(a));return d.constructor===b?d:new b(function(a){return d.subscribe(a)})}return new b(function(b){var c=!1;return g(function(){if(!c){try{if(n(a,!1,function(a){if(b.next(a),c)return o})===o)return}catch(a){if(c)throw a;return void b.error(a)}b.complete()}}),function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=Array(b);a<b;)c[a]=arguments[a++];return new("function"==typeof this?this:v)(function(a){var b=!1;return g(function(){if(!b){for(var d=0;d<c.length;++d)if(a.next(c[d]),b)return;a.complete()}}),function(){b=!0}})}}),m(v.prototype,h,function(){return this}),d(d.G,{Observable:v}),c(192)("Observable")},function(a,b,c){var d=c(4),e=c(8),f=c(78),g=c(289),h=d.navigator,i=!!h&&/MSIE .\./.test(h.userAgent),j=function(a){return i?function(b,c){return a(f(g,[].slice.call(arguments,2),"function"==typeof b?b:Function(b)),c)}:a};e(e.G+e.B+e.F*i,{setTimeout:j(d.setTimeout),setInterval:j(d.setInterval)})},function(a,b,c){"use strict";var d=c(290),e=c(78),f=c(21);a.exports=function(){for(var a=f(this),b=arguments.length,c=Array(b),g=0,h=d._,i=!1;b>g;)(c[g]=arguments[g++])===h&&(i=!0);return function(){var d,f=this,g=arguments.length,j=0,k=0;if(!i&&!g)return e(a,c,f);if(d=c.slice(),i)for(;b>j;j++)d[j]===h&&(d[j]=arguments[k++]);for(;g>k;)d.push(arguments[k++]);return e(a,d,f)}}},function(a,b,c){a.exports=c(4)},function(a,b,c){var d=c(8),e=c(208);d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},function(a,b,c){for(var d=c(193),e=c(18),f=c(4),g=c(10),h=c(129),i=c(25),j=i("iterator"),k=i("toStringTag"),l=h.Array,m=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;n<5;n++){var o,p=m[n],q=f[p],r=q&&q.prototype;if(r){r[j]||g(r,j,l),r[k]||g(r,k,p),h[p]=l;for(o in d)r[o]||e(r,o,d[o],!0)}}},function(a,b,c){(function(b,c){!function(b){"use strict";function d(a,b,c,d){var e=b&&b.prototype instanceof f?b:f,g=Object.create(e.prototype),h=new o(d||[]);return g._invoke=k(a,c,h),g}function e(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function f(){}function g(){}function h(){}function i(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function j(a){function b(c,d,f,g){var h=e(a[c],a,d);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&t.call(j,"__await")?Promise.resolve(j.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function d(a,c){function d(){return new Promise(function(d,e){b(a,c,d,e)})}return f=f?f.then(d,d):d()}"object"==typeof c&&c.domain&&(b=c.domain.bind(b));var f;this._invoke=d}function k(a,b,c){var d=z;return function(f,g){if(d===B)throw new Error("Generator is already running");if(d===C){if("throw"===f)throw g;return q()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=l(h,c);if(i){if(i===D)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===z)throw d=C,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=B;var j=e(a,b,c);if("normal"===j.type){if(d=c.done?C:A,j.arg===D)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(d=C,c.method="throw",c.arg=j.arg)}}}function l(a,b){var c=a.iterator[b.method];if(c===r){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=r,l(a,b),"throw"===b.method))return D;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var d=e(c,a.iterator,b.arg);if("throw"===d.type)return b.method="throw",b.arg=d.arg,b.delegate=null,D;var f=d.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=r),b.delegate=null,D):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function m(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function n(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function o(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(m,this),this.reset(!0)}function p(a){if(a){var b=a[v];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(t.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=r,b.done=!0,b};return d.next=d}}return{next:q}}function q(){return{value:r,done:!0}}var r,s=Object.prototype,t=s.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},v=u.iterator||"@@iterator",w=u.toStringTag||"@@toStringTag",x="object"==typeof a,y=b.regeneratorRuntime;if(y)return void(x&&(a.exports=y));y=b.regeneratorRuntime=x?a.exports:{},y.wrap=d;var z="suspendedStart",A="suspendedYield",B="executing",C="completed",D={},E={};E[v]=function(){return this};var F=Object.getPrototypeOf,G=F&&F(F(p([])));G&&G!==s&&t.call(G,v)&&(E=G);var H=h.prototype=f.prototype=Object.create(E);g.prototype=H.constructor=h,h.constructor=g,h[w]=g.displayName="GeneratorFunction",y.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===g||"GeneratorFunction"===(b.displayName||b.name))},y.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,h):(a.__proto__=h,w in a||(a[w]="GeneratorFunction")),a.prototype=Object.create(H),a},y.awrap=function(a){return{__await:a}},i(j.prototype),y.AsyncIterator=j,y.async=function(a,b,c,e){var f=new j(d(a,b,c,e));return y.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},i(H),H[w]="Generator",H.toString=function(){return"[object Generator]"},y.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},y.values=p,o.prototype={constructor:o,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(n),!a)for(var b in this)"t"===b.charAt(0)&&t.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=r)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=r),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=t.call(e,"catchLoc"),h=t.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&t.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,D):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),n(c),D}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;n(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:p(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=r),D}}}("object"==typeof b?b:"object"==typeof window?window:"object"==typeof self?self:this)}).call(b,function(){return this}(),c(294))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){c(296),a.exports=c(9).RegExp.escape},function(a,b,c){var d=c(8),e=c(297)(/[\\^$*+?.()|[\]{}]/g,"\\$&");d(d.S,"RegExp",{escape:function(a){return e(a)}})},function(a,b){a.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c)}}},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(300),c(306),c(307),c(309),c(310),c(311),c(312),c(315),c(317),c(318),c(319),c(320),c(321),c(322),c(323),c(324),c(325),c(326),c(327),c(348),c(329),c(330),c(328),c(331),c(332),c(333),c(334),c(335),c(336),c(337),c(338),c(339),c(340),c(341),c(342),c(344),c(345),c(346),c(347),c(303),c(304)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R){"use strict";function S(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var T=S(c),U=S(d),V=S(e),W=S(f),X=S(g),Y=S(h),Z=S(i),$=S(j),_=S(k),aa=S(l),ba=S(m),ca=S(n),da=S(o),ea=S(p),fa=S(q),ga=S(r),ha=S(s),ia=S(t),ja=S(u),ka=S(v),la=S(w),ma=S(x),na=S(y),oa=S(z),pa=S(A),qa=S(B),ra=S(C),sa=S(D),ta=S(E),ua=S(F),va=(S(G),S(H)),wa=S(I),xa=S(J),ya=S(K),za=S(L),Aa=S(M),Ba=S(N),Ca=S(O),Da=S(P),Ea=S(Q);S(R);T.default.registerConstructor("graph.position",U.default),T.default.registerConstructor("graph.axis.x",W.default),T.default.registerConstructor("graph.axis.y",X.default),T.default.registerConstructor("graph.axis.x.bar",Y.default),T.default.registerConstructor("graph.axis.x.time",Z.default),T.default.registerConstructor("graph.serie.line",$.default),T.default.registerConstructor("graph.serie.line.3d",_.default),T.default.registerConstructor("graph.serie.line.color",ca.default),T.default.registerConstructor("graph.serie.contour",ha.default),T.default.registerConstructor("graph.serie.bar",aa.default),T.default.registerConstructor("graph.serie.box",ba.default),T.default.registerConstructor("graph.serie.scatter",da.default),T.default.registerConstructor("graph.serie.zone",ea.default),T.default.registerConstructor("graph.serie.zone.3d",fa.default),T.default.registerConstructor("graph.serie.densitymap",ga.default),T.default.registerConstructor(T.default.SERIE_LINE,$.default),T.default.registerConstructor(T.default.SERIE_LINE_3D,_.default),T.default.registerConstructor(T.default.SERIE_LINE_COLORED,ca.default),T.default.registerConstructor(T.default.SERIE_CONTOUR,ha.default),T.default.registerConstructor(T.default.SERIE_BAR,aa.default),T.default.registerConstructor(T.default.SERIE_BOX,ba.default),T.default.registerConstructor(T.default.SERIE_SCATTER,da.default),T.default.registerConstructor(T.default.SERIE_ZONE,ea.default),T.default.registerConstructor(T.default.SERIE_ZONE_3D,fa.default),T.default.registerConstructor(T.default.SERIE_DENSITYMAP,ga.default),T.default.registerConstructor("graph.plugin.shape",wa.default),T.default.registerConstructor("graph.plugin.drag",va.default),T.default.registerConstructor("graph.plugin.zoom",ya.default),T.default.registerConstructor("graph.plugin.selectScatter",xa.default),T.default.registerConstructor("graph.plugin.timeSerieManager",za.default),T.default.registerConstructor("graph.plugin.serielinedifference",Aa.default),T.default.registerConstructor("graph.plugin.serieLineDifference",Aa.default),T.default.registerConstructor("graph.plugin.axissplitting",Ba.default),T.default.registerConstructor("graph.plugin.makeTracesDifferent",Ca.default),T.default.registerConstructor("graph.plugin.peakPicking",Da.default),T.default.registerConstructor("graph.shape",ia.default),T.default.registerConstructor("graph.shape.areaundercurve",ja.default),T.default.registerConstructor("graph.shape.arrow",ka.default),T.default.registerConstructor("graph.shape.ellipse",la.default),T.default.registerConstructor("graph.shape.label",ma.default),T.default.registerConstructor("graph.shape.polyline",na.default),T.default.registerConstructor("graph.shape.line",oa.default),T.default.registerConstructor("graph.shape.nmrintegral",pa.default),T.default.registerConstructor("graph.shape.html",ua.default),T.default.registerConstructor("graph.shape.peakintegration2d",qa.default),T.default.registerConstructor("graph.shape.rect",ra.default),T.default.registerConstructor("graph.shape.rectangle",ra.default),T.default.registerConstructor("graph.shape.cross",sa.default),T.default.registerConstructor("graph.shape.peakboundariescenter",ta.default),T.default.registerConstructor("graph.legend",V.default),T.default.registerConstructor("graph.waveform",Ea.default),b.default=T.default,a.exports=b.default})},function(a,b,c){var d,f,g;!function(e,h){f=[a,b,c(300),c(301),c(302),c(303)],d=h,g="function"==typeof d?d.apply(b,f):d,!(void 0!==g&&(a.exports=g))}(this,function(a,b,c,d,f,g){"use strict";function h(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function m(a,b,c,d){var e=a.getConstructor(d,!0);if(e||"string"!=typeof d||(e=a.getConstructor("graph.serie."+d,!0)),!e)return H.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var f=new e(a,b,c);return a.appendSerieToDom(f),f}function n(a,b){for(var c=0,d=b.length;c<d;c++){for(var e=!0,f=0,g=b[c].length;f<g;f++)a[0]<b[c][f][0]&&a[1]<b[c][f][0]||a[0]>b[c][f][1]&&a[1]>b[c][f][1]||(e=!1);if(e)return b[c].push(a),c}return b.push([a]),b.length-1}function o(a){var b={top:[],bottom:[],left:[],right:[]},c={top:[],bottom:[],left:[],right:[]};a._painted=!0,a._applyToAxes(function(a,d){if(!a.isShown())return void a.hideGroup();if(a.showGroup(),!a.floating){var e=n(a.getSpan(),c[d]);a.setLevel(e),b[d][e]=Math.max(a.getAxisPosition(),b[d][e]||0)}},!1,!0,!1);var d=b.top.reduce(function(a,b){return a+b},0),e=b.bottom.reduce(function(a,b){return a+b},0);a.drawingSpaceHeight=a.getDrawingHeight()-d-e,[b.top,b.bottom].map(function(a){a.reduce(function(b,c,d){return a[d]=b+c,b+c},0)}),a._applyToAxes(function(a,c){a.isShown()&&!a.floating&&a.setShift(b[c][a.getLevel()])},!1,!0,!1),a._applyToAxes(function(f,g){if(f.isShown()?f.showGroup():f.hideGroup(),f.setMinPx(d),f.setMaxPx(a.getDrawingHeight(!0)-e),!f.floating){var h=f.linkedToAxis?0:f.draw();if(f.isShown()){var i=n(f.getSpan(),c[g]);f.setLevel(i),b[g][i]=Math.max(h,b[g][i]||0)}}},!1,!1,!0);var f=H.extend(!0,{},b);a._applyToAxes(function(a,c){a.isShown()&&!a.floating&&(f[c][a.getLevel()]=Math.max(b[c][a.getLevel()],a.equalizePosition(b[c][a.getLevel()])))},!1,!1,!0),b=f;var g=b.left.reduce(function(a,b){return a+b},0),h=b.right.reduce(function(a,b){return a+b},0);a.drawingSpaceWidth=a.getDrawingWidth()-g-h,[b.left,b.right].map(function(a){a.reduce(function(b,c,d){return a[d]=b+c,b+c},0)}),a._applyToAxes(function(a,c){a.isShown()&&!a.floating&&a.setShift(b[c][a.getLevel()])},!1,!1,!0),a._applyToAxes(function(b,c){!b.isShown(),b.setMinPx(g),b.setMaxPx(a.getDrawingWidth(!0)-h),b.floating||b.linkedToAxis||b.draw()},!1,!0,!1),a._applyToAxes(function(a){if(a.floating){var b=a.getFloatingAxis(),c=a.getFloatingValue(),d=b.getPx(c);a.setShift(d),a.linkedToAxis||a.draw()}},!1,!0,!0),B(a,"right",a.getDrawingWidth(!0),a.getDrawingWidth(!0),d,a.getDrawingHeight(!0)-e),B(a,"left",0,0,d,a.getDrawingHeight(!0)-e),B(a,"top",g,a.getDrawingWidth(!0)-h,0,0),B(a,"bottom",g,a.getDrawingWidth(!0)-h,a.getDrawingHeight(!0)-e,a.getDrawingHeight(!0)-e),a.clipRect.setAttribute("y",d),a.clipRect.setAttribute("x",g),a.clipRect.setAttribute("width",a.getDrawingWidth()-g-h),a.clipRect.setAttribute("height",a.getDrawingHeight()-d-e),a.rectEvent.setAttribute("y",d+a.getPaddingTop()),a.rectEvent.setAttribute("x",g+a.getPaddingLeft()),a.rectEvent.setAttribute("width",a.drawingSpaceWidth),a.rectEvent.setAttribute("height",a.drawingSpaceHeight),a.drawingSpaceMinX=g+a.getPaddingLeft(),a.drawingSpaceMinY=d+a.getPaddingTop(),a.drawingSpaceMaxX=a.getDrawingWidth()-h+a.getPaddingLeft(),a.drawingSpaceMaxY=a.getDrawingHeight()-e+a.getPaddingTop(),a._applyToAxes(function(a,b){a.isShown()&&a.drawLines()},!1,!0,!0),a.shift=b,a.redrawShapes()}function p(a,b,c){return a.forcedPlugin?(a.activePlugin=a.forcedPlugin,void a._pluginExecute(a.activePlugin,c,[a,e])):void q(a,b,[a,b],c)}function q(a,b,c,d){var e,f,g=a.options.keyActions;for(e=0,f=g.length;e<f;e++){if(g[e].plugin){if(a.forcedPlugin==g[e].plugin||a.isActionAllowed(b,g[e]))return g[e].options&&c.push(g[e].options),
a.activePlugin=g[e].plugin,a._pluginExecute(g[e].plugin,d,c),b.preventDefault(),b.stopPropagation(),!0}else if(g[e].callback&&a.isActionAllowed(b,g[e]))return g[e].options&&c.push(g[e].options),b.preventDefault(),b.stopPropagation(),g[e].callback.apply(a,c),!0;g[e].removeSelectedShape&&a.isActionAllowed(b,g[e])&&(b.preventDefault(),b.stopPropagation(),a.selectedShapes.map(function(a){a.kill()}))}return!1}function r(){this.dom=document.createElementNS(Q.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),H.setAttributeTo(this.dom,{xmlns:Q.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize,"data-jsgraph-version":"v2.0.52"}),this.defs=document.createElementNS(Q.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(Q.ns,"g"),this.rectEvent=document.createElementNS(Q.ns,"rect"),H.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(Q.ns,"text"),this.setTitle(this.options.title),H.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(Q.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(Q.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(Q.ns,"g"),this.groupPrimaryGrids=document.createElementNS(Q.ns,"g"),this.groupSecondaryGrids=document.createElementNS(Q.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(Q.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(Q.ns,"clipPath"),this.clip.setAttribute("id","_clipplot"+this._creation),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(Q.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow"+this._creation),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var a=document.createElementNS(Q.ns,"path");a.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(a),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(Q.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_"+this.getId()),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8");var b=document.createElementNS(Q.ns,"line");b.setAttribute("x1","0"),b.setAttribute("y1","8"),b.setAttribute("x2","6"),b.setAttribute("y2","0"),b.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(b),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(Q.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_"+this.getId()),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6");var b=document.createElementNS(Q.ns,"line");b.setAttribute("x1","0"),b.setAttribute("y1","0"),b.setAttribute("x2","8"),b.setAttribute("y2","6"),b.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(b),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(Q.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline"+this._creation),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var c=document.createElementNS(Q.ns,"path");c.setAttribute("d","M 0 -10 L 0 10"),c.setAttribute("stroke","black"),this.vertLineArrow.appendChild(c),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}function s(a){if(!a.wrapper)throw"No wrapper exists. Cannot register the events.";a.wrapper.addEventListener("keydown",function(b){p(a,b,"keydown")}),a.wrapper.addEventListener("keypress",function(b){p(a,b,"keypress")}),a.wrapper.addEventListener("keyup",function(b){p(a,b,"keyup")}),a.dom.addEventListener("mousemove",function(b){var c=a._getXY(b);u(a,c.x,c.y,b)}),a.dom.addEventListener("mouseleave",function(b){D(a)}),a.groupEvent.addEventListener("mousedown",function(b){if(a.focus(),3!=b.which&&!b.ctrlKey){var c=a._getXY(b);t(a,c.x,c.y,b)}}),a.dom.addEventListener("mouseup",function(b){a.emit("mouseUp",b);var c=a._getXY(b);y(a,c.x,c.y,b)}),a.wrapper.addEventListener("mouseup",function(a){a.stopPropagation()}),a.dom.addEventListener("dblclick",function(b){a.emit("dblClick",b);var c=a._getXY(b);x(a,c.x,c.y,b)}),a.groupEvent.addEventListener("click",function(b){if(3!=b.which&&!b.ctrlKey){var c=a._getXY(b);a.prevent(!1)||z(a,c.x,c.y,b)}}),a.groupEvent.addEventListener("mousewheel",function(b){var c=b.wheelDeltaY||b.wheelDelta||-b.deltaY;return C(a,c,b),!1}),a.groupEvent.addEventListener("wheel",function(b){var c=b.wheelDeltaY||b.wheelDelta||-b.deltaY;return C(a,c,b),!1})}function t(a,b,c,d){return a.forcedPlugin?(a.activePlugin=a.forcedPlugin,void a._pluginExecute(a.activePlugin,"onMouseDown",[a,b,c,d])):(a.activePlugin&&(a.activePlugin=!1),void v(a,d,[a,b,c,d],"onMouseDown"))}function u(a,b,c,d){if(a.bypassHandleMouse)return void a.bypassHandleMouse.handleMouseMove(d);if(!a.activePlugin||!a._pluginExecute(a.activePlugin,"onMouseMove",[a,b,c,d])){if(a._applyToAxes("handleMouseMove",[b-a.options.paddingLeft,d],!0,!1),a._applyToAxes("handleMouseMove",[c-a.options.paddingTop,d],!1,!0),!a.activePlugin){var e;if(a.options.trackingLine&&a.options.trackingLine.enable&&a.options.trackingLine.snapToSerie&&"common"==a.options.trackingLine.mode){var f=a.options.trackingLine.snapToSerie;if(e=f.handleMouseMove(!1,!0),this.trackingObject)if(e){a.trackingObject.show(),a.trackingObject.getPosition(0).x=e.xClosest,a.trackingObject.getPosition(1).x=e.xClosest,a.trackingObject.redraw();var b=f.getXAxis().getPx(e.xClosest)+a.options.paddingLeft}else a.trackingObject.hide();var g=a.options.trackingLine.series;g||(g=a.getSeries().map(function(a){return{serie:a,withinPx:20,withinVal:-1}})),a._trackingLegend=R(a,g,b,c,a._trackingLegend,a.options.trackingLine.textMethod,e.xClosest)}}if(a.options.onMouseMoveData){for(var h={},i=0;i<a.series.length;i++)h[a.series[i].getName()]=a.series[i].handleMouseMove(!1,!0);a.options.onMouseMoveData.call(a,d,h)}v(a,d,[a,b,c,d],"onMouseMove")}}function v(a,b,c,d){var e,f,g=a.options.mouseActions,h=!1;for(e=0,f=g.length;e<f;e++)if(g[e].plugin){if(a.forcedPlugin==g[e].plugin||a.isActionAllowed(b,g[e])){g[e].options&&c.push(g[e].options),"wheel"!==b.type&&"mousewheel"!==b.type&&(a.activePlugin=g[e].plugin),a._pluginExecute(g[e].plugin,d,c),h=!0;continue}}else{if(g[e].callback&&a.isActionAllowed(b,g[e])){g[e].options&&c.push(g[e].options),g[e].callback.apply(a,c),h=!0;continue}if(g[e].series){var i;"all"===g[e].series&&(i=a.series),Array.isArray(g[e].series)||(i=[i]),g[e].options&&c.push(g[e].options);for(var j=0;j<i.length;e++)a._serieExecute(i[e],d,c);h=!0;continue}}return h}function w(a){var b=document.createElement("div");return b.setAttribute("class","trackingLegend"),b.style.position="absolute",b.style.borderRadius="4px",b.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",b.style.border="2px solid #333333",b.style.backgroundColor="rgba(255, 255, 255, 0.5 )",b.style.pointerEvents="none",b.style.paddingTop="5px",b.style.paddingBottom="5px",b.style.paddingLeft="10px",b.style.paddingRight="10px",a.getWrapper().insertBefore(b,a.getDom()),b}function x(a,b,c,d){a.options.dblclick;v(a,d,[b,c,d],"onDblClick")}function y(a,b,c,d){return a.bypassHandleMouse?(a.bypassHandleMouse.handleMouseUp(d),void(a.activePlugin=!1)):(a._pluginExecute(a.activePlugin,"onMouseUp",[a,b,c,d]),void(a.activePlugin=!1))}function z(a,b,c,d){a.emit("click",[a,b,c,d]),v(a,d,[b,c,d],"onClick"),d.target.jsGraphIsShape||a.prevent(!1)||!a.options.shapesUnselectOnClick||a.unselectShapes()}function A(a,b,c,d){var e,c=c||{},f={def:{x:a.getConstructor("graph.axis.x"),y:a.getConstructor("graph.axis.y")},time:{x:a.getConstructor("graph.axis.x.time")},bar:{x:a.getConstructor("graph.axis.x.bar")}};switch(c.type){case"time":var g=f.time;break;case"bar":var g=f.bar;break;case"broken":var g=f.broken;break;default:var g=f.def}switch(d){case"top":case"bottom":e=g.x;break;case"left":case"right":e=g.y}return b=b||0,"object"==("undefined"==typeof b?"undefined":L(b))&&(c=b,b=0),a.axis[d][b]||(a.axis[d][b]=new e(a,d,c),a.axis[d][b].init(a,c)),a.axis[d][b]}function B(a,b,c,d,e,f){if(a.options.close!==!1){var g=0;a.axis[b].map(function(a){a.isDisplayed()&&!a.floating&&g++}),a.options.close!==!0&&!a.options.close[b]||0!=g?a.closingLines[b].setAttribute("display","none"):(a.closingLines[b].setAttribute("display","block"),a.closingLines[b].setAttribute("x1",c),a.closingLines[b].setAttribute("x2",d),a.closingLines[b].setAttribute("y1",e),a.closingLines[b].setAttribute("y2",f))}}function C(a,b,c){v(a,c,[b,c],"onMouseWheel")&&(c.preventDefault(),c.stopPropagation())}function D(a){a.options.handleMouseLeave&&a.options.handleMouseLeave.call(a)}function E(a){var b=a._axesHaveChanged;return a._axesHaveChanged=!1,b}function F(a){var b=a._sizeChanged;return a._sizeChanged=!1,b}Object.defineProperty(b,"__esModule",{value:!0});var G=i(c),H=h(d),I=i(f),J=i(g),K=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},M=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),N={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},O={shape:"circle",r:4},P=new Map,Q=function(a){function b(a,c,d){j(this,b);var e=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));e._creation=H.guid(),e._drawn=!1,a!==Object(a)||a instanceof HTMLElement?"string"==typeof a?a=document.getElementById(a):"number"==typeof a.length&&(a=a[0]):(d=c,c=a,a=null),e.options=H.extend({},N,c),r.bind(e)(),a&&e.setWrapper(a),e.prevented=!1,e.axis={left:[],top:[],bottom:[],right:[]},e.shapes=[],e.shapesLocked=!1,e.plugins={};for(var f in e.options.pluginAction)e.options.pluginAction.plugin=f,e.options.mouseActions.push(e.options.pluginAction);if(e.selectedShapes=[],e.series=[],e._axesHaveChanged=!0,e.options.hasOwnProperty("padding")&&H.isNumeric(e.options.padding)&&(e.options.paddingTop=e.options.paddingBottom=e.options.paddingLeft=e.options.paddingRight=e.options.padding),e.currentAction=!1,e.ns=b.ns,e.nsxlink=b.nsxlink,d)for(var f in d)for(var g=0,h=d[f].length;g<h;g++)switch(f){case"top":e.getTopAxis(g,d[f][g]);break;case"bottom":e.getBottomAxis(g,d[f][g]);break;case"left":e.getLeftAxis(g,d[f][g]);break;case"right":e.getRightAxis(g,d[f][g])}return e._pluginsInit(),e}return l(b,a),M(b,[{key:"setWrapper",value:function(a){if(!a)throw"The wrapper DOM element was not found.";if(!a.appendChild)throw"The wrapper appears to be an invalid HTMLElement";if(a.style["-webkit-user-select"]="none",a.style["-moz-user-select"]="none",a.style["-o-user-select"]="none",a.style["-ms-user-select"]="none",a.style["user-select"]="none",a.style.position="relative",a.style.outline="none",this.wrapper=a,!this.height||!this.width){var b=getComputedStyle(a),c=parseInt(b.width),d=parseInt(b.height);this.setSize(c,d),this._resize()}a.appendChild(this.dom),s(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(a,b){return this.options[a]=b,this}},{key:"setTitle",value:function(a){this.options.title=a,this.domTitle.textContent=a}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(a,b){if(this.width&&this.height)return this.sizeSet?!a||b||E(this)||F(this)?(this.executeRedrawSlaves(),o(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(a){this._pluginsExecute("preDraw")}},{key:"draw",value:function(a){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,a)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(a,b){this.width=a,b||this._resize()}},{key:"setHeight",value:function(a,b){this.height=a,b||this._resize()}},{key:"resize",value:function(a,b){return a&&b&&this.setSize(a,b),this._resize(),this}},{key:"setSize",value:function(a,b){this.setWidth(a,!0),this.setHeight(b,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(a){return a&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(a){return a&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=H.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getXAxis",value:function(a,b){return this.axis.top.length>0&&0==this.axis.bottom.length?this.getTopAxis(a,b):this.getBottomAxis(a,b)}},{key:"getYAxis",value:function(a,b){return this.axis.right.length>0&&0==this.axis.left.length?this.getRightAxis(a,b):this.getLeftAxis(a,b)}},{key:"getTopAxis",value:function(a,b){return A(this,a,b,"top")}},{key:"getBottomAxis",value:function(a,b){return A(this,a,b,"bottom")}},{key:"getLeftAxis",value:function(a,b){return A(this,a,b,"left")}},{key:"getRightAxis",value:function(a,b){return A(this,a,b,"right")}},{key:"setXAxis",value:function(a,b){this.setBottomAxis(a,b)}},{key:"setYAxis",value:function(a,b){this.setLeftAxis(a,b)}},{key:"setLeftAxis",value:function(a,b){b=b||0,this.axis.left[b]&&this.axis.left[b].kill(),this.axis.left[b]=a}},{key:"setRightAxis",value:function(a,b){b=b||0,this.axis.right[b]&&this.axis.right[b].kill(),this.axis.right[b]=a}},{key:"setTopAxis",value:function(a,b){b=b||0,this.axis.top[b]&&this.axis.top[b].kill(),this.axis.top[b]=a}},{key:"setBottomAxis",value:function(a,b){b=b||0,this.axis.bottom[b]&&this.axis.bottom[b].kill(),this.axis.bottom[b]=a}},{key:"killAxis",value:function(a){var b,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.isX()&&((b=this.axis.bottom.indexOf(a))>-1&&this.axis.bottom.splice(b,1),(b=this.axis.top.indexOf(a))>-1&&this.axis.top.splice(b,1),d||this.series.map(function(b){b.getXAxis()==a&&b.kill()})),a.isY()&&((b=this.axis.left.indexOf(a))>-1&&this.axis.left.splice(b,1),(b=this.axis.right.indexOf(a))>-1&&this.axis.right.splice(b,1),d||this.series.map(function(b){b.getYAxis()==a&&b.kill()})),this.axisGroup.removeChild(a.group),this.groupPrimaryGrids.removeChild(a.gridPrimary),this.groupSecondaryGrids.removeChild(a.gridSecondary),c||this.draw(!0)}},{key:"hasXAxis",value:function(a){return this.hasTopAxis(a)||this.hasBottomAxis(a)}},{key:"hasYAxis",value:function(a){return this.hasLeftAxis(a)||this.hasRightAxis(a)}},{key:"hasTopAxis",value:function(a){return this.hasAxis(a,this.axis.top)}},{key:"hasBottomAxis",value:function(a){return this.hasAxis(a,this.axis.bottom)}},{key:"hasLeftAxis",value:function(a){return this.hasAxis(a,this.axis.left)}},{key:"hasRightAxis",value:function(a){return this.hasAxis(a,this.axis.right)}},{key:"hasAxis",value:function(a,b){for(var c=0,d=b.length;c<d;c++){if(b[c]==a)return!0;if(b[c].hasAxis(a))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(a){return a?(a.setMinMaxToFitSeries(),this):this}},{key:"setBackgroundColor",value:function(a){return this.rectEvent.setAttribute("fill",a),this}},{key:"getAxisState",value:function(){var a={};for(var b in this.axis)a[b]=this.axis[b].map(function(a){return[a.getCurrentMin(),a.getCurrentMax()]});return a}},{key:"setAxisState",value:function(a){var b,c;for(var d in a)if(this.axis[d])for(b=0,c=a[d].length;b<c;b++)this.axis[d][b]&&(this.axis[d][b].setCurrentMin(a[d][b][0]),this.axis[d][b].setCurrentMax(a[d][b][1]));this.draw()}},{key:"saveAxisState",value:function(a){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[a]=this.getAxisState(),this}},{key:"recallAxisState",value:function(a){return this.savedAxisState[savedName]&&this.recallAxisState(this.savedAxisState[savedName]),this}},{key:"_applyToAxis",value:function(a){switch(a){case"string":return function(a,b,c){for(var d=0;d<this.axis[a].length;d++)this.axis[a][d][b].apply(this.axis[a][d],c)};case"function":return function(a,b,c){for(var d=0;d<this.axis[a].length;d++)b.call(this,this.axis[a][d],a,c)}}}},{key:"getBoundaryAxis",value:function(a,b,c){var d=this.getBoundaryAxisFromSeries(a,b,c);return d}},{key:"getBoundaryAxisFromSeries",value:function(a,b,c){var d,e,f,g,h,i,j="min"==b,k=a.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"],l=k[j?0:1],m=j?+(1/0):-(1/0);for(d=m,f=this.getSeriesFromAxis(a),h=0,i=f.length;h<i;h++)e=f[h],e.isShown()&&(g=e[l](c),d=Math[b](isNaN(d)?m:d,isNaN(g)?m:g));return d}},{key:"getSeriesFromAxis",value:function(a){for(var b=[],c=this.series.length-1;c>=0;c--)this.series[c].getXAxis()!=a&&this.series[c].getYAxis()!=a||b.push(this.series[c]);return b}},{key:"updateDataMinMaxAxes",value:function(a){var b,c,d,e,f,g=["bottom","top","left","right"];for(c=0,d=g.length;c<d;c++)for(e=this.axis[g[c]].length-1;e>=0;e--){b=this.axis[g[c]][e],f=c<2?"x":"y",!b.isShown();var h=this.getBoundaryAxis(this.axis[g[c]][e],"min",a),i=this.getBoundaryAxis(this.axis[g[c]][e],"max",a);isFinite(h)&&b.setMinValueData(h),isFinite(i)&&b.setMaxValueData(i)}}},{key:"_applyToAxes",value:function(a,b,c,d){var e,f=[],g=0;for((c||void 0==c)&&(f.push("top"),f.push("bottom")),(d||void 0==d)&&(f.push("left"),f.push("right")),e=f.length;g<e;g++)this._applyToAxis("undefined"==typeof a?"undefined":L(a)).call(this,f[g],a,b)}},{key:"findAxesLinkedTo",value:function(a){var b=[];return this._applyToAxes(function(c){c.linkedToAxis&&c.linkedToAxis.axis==a&&b.push(c)},{},a instanceof this.getConstructor("graph.axis.x"),a instanceof this.getConstructor("graph.axis.y")),b}},{key:"_axisHasChanged",value:function(a){this._axesHaveChanged=!0}},{key:"newSerie",value:function(a,c,d){var e=void 0;return"object"===("undefined"==typeof c?"undefined":L(c))||d||(d=c,c={}),d||(d=b.SERIE_LINE),(e=this.getSerie(a))?e:(e=m(this,a,c,d))?(this.series.push(e),this.emit("newSerie",e),e):void 0}},{key:"getSerie",value:function(a){if("number"==typeof a)return this.series[a]||!1;"function"==typeof a&&(a=a());for(var b=0,c=this.series.length;b<c;b++)if(this.series[b].getName()==a||this.series[b]==a)return this.series[b];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.series.filter(function(a){return b.include(a.getType())})}},{key:"drawSerie",value:function(a,b){if(!a.draw)throw"Serie has no method draw";a.draw(b)}},{key:"drawSeries",value:function(a){if(this.width&&this.height)for(var b=this.series.length-1;b>=0;b--)this.series[b].isShown()&&this.drawSerie(this.series[b],a)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(a,b){"object"!=("undefined"==typeof a?"undefined":L(a))&&(a=this.getSerie(a)),this.selectedSerie==a&&this.selectedSerie.selectionType==b||(this.selectedSerie!==a&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=a,this.triggerEvent("onSelectSerie",a),a.select(b||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(a){a.unselect&&(a.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",a))}},{key:"getShapesOfSerie",value:function(a){for(var b=[],c=this.shapes.length-1;c>=0;c--)this.shapes[c].getSerie()==a&&b.push(this.shapes[c]);return b}},{key:"makeToolbar",value:function(a){var b=this.getConstructor("graph.toolbar");return b?this.toolbar=new b(this,a):H.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(a,b,c,d){if(this.prevent(!1),!c&&(this.emit("beforeNewShape",b),this.prevent(!1)))return!1;"object"==("undefined"==typeof a?"undefined":L(a))&&(c=b,b=a,a=b.type),b=b||{},b._id=H.guid();var e;if(e="function"==typeof a?a:this.getConstructor("graph.shape."+a),!e)return H.throwError("No constructor for this shape");var f=new e(this,b);if(!f)return H.throwError("Failed to construct shape.");if(f.type=a,f.graph=this,f._data=b,void 0!==b.properties&&f.setProperties(b.properties),f.init(this,d),void 0!==b.props)for(var g in b.props)f.setProp(g,b.props[g]);if(b.position)for(var g=0,h=b.position.length;g<h;g++)f.setPosition(new G.default(b.position[g]),g);if(void 0!==b.fillColor&&f.setFillColor(b.fillColor),void 0!==b.fillOpacity&&f.setFillOpacity(b.fillOpacity),void 0!==b.strokeColor&&f.setStrokeColor(b.strokeColor),void 0!==b.strokeWidth&&f.setStrokeWidth(b.strokeWidth),void 0!==b.layer&&f.setLayer(b.layer),1==b.locked&&f.lock(),1==b.movable&&f.movable(),1==b.selectable&&f.selectable(),1==b.resizable&&f.resizable(),void 0!==b.attributes&&f.setProp("attributes",b.attributes),void 0!==b.handles&&f.setProp("handles",b.handles),void 0!==b.selectOnMouseDown&&f.setProp("selectOnMouseDown",!0),void 0!==b.selectOnClick&&f.setProp("selectOnClick",!0),void 0!==b.transforms&&Array.isArray(b.transforms)&&b.transforms.forEach(function(a,b){var c=a.type,d=a.value;f.addTransform(c,d)}),void 0!==b.highlightOnMouseOver&&f.setProp("highlightOnMouseOver",!0),b.labelEditable&&f.setProp("labelEditable",b.labelEditable),b.labels&&!b.label&&(b.label=b.labels),void 0!==b.label){Array.isArray(b.label)||(b.label=[b.label]);for(var g=0,h=b.label.length;g<h;g++)f.showLabel(g),f.setLabelText(b.label[g].text,g),f.setLabelPosition(b.label[g].position,g),f.setLabelColor(b.label[g].color||"black",g),f.setLabelSize(b.label[g].size,g),f.setLabelAngle(b.label[g].angle||0,g),f.setLabelBaseline(b.label[g].baseline||"no-change",g),f.setLabelAnchor(b.label[g].anchor||"start",g),f.setLabelBackgroundColor(b.label[g].backgroundColor||"transparent",g),f.setLabelBackgroundOpacity(b.label[g].backgroundOpacity||1,g)}return b.serie&&f.setSerie(this.getSerie(b.serie)),f.createHandles(),this.shapes.push(f),c||this.emit("newShape",f,b),f}},{key:"newPosition",value:function(a){return new(Function.prototype.bind.apply(G.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"redrawShapes",value:function(){for(var a=0,b=this.shapes.length;a<b;a++)this.shapes[a].redraw()}},{key:"removeShapes",value:function(){for(var a=0,b=this.shapes.length;a<b;a++)this.shapes[a]&&this.shapes[a].kill&&this.shapes[a].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(a,b){if(a){if(this.selectedShapes.indexOf(a)>-1)return!1;if(!a.isSelectable())return!1;b||this.emit("beforeShapeSelect",a),this.prevent(!1)||(this.selectedShapes.length>0&&this.options.shapesUniqueSelection&&this.unselectShapes(b),a._select(b),this.selectedShapes.push(a),b||this.emit("shapeSelect",a))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(a,b){if(this.selectedShapes.indexOf(a)!=-1){if(b||this.emit("beforeShapeUnselect",a),this.cancelUnselectShape)return void(this.cancelUnselectShape=!1);a._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(a),1),b||this.emit("shapeUnselect",a)}}},{key:"unselectShapes",value:function(a){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],a);return this}},{key:"_removeShape",value:function(a){this.shapes.splice(this.shapes.indexOf(a),1)}},{key:"appendShapeToDom",value:function(a){a.isHTML()&&this.wrapper.insertBefore(a._dom,this.dom),this.getLayer(a.getLayer(),"shape").appendChild(a.group)}},{key:"removeShapeFromDom",value:function(a){a.isHTML()&&this.wrapper.removeChild(a._dom),this.getLayer(a.getLayer(),"shape").removeChild(a.group)}},{key:"appendSerieToDom",value:function(a){this.getLayer(a.getLayer(),"serie").appendChild(a.groupMain)}},{key:"removeSerieFromDom",value:function(a){this.getLayer(a.getLayer(),"serie").removeChild(a.groupMain)}},{key:"getLayer",value:function(a,c){if(!this.layers[a]){this.layers[a]=[],this.layers[a][0]=document.createElementNS(b.ns,"g"),this.layers[a][0].setAttribute("data-layer",a),this.layers[a][1]=document.createElementNS(b.ns,"g"),this.layers[a][2]=document.createElementNS(b.ns,"g"),this.layers[a][0].appendChild(this.layers[a][1]),this.layers[a][0].appendChild(this.layers[a][2]);for(var d,e=1;!(d=this.layers[a-e])&&a-e>=0;)e++;d?d.nextSibling?this.plotGroup.insertBefore(this.layers[a][0],d.nextSibling):this.plotGroup.appendChild(this.layers[a][0]):this.plotGroup.insertBefore(this.layers[a][0],this.plotGroup.firstChild)}return this.layers[a]["shape"==c?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(a){this.bypassHandleMouse=a}},{key:"stopElementMoving",value:function(a){a&&a==this.bypassHandleMouse?this.bypassHandleMouse=!1:a||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var a=["top","bottom","left","right"],c=0,d=4;c<d;c++){var e=document.createElementNS(b.ns,"line");e.setAttribute("stroke",this.options.closeColor),e.setAttribute("shape-rendering","crispEdges"),e.setAttribute("stroke-linecap","square"),e.setAttribute("display","none"),this.closingLines[a[c]]=e,this.graphingZone.appendChild(e)}}},{key:"isActionAllowed",value:function(a,b){if((b.type===a.type||void 0===b.type&&"mousedown"===a.type||("wheel"===a.type||"mousewheel"===a.type)&&"mousewheel"==b.type)&&(!b.enabled||("function"==typeof b.enabled?b.enabled(this):actions.enabled))){if(b.key&&b.key!==a.keyCode){var c={backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39};if(c[b.key]!==a.keyCode)return}return void 0===b.shift&&(b.shift=!1),void 0===b.ctrl&&(b.ctrl=!1),void 0===b.meta&&(b.meta=!1),void 0===b.alt&&(b.alt=!1),a.shiftKey==b.shift&&a.ctrlKey==b.ctrl&&a.metaKey==b.meta&&a.altKey==b.alt}}},{key:"forcePlugin",value:function(a){this.forcedPlugin=a}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(a,b){for(var c in this.plugins)this.plugins[c]&&this.plugins[c][a]&&this.plugins[c][a].apply(this.plugins[c],b)}},{key:"_pluginExecute",value:function(a,b,c){if(a)return this.plugins[a]&&this.plugins[a][b]?(this.plugins[a][b].apply(this.plugins[a],c),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(a,b,c){"object"!==("undefined"==typeof serie?"undefined":L(serie))&&(serie=this.getSerie(serie)),"function"==typeof serie[b]&&serie.apply(serie,c)}},{key:"_pluginsInit",value:function(){var a,b,c;for(var d in this.options.plugins)b=d,c=this.options.plugins[d],a=this.getConstructor("graph.plugin."+b),a?(this.plugins[b]=new a(c),H.mapEventEmission(this.plugins[b].options,this.plugins[b]),this.plugins[b].init(this,c)):H.throwError('Plugin "'+b+'" has not been registered')}},{key:"getPlugin",value:function(a){var b=this.plugins[a];return b?b:H.throwError('Plugin "'+a+'" has not been loaded or properly registered')}},{key:"triggerEvent",value:function(){var a=arguments[0];Array.prototype.splice.apply(arguments,[0,1]);if("function"==typeof this.options[a])return this.options[a].apply(this,arguments)}},{key:"makeLegend",value:function(a){if(this.legend)return this.legend;var b=this.getConstructor("graph.legend");return b?(this.legend=new b(this,a),this.legend):H.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(a),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(a){this.options.zAxis=H.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var a=this;this.zAxis||(this.zAxis={g:document.createElementNS(b.ns,"g"),l:document.createElementNS(b.ns,"line")
},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var c=this.options.zAxis.xAxis,d=this.options.zAxis.yAxis,e=c.getMinPx(),f=d.getMinPx(),g=c.getZProj(this.options.zAxis.maxZ),h=d.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",e),this.zAxis.l.setAttribute("x2",e+g),this.zAxis.l.setAttribute("y1",f),this.zAxis.l.setAttribute("y2",f+h),this.updateDataMinMaxAxes(!0);var i=this.series.map(function(a){return[a.getZPos(),a]});i.sort(function(a,b){return b[0]-a[0]});var j=0;i.forEach(function(b){b[1].setLayer(j),a.appendSerieToDom(b[1]),j++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(a){this.series.splice(this.series.indexOf(a),1)}},{key:"contextListen",value:function(a,b,c){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(a,b,c)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var a=0,b=this.shapes.length;a<b;a++)this.shapes[a].moving=!1,this.shapes[a].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(a){var b=this.prevented;return a!=-1&&(this.prevented=void 0==a||a),b}},{key:"_getXY",value:function(a){var b=a.clientX,c=a.clientY,d=this.offsetCached||H.getOffset(this.wrapper);return b-=d.left,c-=d.top,{x:b,y:c}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){H.setAttributeTo(this.graphingZone,{transform:"translate("+this.options.paddingLeft+", "+this.options.paddingTop+")"}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var a=this;return function(){return a.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var a=this;return function(){return a.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var a=this;return function(){return a.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var a=this;return function(){return a.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var a=this;return function(){return a.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var a=this;return function(){return a.drawingSpaceMaxY}}},{key:"trackingLine",value:function(a){var b=this,c=this;return"boolean"==typeof a?void(this.options.trackingLine&&(this.options.trackingLine.enable=a)):(a&&(this.options.trackingLine=a),a.series=a.series||[],a.enable=void 0===a.enable||!!a.enable,"individual"==a.mode?a.series&&(Array.isArray(a.series)||("all"==a.series?a.series=this.series.map(function(a){}):a.series=[a.series]),a.series.forEach(function(a){if("object"!==L(a.serie)){if("object"!==("undefined"==typeof a?"undefined":L(a)))throw"Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }";a.serie=b.getSerie(a.serie)}a.serie&&c.addSerieToTrackingLine(a.serie,a)})):a.series.map(function(a){a.serie.disableTracking()}),a.noLine?void 0:(this.trackingObject||(this.trackingObject=this.newShape("line",H.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},a.trackingLineShapeOptions))),this.trackingObject.draw(),this.trackingObject))}},{key:"addSerieToTrackingLine",value:function(a,b){var c=this;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.push(Object.assign({serie:a},b)),a.enableTracking(function(a,d,e,f){c.options.trackingLine.enable&&d&&(c.trackingObject&&(c.trackingObject.show(),c.trackingObject.getPosition(0).x=d.trueX,c.trackingObject.getPosition(1).x=d.trueX,c.trackingObject.redraw()),a._trackingLegend=R(c,{serie:a},e,f,a._trackingLegend,b.textMethod?b.textMethod:function(a){for(var b in a)return a[b].serie.serie.getName()+": "+a[b].serie.serie.getYAxis().valueToHtml(a[b].yValue)},d.trueX),a._trackingLegend&&(a._trackingLegend.style.display="block"))},function(a){c.trackingObject&&c.trackingObject.hide(),a.trackingShape&&a.trackingShape.hide(),a._trackingLegend&&(a._trackingLegend.style.display="none"),a._trackingLegend=R(c,{serie:a},!1,!1,a._trackingLegend,!1,!1)})}},{key:"setKatexRenderer",value:function(a){this._katexRenderer=a}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(a,c){if(this._katexRenderer){c?c.removeChild(c.firstChild):c=document.createElementNS(b.ns,"foreignObject");var d=document.createElement("div");return c.appendChild(d),this._katexRenderer(a,d),c}return!1}},{key:"exportToSchema",value:function(){var a=this,c={};c.title=this.options.title,c.width=this.getWidth(),c.height=this.getHeight();var d=["top","bottom","left","right"],e=[],f={x:[],y:[]};d.map(function(b){a.axis[b]&&(e=e.concat(a.axis[b].map(function(a){return{type:b,label:a.options.label,unit:a.options.unit,min:a.options.forcedMin,max:a.options.forcedMax,flip:a.options.flipped}})),"top"==b||"bottom"==b?f.x=f.x.concat(a.axis[b]):f.y=f.y.concat(a.axis[b]))}),c.axis=e;var g=[],h=function(a){switch(a){case b.SERIE_LINE:return"line";case b.SERIE_BAR:return"bar";case b.SERIE_LINE_COLORED:return"color";case b.SERIE_SCATTER:return"scatter"}},i=function(a,c){var d=[];switch(a.getType()){case b.SERIE_LINE:for(var e=0;e<a.data.length;e++)for(var f=0;f<a.data[e].length-1;f+=2)d.push(a.data[e][f+(c&&a.isFlipped()||!c&&!a.isFlipped()?1:0)]);break;case b.SERIE_SCATTER:for(var f=0;f<a.data.length-1;f+=2)d.push(a.data[e+(c&&a.isFlipped()||!c&&!a.isFlipped()?1:0)])}return d};return c.data=g.concat(this.series.map(function(a){style=[];var c=[];if(a.getType()==b.SERIE_LINE)for(var d in a.styles){c.push({styleName:d,color:a.styles[d].lineColor,lineWidth:a.styles[d].lineWidth,lineStyle:a.styles[d].lineStyle});var e={styleName:d,styles:[]};style.push(e),e.styles=e.styles.concat((a.styles[d].markers||[]).map(function(a){return{shape:a.type,zoom:a.zoom,lineWidth:a.strokeWidth,lineColor:a.strokeColor,color:a.fillColor,points:a.points}}))}return{label:a.getLabel(),id:a.getName(),type:h(a.getType()),x:i(a,!0),y:i(a,!1),xAxis:f.x.indexOf(a.getXAxis()),yAxis:f.y.indexOf(a.getYAxis()),style:style,lineStyle:c}})),c}}],[{key:"fromJSON",value:function(a,c){var d=void 0,e={},f={left:[],top:[],right:[],bottom:[]},g=void 0;return a.title&&(e.title=a.title),a.axis&&a.axis.map(function(a){a.type||H.throwError("Axis type is required (top, bottom, left or right)");var b={};a.label&&(b.labelValue=a.label),void 0!==a.unit&&(b.unit=a.unit),void 0!==a.unitWrapperAfter&&(b.unitWrapperAfter=a.unitWrapperAfter),void 0!==a.unitWrapperBefore&&(b.unitWrapperBefore=a.unitWrapperBefore),void 0!==a.min&&(b.forcedMin=a.min),void 0!==a.max&&(b.forcedMax=a.max),void 0!==a.flip&&(b.flipped=a.flip),f[a.type].push(b),a._jsGraphIndex=f[a.type].length-1}),d=new b(c,e,f),a.width&&d.setWidth(a.width),a.height&&d.setHeight(a.width),d._resize(),a.data&&a.data.map(function(c){var e,f,h=c.type,i={},j=void 0;switch(c.type){case"bar":H.throwError("Bar charts not supported"),h=!1;break;case"color":h=b.SERIE_LINE_COLORED;break;case"scatter":h=b.SERIE_SCATTER;break;case"box":h=b.SERIE_BOX,"x"!=c.orientation&&"y"!=c.orientation||(i.orientation=c.orientation);break;default:h=b.SERIE_LINE}if(h!==b.SERIE_BOX&&(j=b.newWaveform()),!h)return void H.throwError("No valid serie type was found");e=d.newSerie(c.id||c.label||H.guid(),i,h),c.lineStyle&&(Array.isArray(lineStyle)&&(lineStyle={unselected:lineStyle}),Object.entries(lineStyle).forEach(function(a){var c=K(a,2),d=c[0],f=c[1],g={};switch(h){case b.SERIE_LINE:void 0!==f.lineWidth&&(g.lineWidth=f.lineWidth),void 0!==f.color&&(g.lineColor=f.color),f.lineStyle&&(g.lineStyle=f.lineStyle),e.setStyle(g,d)}}));var k={},l={};if(c.defaultStyle&&(k=c.defaultStyle),c.defaultStyles&&(l=c.defaultStyles),c.styles){var m=void 0;m=Array.isArray(c.styles)?{unselected:c.styles}:c.styles;var n=new Set(Object.keys(l).concat(Object.keys(m)));n.forEach(function(a){var c=[],d=void 0;switch(m&&m[a]&&(c=m[a],Array.isArray(c)||(c=[c]),d=c.map(function(a){switch(h){case b.SERIE_LINE:return{type:a.shape,zoom:a.zoom,strokeWidth:a.lineWidth,strokeColor:a.lineColor,fillColor:a.color,points:a.points};case b.SERIE_BOX:return a;case b.SERIE_SCATTER:return a}})),h){case b.SERIE_LINE:e.setMarkers(d,a);break;case b.SERIE_SCATTER:e.setStyle(Object.assign({},O,k,l[a]||{}),d,a);break;case b.SERIE_BOX:e.setStyle(d[0],a||"unselected")}})}if(c.color&&h==b.SERIE_LINE_COLORED&&e.setColors(c.color),h!==b.SERIE_BOX&&j.setData(c.y,c.x),e){var o=[],p=[],q=[],r=[],s=[],t=[],u=[],v=[];if(void 0!==j){if(c.errorX)for(var w=0,x=c.errorX.length;w<x;w++)Array.isArray(c.errorX[w])?(o.push(c.errorX[w][0]),p.push(c.errorX[w][1])):(o.push(c.errorX[w]),p.push(c.errorX[w]));else if(c.errorBarX||c.errorBoxX){if(c.errorBarX)for(var w=0,x=c.errorBarX.length;w<x;w++)Array.isArray(c.errorBarX[w])?(o.push(c.errorBarX[w][0]),p.push(c.errorBarX[w][1])):(o.push(c.errorBarX[w]),p.push(c.errorBarX[w]));if(c.errorBoxX)for(var w=0,x=c.errorBoxX.length;w<x;w++)Array.isArray(c.errorBoxX[w])?(s.push(c.errorBoxX[w][0]),t.push(c.errorBoxX[w][1])):(s.push(c.errorBoxX[w]),t.push(c.errorBoxX[w]))}if(c.errorY)for(var w=0,x=c.errorY.length;w<x;w++)Array.isArray(c.errorY[w])?(q.push(c.errorY[w][0]),r.push(c.errorY[w][1])):(q.push(c.errorY[w]),r.push(c.errorY[w]));else if(c.errorBarY||c.errorBoxY){if(c.errorBarY)for(var w=0,x=c.errorBarY.length;w<x;w++)Array.isArray(c.errorBarY[w])?(q.push(c.errorBarY[w][0]),r.push(c.errorBarY[w][1])):(q.push(c.errorBarY[w]),r.push(c.errorBarY[w]));if(c.errorBoxY)for(var w=0,x=c.errorBoxY.length;w<x;w++)Array.isArray(c.errorBoxY[w])?(u.push(c.errorBoxY[w][0]),v.push(c.errorBoxY[w][1])):(u.push(c.errorBoxY[w]),v.push(c.errorBoxY[w]))}g={},o.length>0&&(j.setErrorBarXAbove(b.newWaveform(o)),g.right={}),p.length>0&&(j.setErrorBarXAbove(b.newWaveform(o)),g.left={}),q.length>0&&(j.setErrorBarXAbove(b.newWaveform(q)),g.top={}),r.length>0&&(j.setErrorBarXAbove(b.newWaveform(q)),g.bottom={}),e.setErrorBarStyle(g),g={},s.length>0&&(j.setErrorBoxXAbove(b.newWaveform(s)),g.right={}),t.length>0&&(j.setErrorBoxXBelow(b.newWaveform(t)),g.left={}),u.length>0&&(j.setErrorBoxAbove(b.newWaveform(u)),g.top={}),v.length>0&&(j.setErrorBoxBelow(b.newWaveform(v)),g.bottom={}),e.setErrorBoxStyle(g)}switch(a.axis?(f=a.axis[c.xAxis],!f||"top"!==f.type&&"bottom"!==f.type?(H.warn("No x axis found. Setting automatically"),e.setXAxis(d.getXAxis(0))):"top"==f.type?e.setXAxis(d.getTopAxis(f._jsGraphIndex)):"bottom"==f.type&&e.setXAxis(d.getBottomAxis(f._jsGraphIndex)),f=a.axis[c.yAxis],!f||"left"!==f.type&&"right"!==f.type?(H.warn("No y axis found. Setting automatically"),e.setYAxis(d.getYAxis(0))):"left"==f.type?e.setYAxis(d.getLeftAxis(f._jsGraphIndex)):"right"==f.type&&e.setYAxis(d.getRightAxis(f._jsGraphIndex))):(H.warn("No axes found. Setting automatically"),e.autoAxis()),h){case b.SERIE_BOX:e.setData(c.boxes);break;default:case b.SERIE_SCATTER:case b.SERIE_LINE_COLORED:case b.SERIE_LINE:e.setWaveform(j)}}}),d.autoscaleAxes(),d.draw(),d}},{key:"registerConstructor",value:function(a,b){return P.has(a)?H.throwError("Constructor "+b+" already exists."):void P.set(a,b)}},{key:"getConstructor",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return P.has(a)?P.get(a):!b&&H.throwError('Constructor "'+a+"\" doesn't exist")}},{key:"newWaveform",value:function(){return new(Function.prototype.bind.apply(J.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveform",value:function(){return new(Function.prototype.bind.apply(J.default,[null].concat(Array.prototype.slice.call(arguments))))}}]),b}(I.default);Q.prototype.getConstructor=Q.getConstructor;var R=function(a,b,c,d,e,f,g){var h=!1;Array.isArray(b)||(b=[b]);var i=[];if(!e&&a.options.trackingLine.legend&&(h=!0,e=w(a)),b.map(function(b){var d=b.serie.handleMouseMove(g,!1);if(!d||!f)return b.serie.trackingShape&&b.serie.trackingShape.hide(),e;if(b.withinPx>0&&Math.abs(c-a.options.paddingLeft-b.serie.getXAxis().getPx(d.xClosest))-b.withinPx>1e-14||b.withinVal>0&&Math.abs(b.serie.getXAxis().getVal(c-a.options.paddingLeft)-d.xClosest)-b.withinVal>b.serie.getXAxis().getVal(c-a.options.paddingLeft)/1e5)b.serie.trackingShape&&b.serie.trackingShape.hide();else{if(i[b.serie.getName()]={yValue:d.xClosest,xValue:d.yClosest,serie:b,index:d},b.serie.trackingShape||(b.serie.trackingShape=a.newShape(a.options.trackingLine.serieShape.shape||"ellipse",{fillColor:b.serie.getLineColor(),strokeColor:"White",strokeWidth:b.serie.getLineWidth()},!0,a.options.trackingLine.serieShape.properties||{rx:[3*b.serie.getLineWidth()],ry:[3*b.serie.getLineWidth()]}).setSerie(b.serie).forceParentDom(b.serie.groupMain).draw(),a.options.trackingLine.serieShape.onCreated&&a.options.trackingLine.serieShape.onCreated(b.serie.trackingShape),b.serie.trackingShape.on("changed",function(){a.options.trackingLine.serieShape.onChanged&&a.options.trackingLine.serieShape.onChanged(b.serie.trackingShape)})),b.serie.trackingShape.show(),b.serie.trackingShape.getPosition(0).x=d.xClosest,a.options.trackingLine.serieShape.magnet){var h=a.options.trackingLine.serieShape.magnet,j=h.within,k=void 0;h.withinPx&&(j=b.serie.getXAxis().getRelVal(h.withinPx)),(k=b.serie.findLocalMinMax(d.xClosest,j,h.mode))&&(b.serie.trackingShape.getPosition(0).x=k)}b.serie.trackingShape.redraw()}}),a.options.trackingLine.legend){if(0!=Object.keys(i).length&&f){"none"==e.style.display||h?S(a,e,c,d,!0):T(a,e,c,d),e.style.display="block";var j=f(i,g,c,d);e.innerHTML=j}else e.style.display="none";return e}},S=function(a,b,c,d,e){function f(){var a=(Date.now()-g)/200;a>1&&(a=1),b.style.marginLeft=(c-i)*a+i+"px",b.style.marginTop=(d-j)*a+j+"px",a<1&&window.requestAnimationFrame(f)}var g=Date.now(),h=b.offsetHeight,i=parseInt(b.style.marginLeft.replace("px","")||0),j=parseInt(b.style.marginTop.replace("px","")||0);return c=c>a.getWidth()/2?c-c%10-20-b.offsetWidth:c-c%10+30,d=d-d%10+h/2,e?(b.style.marginLeft=c+"px",void(b.style.marginTop=d+"px")):void window.requestAnimationFrame(f)},T=H.debounce(S,50);Q.SERIE_LINE=Symbol(),Q.SERIE_SCATTER=Symbol(),Q.SERIE_CONTOUR=Symbol(),Q.SERIE_BAR=Symbol(),Q.SERIE_BOX=Symbol(),Q.SERIE_ZONE=Symbol(),Q.SERIE_LINE_COLORED=Symbol(),Q.SERIE_ZONE=Symbol(),Q.SERIE_DENSITYMAP=Symbol(),Q.SERIE_LINE_3D=Symbol(),Q.SERIE_ZONE_3D=Symbol(),Q.TICKS_OUTSIDE=Symbol(),Q.TICKS_INSIDE=Symbol(),Q.TICKS_CENTERED=Symbol(),Q.ns="http://www.w3.org/2000/svg",Q.nsxlink="http://www.w3.org/1999/xlink",b.default=Q,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a){return!!(a&&a.indexOf&&a.indexOf("px")>-1)&&parseInt(a.replace("px",""))}function e(a){return!isNaN(parseFloat(a))&&isFinite(a)}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(){function a(b,d,e,g){c(this,a),"object"==("undefined"==typeof b?"undefined":f(b))?(this.x=b.x,this.y=b.y,this.dx=b.dx,this.dy=b.dy):(this.x=b,this.y=d,this.dx=e,this.dy=g)}return g(a,[{key:"duplicate",value:function(){return new a(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(a,b,c,d){if(a&&b&&c&&a.hasXAxis&&a.hasYAxis||a.throw(),!a.hasXAxis(b))throw"Graph does not contain the x axis that was used as a parameter";if(!a.hasYAxis(c))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(a,b,c,d)}},{key:"_compute",value:function(a,b,c,e){var f=this._relativeTo;if(f)var g=f._compute(a,b,c,e);var h,i={x:!1,y:!1};b||(b=a.getXAxis()),c||(c=a.getYAxis());for(var j in i){var k="x"==j?b:c,l=this[j],m=this["d"+j];if(void 0===l&&(void 0!==m&&void 0===f||void 0===f)){if("x"==j){if(void 0===m)continue;i[j]=f?f[j]:k.getPos(0)}else if(void 0!==this.x&&e)if(d(this.x)!==!1)console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),i[j]=0;else{var n=e.searchClosestValue(this.x);n?i[j]=e.getY(n.yMin):(console.warn("Could not find y position for x = "+this.x+' on serie "'+e.getName()+'". Returning 0 for y.'),i[j]=0)}}else void 0!==l&&(i[j]=this.getPx(l,k));if(void 0!==m){var o=void 0!==l||void 0==g||void 0==g[j]?i[j]:g[j];if("y"==j&&g&&void 0!==g.x&&void 0==g.y){if(!e)throw"Error. No serie exists. Cannot find y value";var n=e.searchClosestValue(f.x);n&&(o=e.getY(n.yMin))}o||(o=0),(h=d(m))!==!1?i[j]=o+h:(h=this._parsePercent(m))!==!1?i[j]=o+this._getPositionPx(h,!0,k,a):k&&(i[j]=o+k.getRelPx(m))}}return i}},{key:"_getPositionPx",value:function(a,b,c,e){var f;return(f=d(a))!==!1?f:(f=this._parsePercent(a))!==!1?f/100*(b?e.getDrawingWidth():e.getDrawingHeight()):c?c.getPos(a):void 0}},{key:"_parsePercent",value:function(a){return!!(a&&a.indexOf&&a.indexOf("%")>-1)&&a}},{key:"getDeltaPx",value:function(a,b){var c;return(c=d(a))!==!1?c+"px":b.getRelPx(a)+"px"}},{key:"deltaPosition",value:function(a,b,c){a="y"==a?"y":"x";var e,f,g=this[a],h=this["d"+a];if(void 0!==g)(e=d(g))!==!1?(f=d(b))!==!1?this[a]=e+f+"px":this[a]=e+c.getRelPx(b)+"px":(g=this.getValPosition(g,c),(f=d(b))!==!1?this[a]=g+c.getRelVal(f):this[a]=g+b);else if(void 0!==h){if("y"==a&&void 0===g&&!this._relativeTo)return;(e=d(h))!==!1?(f=d(b))!==!1?this["d"+a]=e+f+"px":this["d"+a]=e+c.getRelPx(b)+"px":(h=this.getValPosition(h,c),(f=d(b))!==!1?this["d"+a]=h+c.getRelVal(f):this["d"+a]=h+b)}}},{key:"getValPosition",value:function(a,b){return"max"==a?b.getMaxValue():"min"==a?b.getMinValue():a}},{key:"getPx",value:function(a,b,c){var f;if("function"==typeof a)return a(b,c);if((f=d(a))!==!1)return f;if((f=this._parsePercent(a))!==!1)return f;if(b){if("min"==a)return b.getMinPx();if("max"==a)return b.getMaxPx();if(c)return b.getRelPx(a);if(e(a))return b.getPos(a)}}},{key:"getPxRel",value:function(a,b){return this.getPx(a,b,!0)}},{key:"relativeTo",value:function(b){return this._relativeTo=a.check(b),this}}],[{key:"check",value:function(b,c){if(b instanceof a)return b;var d=new a(b);if(b&&b.relativeTo){var e=c(b.relativeTo);e&&d.relativeTo(e)}return d}}]),a}();b.default=h,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a){"use strict";function b(a,b,c){var d;if(c)for(d in b)a.setAttributeNS(c,d,b[d]);else for(d in b)a.setAttribute(d,b[d])}function c(a,b){b||(b=this);var c;for(var d in a)0==d.indexOf("on")&&"function"==typeof a[d]&&(c=d.substring(2),c=c.substring(0,1).toLowerCase()+c.substring(1),b.on&&!function(d){b.on(c,function(){a[d].apply(b,arguments)})}(d))}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function e(a){console.error(a)}function f(a){console.warn(a)}function g(a){return!Array.isArray(a)&&a-parseFloat(a)+1>=0}function h(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function i(a,b,c){var d,e,f;if(0==b)d=e=f=c;else{var g=c<.5?c*(1+b):c+b-c*b,i=2*c-g;d=h(i,g,a+1/3),e=h(i,g,a),f=h(i,g,a-1/3)}return[Math.round(255*d),Math.round(255*e),Math.round(255*f)]}function j(a,b,c){if(a){a._savedAttributesIds=a._savedAttributesIds||[],a._savedAttributesIds.indexOf(c)>-1&&m(a,c),a._savedAttributes=a._savedAttributes||{},a._attributes=a._attributes||{},a._attributes[c]=b,a._savedAttributesIds.push(c);for(var d in b)a._savedAttributes[d]||(a._savedAttributes[d]=a.getAttribute(d)),a.setAttribute(d,b[d])}}function k(a,b){return a._savedAttributes&&void 0!==a._savedAttributes[b]}function l(a,b,c){k(a,b)&&(a._savedAttributes[b]=c)}function m(a,b){if(a&&a._savedAttributesIds){a._savedAttributesIds.splice(a._savedAttributesIds.indexOf(b),1),delete a._attributes[b];var c={};for(var d in a._savedAttributes)c[d]=a._savedAttributes[d];for(var d=0,e=a._savedAttributesIds.length;d<e;d++)for(var f in a._attributes[a._savedAttributesIds[d]])c[f]=a._attributes[a._savedAttributesIds[d]][f];for(var f in c)a.setAttribute(f,c[f])}}function n(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function o(a){var b=new DOMParser,c=b.parseFromString(a,"image/svg+xml");return c}function p(a){var b=null,c=null,d=a.length;for(b=0,c=d-1;b<c;b+=1,c-=1){var e=a[b];a[b]=a[c],a[c]=e}return a}function q(a){var b=a.getBoundingClientRect();return{top:b.top,left:b.left}}function r(a,b){var c=a.style;for(var d in b)c[d]=b[d]}function s(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open(a.type||"GET",a.url,!0),a.json&&d.setRequestHeader("Accept","application/json"),d.onload=function(){if(200===d.status){var e=d.responseText;a.json&&(e=JSON.parse(e)),b(e)}else c(new Error("Request error: "+d.status))},d.onerror=function(){c(new Error("Network error: "+d.status))},d.send()})}function t(){var a,b,c,d,e,f,g=arguments[0],h=1,i=arguments.length,j=!1;for("boolean"==typeof g?(j=g,g=arguments[1]||{},h=2):("object"!==("undefined"==typeof g?"undefined":w(g))&&"function"!=typeof g||null==g)&&(g={});h<i;++h)if(a=arguments[h],null!=a)for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(A(d)||(e=z(d)))?(e?(e=!1,f=c&&z(c)?c:[]):f=c&&A(c)?c:{},g[b]=t(j,f,d)):"undefined"!=typeof d&&(g[b]=d));return g}function u(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.prototype[c]=b[c])}function v(a){for(;a.firstChild;)a.removeChild(a.firstChild)}Object.defineProperty(a,"__esModule",{value:!0}),a.setAttributeTo=b,a.mapEventEmission=c,a.guid=d,a.throwError=e,a.warn=f,a.isNumeric=g,a.hue2rgb=h,a.hslToRgb=i,a.saveDomAttributes=j,a.hasSavedAttribute=k,a.overwriteDomAttribute=l,a.restoreDomAttributes=m,a.debounce=n,a.SVGParser=o,a.reverseArray=p,a.getOffset=q,a.setCSS=r,a.ajaxGet=s,a.extend=t,a.mix=u,a.emptyDom=v;var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},x=Object.prototype.hasOwnProperty,y=Object.prototype.toString,z=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===y.call(a)},A=function(a){if(!a||"[object Object]"!==y.call(a))return!1;var b=x.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&x.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var d;for(d in a);return"undefined"==typeof d||x.call(a,d)};a.default={},a.isArray=z,a.isPlainObject=A})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b){"use strict";function c(){}function d(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function e(a){return function(){return this[a].apply(this,arguments)}}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c.prototype;g.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},g.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},g.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},g.addListener=function(a,b){var c,e=this.getListenersAsObject(a),g="object"===("undefined"==typeof b?"undefined":f(b));for(c in e)e.hasOwnProperty(c)&&d(e[c],b)===-1&&e[c].push(g?b:{listener:b,once:!1});return this},g.on=e("addListener"),g.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},g.once=e("addOnceListener"),g.defineEvent=function(a){return this.getListeners(a),this},g.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},g.removeListener=function(a,b){var c,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(c=d(f[e],b),c!==-1&&f[e].splice(c,1));return this},g.off=e("removeListener"),g.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},g.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},g.manipulateListeners=function(a,b,c){var d,e,g=a?this.removeListener:this.addListener,h=a?this.removeListeners:this.addListeners;if("object"!==("undefined"==typeof b?"undefined":f(b))||b instanceof RegExp)for(d=c.length;d--;)g.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?g.call(this,d,e):h.call(this,d,e));return this},g.removeEvent=function(a){var b,c="undefined"==typeof a?"undefined":f(a),d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},g.removeAllListeners=e("removeEvent"),g.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},g.trigger=e("emitEvent"),g.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},g.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},g._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},g._getEvents=function(){return this._events||(this._events={})},b.default=c,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(304),c(305)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a){a--;for(var b=2;a>>=1;)b<<=1;return b}function h(a){for(var b=1;a>>=1;)b<<=1;return b}function i(a,b,c,d,e){return(a-b)/(c-b)*(e-d)+d}function j(a,b,c,d){for(var e=Number.MAX_VALUE,f=void 0,g=-1,h=0,i=c.length;h<i;h++)f=Math.pow(Math.pow(a-c[h],2)+Math.pow(b-d[h],2),.5),f<e&&(g=h,e=f);return g}function k(a,b,c){var d=0,e=b.length,f=e-1,g=void 0,h=0,i=1;if(b[d]==a)return d;if(b[f]==a)return f;for(;;){if(h++,h>100)throw"Error loop";for(g=Math.floor((d+f)/2);isNaN(b[g]);){if(g>=b.length-1)return b.length-1;if(g<=0)return 0;g+=i}if(g==d||b[g]==a||g==f)return g;if(b[g]<=a)c?f=g:d=g;else{if(!(b[g]>a))return!1;c?d=g:f=g}i*=-1}}Object.defineProperty(b,"__esModule",{value:!0});var l=e(c),m=e(d),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;f(this,a),this.xOffset=c,this.xScale=d,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.setData(b),this.BELOW=a.BELOW,this.ABOVE=a.ABOVE,this.BOX=a.BOX,this.BAR=a.BAR}return n(a,[{key:"setData",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(a[0])){var c=[],d=[];a.forEach(function(a){c.push(a[0]),d.push(a[1])}),this.setXWaveform(c),a=d}var e=this._makeArray(a.length),f=!1,g=this.isNaNAllowed();return a.map(function(a,b){g||a[0]===a[0]&&a[1]===a[1]||(f=!0),e[b]=a}),f&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(e),b&&this.setXWaveform(b),this}},{key:"getY",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b&&this.dataInUse?this.dataInUse.y[a]*this.getScale()+this.getShift():this.data[a]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(b){if(!(b instanceof a)){if(!Array.isArray(b))throw"Cannot set X waveform. Data is not a valid array.";b=new a(b)}return this.xdata=b,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var b=new a,c=[],d=0;d<this.getLength();d+=1)c.push(this.getX(d));return b.setData(c),this.xdata=b,b}},{key:"rescaleX",value:function(a,b){return this.xScale=b,this.xOffset=a,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(a){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(a)&&this.warn("NaN values are not allowed by the new constructor ("+a.name+") while it was allowed by the previous one ("+this._typedArrayClass.name+")"),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(a)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=a,this.data&&this._setData(a.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(a)}},{key:"isNaNAllowed",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return a==Array||a==Float32Array||a==Float64Array}},{key:"isUnsigned",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return a==Uint8Array||a==Uint8ClampedArray||a==Uint16Array||a==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(a,b){(a<this.minX||void 0===this.minX)&&(this.minX=a),(a>this.maxX||void 0===this.maxX)&&(this.maxX=a),(b<this.minY||void 0===this.minY)&&(this.minY=b),(b>this.maxY||void 0===this.maxY)&&(this.maxY=b)}},{key:"prepend",value:function(a,b){return"function"==typeof a&&(a=a(this)),"function"==typeof b&&(b=b(this)),this.xdata?this.xdata.prepend(null,a):null!==a?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,a)):this.xOffset-=this.xScale,this.data.unshift(b),this.recalculateMinMaxNewPoint(a,b),this}},{key:"append",value:function(a,b){return this.data||(this.data=[]),"function"==typeof a&&(a=a(this)),"function"==typeof b&&(b=b(this)),this.xdata?this.xdata.append(null,a):null!==a&&(this.xdata=this.getXWaveform(),this.xdata.append(null,a)),this.monotoneous&&(b>=this.data[this.data.y]&&this.getMonotoneousAscending()===!1?this.monotoneous=!1:b<=this.data[this.data.y]&&this.getMonotoneousAscending()===!0&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,b==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=b>this.data[0]),this.data.push(b),this.recalculateMinMaxNewPoint(a,b),this}},{key:"_makeArray",value:function(a){var b=this.getTypedArrayClass();return b?new b(a):new Array(a)}},{key:"_setData",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,b=a.length,c=1,d=a[1]>a[0],e=a[0],f=a[0];for(this._monotoneous=!0;c<b;c++)a[c]!==a[c-1]&&d!==a[c]>a[c-1]&&(this._monotoneous=!1),a[c]===a[c]&&(e=Math.min(a[c],e),f=Math.max(a[c],f));if(this._monotoneous&&(this._monotoneousAscending=a[1]>a[0]),this.hasErrorBars()){for(c=0;c<b;c++)a[c]===a[c]&&(e=Math.min(e,a[c]-this.getMaxError(c,"below")),
f=Math.max(f,a[c]+this.getMaxError(c,"above")));this.minY=e,this.maxY=f}else this.minY=e,this.maxY=f;this.data=a,this.computeXMinMax()}},{key:"computeXMinMax",value:function(){if(this.data&&!this.xdata){var a=this.xOffset+this.xScale*this.getLength(),b=this.xOffset;this.minX=Math.min(a,b),this.maxX=Math.max(a,b)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,d=void 0;d=b&&this.dataInUse?this.dataInUse.y:this.data;var e=void 0;return e=this.getIndexFromData(a,d,this.data.getMonotoneousAscending(),c),b&&this.dataInUse&&"aggregateY"==this.dataInUseType?e-e%4:e}},{key:"getIndexFromX",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,d=void 0;b&&this.dataInUse?d=this.dataInUse.x:this.xdata&&(d=this.xdata.data);var e=void 0;return e=this.hasXWaveform()?this.xdata.getIndexFromData(a,d,this.xdata.getMonotoneousAscending(),c):Math.max(0,Math.min(this.getLength()-1,c((a-this.xOffset)/this.xScale))),b&&this.dataInUse&&"aggregateX"==this.dataInUseType?e-e%4:e}},{key:"getIndexFromXY",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.round,e=void 0,f=void 0;c&&this.dataInUse?(e=this.dataInUse.x,f=this.dataInUse.y):this.xdata&&(e=this.xdata.data,f=this.data);var g=void 0;if(this.isXMonotoneous())g=this.hasXWaveform()?this.xdata.getIndexFromData(a,e,this.xdata.getMonotoneousAscending(),d):Math.max(0,Math.min(this.getLength()-1,d((a-this.xOffset)/this.xScale)));else{if(isNaN(b))return;g=this.getIndexFromDataXY(a,e,b,f)}return c&&this.dataInUse&&"aggregateX"==this.dataInUseType?g-g%4:g}},{key:"getIndexFromData",value:function(a,b,c,d){if(a-=this.getShift(),a/=this.getScale(),!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return k(a,b,!c)}},{key:"getIndexFromDataXY",value:function(a,b,c,d){return a-=this.getXShift(),a/=this.getXScale(),c-=this.getShift(),c/=this.getScale(),j(a,c,b,d)}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.xdata?this.xdata.getMin():this.minX}},{key:"getXMax",value:function(){return this.xdata?this.xdata.getMax():this.maxX}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.getXMin()}},{key:"getMaxX",value:function(){return this.getXMax()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(a){return a&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.shift=a,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.scale=a}},{key:"setXShift",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform()?(this.getXWaveform().setShift(a),this):this}},{key:"getXShift",value:function(a){return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform?(this.getXWaveform().setScale(a),this):this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data?this.data.length:0}},{key:"getDataToUseFlat",value:function(){var a=void 0,b=0,c=void 0;if(this.dataInUse){a=this.dataInUse.x.length,c=new Array(2*a).fill(0);for(var d=0;d<a;d+=1)c[b]=this.dataInUse.x[d],c[b+1]=this.dataInUse.y[d],b+=2}else{a=this.getLength(),c=new Array(2*a).fill(0);for(var d=0;d<a;d+=1)c[b+1]=this.data[d],c[b]=this.getX(d),b+=2}return c}},{key:"fit",value:function(b){var c=this;return new Promise(function(d,e){var f=new l.default(Object.assign({},{dataY:c,dataX:c.getXWaveform(),done:function(a){d(a)},waveform:new a},b));f.init(),f.fit()})}},{key:"getX",value:function(a,b){return b&&this.dataInUse?this.dataInUse.x[a]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[a]*this.getXScale()+this.getXShift():this.xOffset+a*this.xScale}},{key:"getXRaw",value:function(a,b){return b&&this.dataInUse?this.dataInUse.x[a]:this.xdata?this.xdata.data[a]:a}},{key:"_integrateP",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if(a=Math.round(a),b=Math.round(b),a>b){var c=a;a=b,b=c}for(var d=b-a+1,e=0,f=0,g=void 0,h=this.getData();a<=b;a++)h.length-1>a&&(g=this.getX(a+1)-this.getX(a),f+=g,e+=h[a]*g);return[e,d,f]}},{key:"integrateP",value:function(a,b){var c=this._integrateP(a,b);return c[0]}},{key:"integrate",value:function(a,b){return this.integrateP(this.getIndexFromX(a),this.getIndexFromX(b))}},{key:"average",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(a,b)}},{key:"mean",value:function(){return this.average()}},{key:"getAverageP",value:function(a,b){var c=this._integrateP(a,b);return c[0]/c[2]}},{key:"getAverageX",value:function(a,b){var c=this._integrateX(a,b);return c[0]/c[2]}},{key:"checkMonotonicity",value:function(){for(var a=1,b=this.getData(),c=this.data.length,d=b[1]>b[0];a<c;a++)if(b[a]!==b[a-1]&&d!==b[a]>b[a-1])return this._monotoneous=!1;return this._monotoneousAscending=b[1]>b[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(a){var b=dataY||this.data;return b.reverse(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),b}},{key:"resampleForDisplay",value:function(a){var b=0;this.requireXMonotonicity();var c=!1,d=this.getDataY(),e={x:[],y:[]},f=[],g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=!1,o=0,p=void 0,q=this.getLength();if(!a.xPosition)throw"No position calculation method provided";if(!a.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(a.minX>a.maxX){var r=a.minX;a.minX=a.maxX,a.maxX=r}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(c=!0,b=q);c?b>0:b<q;c?b--:b++)if(p=this.getX(b),a.minX>p)o=b;else if(m=a.xPosition(p),n)if(Math.abs(m-l)>a.resampleToPx||b==q||0==b||isNaN(d[b])){var s=(k+p)/2;if(e.x.push(s),e.y.push(g/j),f.push(s,h,i),void 0!==a.maxX&&p>a.maxX)break;n=!1}else g+=d[b],j++,h=Math.min(h,d[b]),i=Math.max(i,d[b]);else{for(o?(e.x.push(p),e.y.push(d[o])):o=b;isNaN(d[b]);)c?b--:b++;g=h=i=d[o],j=1,l=m,k=p,o=0,n=!0}return this.dataInUseType="resampled",this.dataInUse=e,f}},{key:"interpolate",value:function(a){var b=void 0,c=this.getDataY();if(a=(a-this.getXShift())/this.getXScale(),this.xdata){var d=this.xdata.getData(),e=k(a,d,!this.xdata.getMonotoneousAscending());return d[e]==a?c[e]:(a-d[e])/(d[e+1]-d[e])*(c[e+1]-c[e])+c[e]}b=(a-this.xOffset)/this.xScale;var f=Math.floor(b);return(b-f)*(c[f+1]-c[f])+c[f]}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():this.xScale>0}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(a){return this._arithmetic(a,s)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(a){return this._arithmetic(a,p)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function a(b){var a=Math.log(b);this.data.map(function(b){return Math.log(b)/a})}},{key:"add",value:function(a){return this._arithmetic(a,q)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(a){return this._arithmetic(a,r)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(a){for(var b=0;b<this.getLength();b++)this.data[b]=a(this.getY(b),this.getX(b));return this._setData(this.data),this}},{key:"_arithmetic",value:function(b,c){return b instanceof a?this._waveArithmetic(b,c):"number"==typeof b?this._numberArithmetic(b,c):void 0}},{key:"_numberArithmetic",value:function(a,b){var c=0,d=this.getLength();if(b==p){for(;c<d;c++)this.data[c]*=a;this.minY*=a,this.maxY*=a}else if(b==s){for(;c<d;c++)this.data[c]/=a;this.minY/=a,this.maxY/=a}else if(b==q){for(;c<d;c++)this.data[c]+=a;this.minY+=a,this.maxY+=a}else if(b==r){for(;c<d;c++)this.data[c]-=a;this.minY-=a,this.maxY-=a}return this}},{key:"_waveArithmetic",value:function(a,b){var c=this.getDataY(),d=0,e=this.getLength();if(this.requireXMonotonicity(),a.requireXMonotonicity(),b==p)for(;d<e;d++)c[d]*=a.interpolate(this.getX(d));else if(b==s)for(;d<e;d++)c[d]/=a.interpolate(this.getX(d));else if(b==q)for(;d<e;d++)c[d]+=a.interpolate(this.getX(d));else if(b==r)for(;d<e;d++)c[d]-=a.interpolate(this.getX(d));return this._setData(c),this}},{key:"aggregate",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=b.toUpperCase();var c=h(this.getLength());this._dataAggregating=(0,m.default)({minX:this.getMinX(),maxX:this.getMaxX(),minY:this.getMinY(),maxY:this.getMaxY(),data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:c,direction:b}).then(function(b){a._dataAggregated=b.aggregates,console.log(a._dataAggregated),a._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(a){if(a<2)return!1;var b=g(a);return this._dataAggregated[b]?(this.dataInUseType="aggregate"+this._dataAggregationDirection,void(this.dataInUse=this._dataAggregated[b])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(b){var c=new a;return c._setData(this.getDataY().slice()),c.rescaleX(this.xOffset,this.xShift),c.setShift(this.getShift()),c.setScale(this.getScale()),this.xdata?(b?c.setXWaveform(this.xdata.duplicate()):c.setXWaveform(this.xdata),c.setXShift(this.getXShift()),c.setXScale(this.getXScale())):(c.xOffset=this.xOffset,c.xScale=this.xScale),c}},{key:"subrangeX",value:function(b,c){if(this.xdata){for(var d=new a,e=0,f=this.data.length;e<f;e++)this.data[e]>=b&&this.data[e]<c&&d.append(this.dataX[e],this.data[e]);return d}var g=this.getIndexFromX(b),h=this.getIndexFromX(h);return(new a).setData(this.data.slice(g,h)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(a,b,c){var d=(this.getIndexFromX(a),this.getIndexFromX(a+b)),e=this.getIndexFromX(a-b);return this.findLocalMinMaxIndex(e,d,c)}},{key:"findLocalMinMaxIndex",value:function(a,b,c){var d=void 0;b<a&&(d=b,b=a,a=d);var e=void 0,f=void 0;if("max"==c){e=Number.NEGATIVE_INFINITY;for(var g=a;g<=b;g++)this.getY(g)>e&&(e=this.getY(g),f=g)}else{e=Number.POSITIVE_INFINITY;for(var g=a;g<=b;g++)this.getY(g)<e&&(e=this.getY(g),f=g)}return f!=a&&f!=b&&this.getX(f)}},{key:"warn",value:function(a){console&&console.warn(a)}},{key:"setUnit",value:function(a){return this.unit=a,this}},{key:"setXUnit",value:function(a){return this.hasXWaveform()&&this.xdata.setUnit(a),this.xunit=a,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return this.getXUnit().length>0}},{key:"hasUnit",value:function(){return this.getUnit().length>0}},{key:"findLevels",value:function(a,b){b=Object.assign({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},b);for(var c,d=b.rangeP[0],e=[],f=0;c=this.findLevel(a,Object.assign({},b,{rangeP:[d,b.rangeP[1]]}));)if(e.push(c),d=Math.ceil(c),f++,f>1e3)return;return e}},{key:"findLevel",value:function(a,b){b=Object.assign({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},b),b.rangeX&&(b.rangeP=b.rangeX.map(this.getIndexFromX));var c,d,e,f,g,h,j=b.box;for(j%2==0&&j++,"descending"==b.direction?(e=b.rangeP[1],g=b.rangeP[0],h=-1):(e=b.rangeP[0],g=b.rangeP[1],h=1);;e+=h){if("descending"==b.direction){if(e<g)break}else if(e>g)break;if(!(e<b.rangeP[0]+(j-1)/2)){if(e>b.rangeP[1]-(j-1)/2)break;if(c=this.getAverageP(e-(j-1)/2,e+(j-1)/2),void 0!==d){if(c>=a&&d){if(d=!1,"ascending"==b.edge||"both"==b.edge)for(f=e+(j-1)/2;f>=e-(j-1)/2;f--)if(this.data[f]>=a&&this.data[f-1]<a)switch(b.rounding){case"before":return f-1;case"after":return f;case"interpolate":return i(a,this.data[f],this.data[f-1],f,f-1)}}else if(c<=a&&!d&&(d=!0,"descending"==b.edge||"both"==b.edge))for(f=e+(j-1)/2;f>=e-(j-1)/2;f--)if(this.data[f]<=a&&this.data[f-1]>a)switch(b.rounding){case"before":return f-1;case"after":return f;case"interpolate":return i(a,this.data[f],this.data[f-1],f,f-1)}}else d=c<a}}}},{key:"normalize",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;if("max1"==a||"max100"==a){for(b=1,"max100"==a&&(b=100),e=this.data[0],g=1;g<this.getLength();g++)this.data[g]>e&&(e=this.data[g]);for(g=0;g<this.getLength();g++)this.data[g]/=e/b}else if("sum1"==a){for(c=0,g=0;g<this.getLength();g++)c+=this.data[g];for(g=0;g<this.getLength();g++)this.data[g]/=c}else if("max1min0"==a){for(e=this.data[0],d=this.data[0],g=1;g<this.getLength();g++)this.data[g]>e?e=this.data[g]:this.data[g]<d&&(d=this.data[g]);for(f=1/(e-d),g=0;g<this.getLength();g++)this.data[g]=(this.data[g]-d)*f}this.setData(this.data)}},{key:"setErrorBarX",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBar(b),this}},{key:"setErrorBarXBelow",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBarBelow(b),this}},{key:"setErrorBarXAbove",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBarAbove(b),this}},{key:"setErrorBoxX",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBoxAbove(b),c.setErrorBoxBelow(b),this}},{key:"setErrorBoxXBelow",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBoxBelow(b),this}},{key:"setErrorBoxXAbove",value:function(b){Array.isArray(b)&&(b=new a(b));var c=this.getXWaveform();return c.setErrorBoxAbove(b),this}},{key:"setErrorBar",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.nb++,this.errors.nb++,this.errors.bars.bottom=b,this.errors.bars.top=b,c&&this._setData()}},{key:"setErrorBarBelow",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.nb++,this.errors.bars.below=b,c&&this._setData()}},{key:"setErrorBarAbove",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.nb++,this.errors.bars.above=b,c&&this._setData()}},{key:"setErrorBox",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=b,this.errors.boxes.below=b,c&&this._setData()}},{key:"setErrorBoxBelow",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.nb++,this.errors.boxes.below=b,c&&this._setData()}},{key:"setErrorBoxAbove",value:function(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(b)&&(b=new a(b)),this.errors.boxes.above=b,c&&this._setData()}},{key:"getMaxError",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ABOVE;return Math.max(this.getMaxErrorType(b,c,a.BOX),this.getMaxErrorType(b,c,a.BAR))}},{key:"getMaxErrorType",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ABOVE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.BOX,e=void 0;if(d==a.BOX)e=this.errors.boxes;else{if(d!=a.BAR)throw"Unknown type of error";e=this.errors.bars}var f=void 0;return(f=e[c])||(c==a.ABOVE?e[c]==a.BELOW&&(f=e.below):e[c]==a.ABOVE&&(f=e.above)),f?f.getY(b):0}},{key:"getErrorBarXBelow",value:function(b){return this.getErrorX(b,a.BELOW,a.BAR)}},{key:"getErrorBarXAbove",value:function(b){return this.getErrorX(b,a.ABOVE,a.BAR)}},{key:"getErrorBoxXBelow",value:function(b){return this.getErrorX(b,a.BELOW,a.BOX)}},{key:"getErrorBoxXAbove",value:function(b){return this.getErrorX(b,a.ABOVE,a.BOX)}},{key:"getErrorBarYBelow",value:function(b){return this.getError(b,a.BELOW,a.BAR)}},{key:"getErrorBarYAbove",value:function(b){return this.getError(b,a.ABOVE,a.BAR)}},{key:"getErrorBoxYBelow",value:function(b){return this.getError(b,a.BELOW,a.BOX)}},{key:"getErrorBoxYAbove",value:function(b){return this.getError(b,a.ABOVE,a.BOX)}},{key:"getErrorX",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ABOVE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.BAR;return!!this.hasXWaveform()&&this.xdata.getError(b,c,d)}},{key:"getError",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ABOVE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.BAR,e=d==a.BAR?this.errors.bars:this.errors.boxes;if(!e)return!1;var f=void 0;return(f=c==a.ABOVE?e.above:e.below)?(f==a.ABOVE&&c==a.BELOW?f=e.above:f==a.BELOW&&c==a.ABOVE&&(f=e.below),!!f&&f.getY(b)):void 0}},{key:"hasErrorBars",value:function(){return this.errors.nb>0||this.hasXWaveform()&&this.xdata.errors.nb>0}}]),a}();o.BELOW=Symbol(),o.ABOVE=Symbol(),o.BOX=Symbol(),o.BAR=Symbol();var p=Symbol(),q=Symbol(),r=Symbol(),s=Symbol();b.default=o,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b){"use strict";function c(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(b.dataY),this.setXData(b.dataX),this.setWeight(b.weight),this.setInitialParams(b.params),b.subsetIndex&&this.setSubset.apply(this,c(b.subsetIndex)),this.setFunction(b.function),b.progress&&this.hookIteration(b.progress),this.options=b}return e(a,[{key:"setYData",value:function(a){this.data=a}},{key:"setXData",value:function(a){this.dataX=a}},{key:"setWeight",value:function(a){this.weight=a}},{key:"setInitialParams",value:function(a){var b=this;this.parms=a,this.parms=this.parms.map(function(a){return"function"==typeof a?a(b.data,b.dataX):a}),this.NPARMS=a.length}},{key:"setSubset",value:function(a,b){void 0!==a&&void 0!==b&&(this._from=a,this._to=b)}},{key:"hookIteration",value:function(a){var b=this;this._hookIteration=function(c){var d=b.buildFit(c,200);a(d)}}},{key:"setFunction",value:function(a){this._func=a}},{key:"init",value:function(){var a=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(b){return new Array(a.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {"+this.parms.join()+"};"),new g(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {"+this.parms.join()+"};"),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(a,b){return this._func(a,b)}},{key:"computeResiduals",value:function(){for(var a=0,b=0;b<this.NPTS;b++)this.resid[b]=(this.func(this.arrX[b+this._from],this.parms)-this.arrY[b+this._from])*this.WEIGHT,a+=this.resid[b]*this.resid[b];return a}},{key:"log",value:function(a){this.options.log&&console.log(a)}},{key:"nudge",value:function(a){for(var b=0;b<this.NPARMS;b++)this.parms[b]+=a[b];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var a=new Array(this.NPARMS),b=.5/this.DELTAP,c=0,d=0;d<this.NPARMS;d++){for(var e=0;e<this.NPARMS;e++)a[e]=e==d?this.DELTAP:0;if(c=this.nudge(a),c==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var f=0;f<this.NPTS;f++)this.jac[f][d]=this.getResidualElement(f);for(var e=0;e<this.NPARMS;e++)a[e]=e==d?-2*this.DELTAP:0;if(c=this.nudge(a),c==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(var f=0;f<this.NPTS;f++)this.jac[f][d]-=this.getResidualElement(f);for(var f=0;f<this.NPTS;f++)this.jac[f][d]*=b;for(var e=0;e<this.NPARMS;e++)a[e]=e==d?this.DELTAP:0;if(c=this.nudge(a),c==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(a){return this.resid[a]}},{key:"getJacobianElement",value:function(a,b){return this.jac[a][b]}},{key:"buildFit",value:function(a,b){var c=void 0;if(b){var d=this.dataX.getMin(this._from,this._to),e=this.dataX.getMax(this._from,this._to);c=new Array(b).fill(0).map(function(a,c){return c*(e-d)/(b-1)+d})}else c=this.arrX;for(var f=new Array(c.length),g=0,h=c.length;g<h;g++)f[g]=this.func(c[g],this.parms);var i=this.options.waveform;return i.setData(f,c),i}}]),a}(),g=function(){function a(b,c,e,f){var g=this;d(this,a),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=b,this.nadj=c,this.npts=e,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(g.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(g.nadj)}),this.lambda=this.LAMBDAZERO;var h=0,i=!1;do i=this.bLMiter(),f&&f(this.myH.params),h++;while(!i&&h<this.LMITER)}return e(a,[{key:"bLMiter",value:function(){for(var a=0;a<this.nadj;a++)this.delta[a]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= "+this.sos),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(var a=0;a<this.nadj;a++){this.beta[a]=0;for(var b=0;b<this.npts;b++)this.beta[a]-=this.myH.getResidualElement(b)*this.myH.getJacobianElement(b,a)}for(var a=0;a<this.nadj;a++)for(var c=0;c<this.nadj;c++){this.alpha[c][a]=0;for(var b=0;b<this.npts;b++)this.alpha[c][a]+=this.myH.getJacobianElement(b,c)*this.myH.getJacobianElement(b,a)}var d=0;do{for(var a=0;a<this.nadj;a++)for(var c=0;c<this.nadj;c++)this.amatrix[c][a]=this.alpha[c][a]+(c==a?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(var a=0;a<this.nadj;a++){this.delta[a]=0;for(var c=0;c<this.nadj;c++)this.delta[a]+=this.amatrix[c][a]*this.beta[c]}if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if(d=(this.sos-this.sosprev)/(1+this.sos),d<=0){this.lambda*=this.LMSHRINK;break}for(var e=0;e<this.nadj;e++)this.delta[e]*=-1;if(this.myH.nudge(this.delta),d<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return d>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(a,b){var c,d,e,f,g,h,i=1,j=new Array(100),k=new Array(100);for(g=0;g<b;g++){for(c=0,e=g;e<b;e++)for(f=g;f<b;f++)Math.abs(c)<=Math.abs(a[e][f])&&(c=a[e][f],j[g]=e,k[g]=f);if(0==c)return 0;if(e=j[g],e>g)for(f=0;f<b;f++)d=a[g][f],a[g][f]=a[e][f],a[e][f]=-d;if(f=k[g],f>g)for(e=0;e<b;e++)d=a[e][g],a[e][g]=a[e][f],a[e][f]=-d;for(e=0;e<b;e++)e!=g&&(a[e][g]=-a[e][g]/c);for(e=0;e<b;e++)for(f=0;f<b;f++)e!=g&&f!=g&&(a[e][f]+=a[e][g]*a[g][f]);for(f=0;f<b;f++)f!=g&&(a[g][f]/=c);a[g][g]=1/c,i*=c}for(h=0;h<b;h++){if(g=b-h-1,f=j[g],f>g)for(e=0;e<b;e++)d=a[e][g],a[e][g]=-a[e][f],a[e][f]=d;if(e=k[g],e>g)for(f=0;f<b;f++)d=a[g][f],a[g][f]=-a[e][f],a[e][f]=d}return i}}]),a}();b.default=f,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b=Date.now();a._queueId=b;var e=new Promise(function(a){d[b]=a});return c.postMessage(a),e};var c,d={},e=function(){onmessage=function(a){var b=a.data.data,c=a.data.maxX,d=a.data.minX,e=a.data.maxY,f=a.data.minY,g=a.data.direction,h=a.data.numPoints,i=b.length,j=0,k=-4,l=[],m=[],n=[],o=[],p=void 0;p=a.data.xdata?function(b){return a.data.xdata[b]}:function(b){return b*a.data.xScale+a.data.xOffset};var q={};if(console.log(g),"x"==g)for(var r=h/(c-d);j<i;j++){if(slotNumber=Math.floor((p(j)-d)*r),l[k]!==slotNumber){k+=4,l[k]=slotNumber;var s=(slotNumber+.5)/r+d;m[k]=s,m[k+1]=s,m[k+2]=s,m[k+3]=s,n[k]=b[j],n[k+1]=b[j],n[k+2]=b[j],n[k+3]=b[j],o[k]=0}n[k+1]=Math.min(b[j],n[k+1]),n[k+2]=Math.max(b[j],n[k+2]),n[k+3]=b[j],o[k]+=b[j]}else for(var t=h/(e-f);j<i;j++){if(slotNumber=Math.floor((b[j]-f)*t),l[k]!==slotNumber){k+=4,l[k]=slotNumber;var u=(slotNumber+.5)/t+f;n[k]=u,n[k+1]=u,n[k+2]=u,n[k+3]=u,m[k]=b[j],m[k+1]=b[j],m[k+2]=b[j],m[k+3]=b[j],o[k]=0}m[k+1]=Math.min(p(j),m[k+1]),m[k+2]=Math.max(p(j),m[k+2]),m[k+3]=p(j),o[k]+=p(j)}for(q[h]={x:m,y:n,sums:o},lastAggregation=n,lastAggregationX=m,lastAggregationSum=o;h>256;){if(h/=2,newAggregation=[],newAggregationX=[],k=0,"x"==g)for(j=0,i=lastAggregation.length-8;j<i;j+=8)newAggregationX[k]=(lastAggregationX[j]+lastAggregationX[j+4])/2,newAggregationX[k+1]=newAggregationX[k],newAggregationX[k+2]=newAggregationX[k],newAggregationX[k+3]=newAggregationX[k],newAggregation[k]=lastAggregation[j],newAggregation[k+1]=Math.min(lastAggregation[j+1],lastAggregation[j+5]),newAggregation[k+2]=Math.max(lastAggregation[j+2],lastAggregation[j+6]),newAggregation[k+3]=lastAggregation[j+7],o[k]=(lastAggregationSum[j]+lastAggregationSum[j+4])/2,k+=4;else for(j=0,i=lastAggregation.length-8;j<i;j+=8)newAggregation[k]=(lastAggregation[j]+lastAggregation[j+4])/2,newAggregation[k+1]=newAggregation[k],newAggregation[k+2]=newAggregation[k],newAggregation[k+3]=newAggregation[k],newAggregationX[k]=lastAggregationX[j],newAggregationX[k+1]=Math.min(lastAggregationX[j+1],lastAggregationX[j+5]),newAggregationX[k+2]=Math.max(lastAggregationX[j+2],lastAggregationX[j+6]),newAggregationX[k+3]=lastAggregationX[j+7],o[k]=(lastAggregationSum[j]+lastAggregationSum[j+4])/2,k+=4;q[h]={x:newAggregationX,y:newAggregation,sums:o},lastAggregation=newAggregation,lastAggregationX=newAggregationX,lastAggregationSum=o,o=[]}postMessage({aggregates:q,_queueId:a.data._queueId})}}.toString();e=e.split("\n"),e.pop(),e.shift();var f=URL.createObjectURL(new Blob([e.join("\n")],{type:"application/javascript"}));c=new Worker(f),c.onmessage=function(a){var b=a.data._queueId;delete a.data._queueId,d[b](a.data),delete d[b]},a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(300),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a){try{return a.getBBox()}catch(a){return{height:0,width:0,x:0,y:0}}}Object.defineProperty(b,"__esModule",{value:!0});var i=f(c),j=e(d),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0},m=function(){function a(b,c){g(this,a),this.options=j.extend({},l,c),this.graph=b,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=j.guid(),this.eyeCrossedId=j.guid();var d=j.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeCrossedId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>'),e=j.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>');
this.svg.appendChild(document.adoptNode(e.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(d.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}return k(a,[{key:"setPosition",value:function(a,b,c){a&&(this.position=a,this.alignToX=b||"left",this.alignToY=c||"top")}},{key:"setDraggable",value:function(a){this.options.movable=a}},{key:"setAutoPosition",value:function(a){return["bottom","left","top","right"].indexOf(a=a.toLowerCase())>-1?(this.autoPosition=a,this):(this.requireDelayedUpdate(),void(this.autoPosition=!1))}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"buildLegendBox",value:function(){var a=this.series||this.graph.getSeries(),b=0,c=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var d=0,e=a.length;d<e;d++)if(!a[d].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition){var f=h(this.groups[d]);b+f.width>this.graph.getDrawingWidth()-this.options.paddingRight&&(c+=16,b=0)}this.groups[d].setAttribute("transform","translate( "+b+", "+c+")"),"bottom"==this.autoPosition||"top"==this.autoPosition?(b+=f.width+10,c+=0):(b=0,c+=16)}var f=h(this.subG);switch(this.width=f.width+this.options.paddingRight+this.options.paddingLeft,this.height=f.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",f.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",f.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=this.graph.getHeight()+"px",this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=this.graph.getWidth()+"px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.position.y="10px",this.alignToY="top",this.alignToX=!1}if(this.autoPosition){switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10;break;case"left":this.graph.options.paddingLeft=this.width+5;break;case"right":this.graph.options.paddingRight=this.width+10;break;case"top":this.graph.options.paddingTop=this.height+14}this.graph.updateGraphingZone(),this.graph.getDrawingHeight(),this.graph.getDrawingWidth()}this.bbox=f}},{key:"calculatePosition",value:function(){var a=i.default.check(this.position),b=a.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());b&&("max"==a.y&&(b.y+=this.graph.getPaddingTop()),"max"==a.x&&(b.x-=this.graph.getPaddingRight()),"right"==this.alignToX&&(b.x-=this.width,b.x-=this.bbox.x),"bottom"==this.alignToY?(b.y-=this.height,b.y-=this.bbox.y):b.y-=this.bbox.y,this.pos.transformX=b.x,this.pos.transformY=b.y,this._setPosition())}},{key:"update",value:function(a){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&a)){this._requiredUpdate=!1;var b=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var c=this.series||this.graph.getSeries();if(c.length>0){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition){this.graph.getDrawingWidth()}for(var d=0,e=c.length;d<e;d++)c[d].excludedFromLegend&&!this.series||function(a){var e,f,g;if("bottom"==this.autoPosition||"top"==this.autoPosition){this.graph.getDrawingWidth()}e=document.createElementNS(b.graph.ns,"g");var i=document.createElementNS(b.graph.ns,"rect");b.subG.appendChild(e),e.appendChild(i);var f=c[a].getSymbolForLegend(),j=c[a].getMarkerForLegend(),g=c[a].getTextForLegend(),k=35;if(this.isHideable()){k+=20;var l=document.createElementNS(b.graph.ns,"use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+(c[d].isShown()?this.eyeId:this.eyeCrossedId)),l.setAttribute("width",15),l.setAttribute("height",15),l.setAttribute("x",35),l.setAttribute("y",-8),l.addEventListener("click",function(d){d.stopPropagation();var e;c[a].isShown()?(c[a].hide(b.options.hideShapesOnHideSerie),e=b.eyeCrossedId):(c[a].show(b.options.hideShapesOnHideSerie),e=b.eyeId),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e)})}g.setAttribute("transform","translate("+k+", 3)"),g.setAttribute("color",this.options.color),f&&e.appendChild(f),"scatter"==c[a].getType()&&f.setAttribute("transform","translate( 20, 0 )"),j&&e.appendChild(j),l&&e.appendChild(l),e.appendChild(g);var m=h(e);i.setAttribute("x",m.x),i.setAttribute("y",m.y),i.setAttribute("width",m.width),i.setAttribute("height",m.height),i.setAttribute("fill","none"),i.setAttribute("pointer-events","fill"),b.groups[a]=e,e.addEventListener("click",function(d){var e=c[a];e.isShown()&&(b.isSelectable()&&!e.isSelected()?b.graph.selectSerie(e):b.graph.unselectSerie(e),d.preventDefault(),d.stopPropagation())})}.call(this,d);this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var a=this,b=this.pos,c=function(c){c.stopPropagation(),console.log("down"),a.options.movable&&(b.x=c.clientX,b.y=c.clientY,c.preventDefault(),a.mousedown=!0,a.graph.elementMoving(a),a.rect.setAttribute("display","block"))},d=function(b){a.handleMouseMove(b)};this.svg.addEventListener("mousedown",c),this.svg.addEventListener("click",function(a){a.stopPropagation()}),this.svg.addEventListener("dblclick",function(a){a.stopPropagation()}),this.svg.addEventListener("mousemove",d)}},{key:"handleMouseUp",value:function(a){a.stopPropagation(),a.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(a){if(this.mousedown){var b=this.pos,c=a.clientX-b.x,d=a.clientY-b.y;b.transformX+=c,b.transformY+=d,b.x=a.clientX,b.y=a.clientY,a.stopPropagation(),a.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var a=this.pos;isNaN(a.transformX)||isNaN(a.transformY)||a.transformX===!1||a.transformY===!1||this.svg.setAttribute("transform","translate("+a.transformX+", "+a.transformY+")")}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px"),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var a=[];if(arguments[0]===!1)return this.series=!1,void this.update();for(var b=0,c=arguments.length;b<c;b++)Array.isArray(arguments[b])?a=a.concat(arguments[b]):a.push(arguments[b]);this.update(),this.series=a}},{key:"fixSeriesAdd",value:function(a){this.series=this.series||[],this.series.push(a)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(a){this.options.isSerieHideable=!!a},get:function(){return this.options.isSerieHideable}}]),a}();b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(308)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return g.top="top"==c,g}return g(b,a),i(b,[{key:"getAxisPosition",value:function(){if(!this.options.display)return 0;var a=void 0;return 0==this.options.tickLabelOffset?(a=1==this.options.tickPosition?8:20,a+=1*this.graph.options.fontSize):a=1==this.options.tickPosition?0:12,this.getLabel()&&(a+=this.graph.options.fontSize),a}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"setShift",value:function(a){this.shift=a,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 "+(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(1==this.options.tickPosition,10)}},{key:"drawTick",value:function(a,b,c,d){var e,f=this,g=this;if(e=d||this.getPos(a),void 0!=e&&!isNaN(e)){var h=this.nextTick(b,function(a){a.setAttribute("y1",(g.top?1:-1)*g.tickPx1*g.tickScaling[b]),a.setAttribute("y2",(g.top?1:-1)*g.tickPx2*g.tickScaling[b]),1==b?a.setAttribute("stroke",g.getPrimaryTicksColor()):a.setAttribute("stroke",g.getSecondaryTicksColor())});if(h.setAttribute("x1",e),h.setAttribute("x2",e),this.nextGridLine(1==b,e,e,0,this.graph.getDrawingHeight()),1==b){var i=this.nextTickLabel(function(a){a.setAttribute("y",(g.top?-1:1)*((1==g.options.tickPosition?8:20)+(g.top?10:0))+f.options.tickLabelOffset),a.setAttribute("text-anchor","middle"),"black"!==g.getTicksLabelColor()&&a.setAttribute("fill",g.getTicksLabelColor()),a.style.dominantBaseline="hanging"});i.setAttribute("x",e),this.setTickContent(i,a,c)}return[h,i]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var a=j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),a}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var a=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=a[0]?"url(#horionzalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=a[1]?"url(#horionzalsplit_"+this.graph.getId()+")":"")}},{key:"_drawLine",value:function(a,b){var c=this.getPx(a);return b?b.setAttribute("display","initial"):b=document.createElementNS(this.graph.ns,"line"),b.setAttribute("x1",c),b.setAttribute("x2",c),b.setAttribute("y1",0),b.setAttribute("y2",this.graph.drawingSpaceHeight),b.setAttribute("stroke","black"),this.group.appendChild(b),b}},{key:"_hideLine",value:function(a){a&&a.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(a,b,c){a-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(a)}},{key:"setMinMaxFlipped",value:function(){var a=this.maxPx-this.minPx;if(!isNaN(a)){var b=a*this.options.span[1]+this.minPx-this.options.marginMax,c=a*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?b:c,this.maxPxFlipped=this.isFlipped()?c:b}}},{key:"getZProj",value:function(a){return a*this.graph.options.zAxis.shiftX}}]),b}(h.default);b.default=k,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(302),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=g(c),l=g(d),m=f(e),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o={lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridColor:"#f0f0f0",secondaryGridColor:"#f0f0f0",primaryGridWidth:1,secondaryGridWidth:1,hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1},p=function(a){function b(){return h(this,b),i(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return j(b,a),n(b,[{key:"init",value:function(a,b,c){var d=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=a,this.options=m.extend(!0,{},o,c,b),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.labelValue,this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(a){a.preventDefault();var b=d.graph._getXY(a);d.handleMouseMoveLocal(b.x,b.y,a);for(var c=0,e=d.series.length;c<e;c++)d.series[c].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(a){a.preventDefault();var b=d.graph._getXY(a);d.addLabel(d.getVal(b.x-d.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.gridSecondary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.graph._axisHasChanged(this)}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(a){return this.options.display=!!a,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(a,b){return a||b.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(a,b){this.graph.killAxis(this,a,b)}},{key:"setLineAt",value:function(a){return this.options.lineAt=a,this}},{key:"adaptTo",value:function(a,b,c,d){return a?(this.options.adaptTo={axis:a,thisValue:b,foreignValue:c,preference:d},this.adapt(),this):(this.options.adaptTo=!1,this)}},{key:"adapt",value:function(){if(this.options.adaptTo){if(!a);var a=this.options.adaptTo.axis,b=this.options.adaptTo.thisValue,c=this.options.adaptTo.foreignValue;if(void 0!==a.currentAxisMin&&void 0!==a.currentAxisMax||a.setMinMaxToFitSeries(),this.options.forcedMin!==!1&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){this.options.forcedMin!==!1?this.currentAxisMin=this.options.forcedMin:this.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(b-this.getMinValue())*(this.options.axisDataSpacing.min*(a.getCurrentMax()-a.getCurrentMin())/(c-a.getCurrentMin())),this.currentAxisMin==b&&(this.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());var d=this.options.forcedMin!==!1?this.options.forcedMin:this.currentAxisMin;this.currentAxisMax=(b-d)*(a.getCurrentMax()-a.getCurrentMin())/(c-a.getCurrentMin())+d}else{this.options.forcedMax!==!1?this.currentAxisMax=this.options.forcedMax:this.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-b)*(this.options.axisDataSpacing.max*(a.getCurrentMax()-a.getCurrentMin())/(a.getCurrentMax()-c)),this.currentAxisMax==b&&(this.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());var d=this.options.forcedMax!==!1?this.options.forcedMax:this.currentAxisMax;this.currentAxisMin=(b-d)*(a.getCurrentMin()-a.getCurrentMax())/(c-a.getCurrentMax())+d}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(a,b){return this.floating=!0,this.floatingAxis=a,this.floatingValue=b,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(a,b){return this.options.axisDataSpacing.min=a,this.options.axisDataSpacing.max=b||a,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(a){this.options.axisDataSpacing.min=a}},{key:"setAxisDataSpacingMax",value:function(a){this.options.axisDataSpacing.max=a}},{key:"setMinPx",value:function(a){this.minPx=a,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(a){this.maxPx=a,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(a){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return this.options.forcedMin!==!1?this.options.forcedMin:this.dataMin}},{key:"getMaxValue",value:function(){return this.options.forcedMax!==!1?this.options.forcedMax:this.dataMax}},{key:"setMinValueData",value:function(a){this.dataMin=a,isNaN(this.getCurrentMin())&&(this.setCurrentMin(this.getMinValue()),this.cache())}},{key:"setMaxValueData",value:function(a){this.dataMax=a,isNaN(this.getCurrentMax())&&(this.setCurrentMax(this.getMaxValue()),this.cache())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"forceMin",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=a,this.setCurrentMin(b?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"forceMax",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=a,this.setCurrentMax(b?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(a){return a.getMaxValue&&a.getMinValue&&(this.options.forcedMin=a.getMinValue(),this.options.forcedMax=a.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(a){this.options.nbTicksPrimary=a}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(a){return this.options.nbTicksSecondary=a,this}},{key:"handleMouseMove",value:function(a,b){this.mouseVal=this.getVal(a)}},{key:"handleMouseWheel",value:function(a,b,c){a=Math.min(.2,Math.max(-.2,a)),"min"==c?c=this.getMinValue():"max"==c?c=this.getMaxValue():c||(c=0),this._doZoomVal((this.getCurrentMax()-c)*(1+a)+c,(this.getCurrentMin()-c)*(1+a)+c),this.graph.draw()}},{key:"zoom",value:function(a,b,c){if(c||!this.zoomLock)return this._doZoomVal(a,b,!0)}},{key:"_doZoomVal",value:function(a,b,c){return this._doZoom(this.getPx(a),this.getPx(b),a,b,c)}},{key:"_doZoom",value:function(a,b,c,d,e){var c=void 0!==c?c:this.getVal(a),d=void 0!==d?d:this.getVal(b);return this.setCurrentMin(Math.min(c,d)),this.setCurrentMax(Math.max(c,d)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,e||this.emit("zoom",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(a,b,c){var d,e=a/r;b=b?Math.min(b,a/10):a/10;var f=c/b;switch(this.options.unitModification){case"time":case"time:min.sec":var g=this.getModifiedValue(this.getMaxValue());d=g<3600?0:g<86400?1:2;for(var h=!1,i=0,j=this.unitModificationTimeTicks.length;i<j;i++){for(var k=0,l=this.unitModificationTimeTicks[i][1].length;k<l;k++)if(f<this.unitModificationTimeTicks[i][0]*this.unitModificationTimeTicks[i][1][k]){h=!0;break}if(h)break}q=i!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[i][0]*this.unitModificationTimeTicks[i][1][k]:1;break;default:var m=Math.floor(Math.log(f)/Math.log(10)),n=f*Math.pow(10,-m);this.decimals=-m;for(var o=[1,2,5,10],p=!1,i=o.length-1;i>=0;i--)(!p||Math.abs(o[i]-n)<Math.abs(p-n))&&(p=o[i]);var q=p*Math.pow(10,m)}var r=c/q,e=a/b;return[q,r,e]}},{key:"setMinMaxToFitSeries",value:function(a){var b=this.getInterval();return this.options.logScale?(this.currentAxisMin=Math.max(1e-50,.9*this.getMinValue()),this.currentAxisMax=Math.max(1e-50,1.1*this.getMaxValue())):(this.currentAxisMin=this.getMinValue(),this.currentAxisMax=this.getMaxValue(),this.getForcedMin()===!1&&(this.currentAxisMin-=this.options.axisDataSpacing.min*b),this.getForcedMax()===!1&&(this.currentAxisMax+=this.options.axisDataSpacing.max*b)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),a||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.currentAxisMin==this.currentAxisMax?this.options.logScale?this.currentAxisMin/10:this.currentAxisMin-1:this.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.currentAxisMax==this.currentAxisMin?this.options.logScale?10*this.currentAxisMax:this.currentAxisMax+1:this.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(a){return(void 0===a||this.getForcedMin()!==!1&&(a<this.getForcedMin()||void 0===a))&&(a=this.getMinValue()),this.currentAxisMin=a,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,a)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(a){(void 0===a||this.getForcedMax()!==!1&&(a>this.getForcedMax()||void 0===a))&&(a=this.getMaxValue()),this.currentAxisMax=a,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,a)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(a){return this.options.flipped=a,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var a=this;void 0!==this.currentAxisMin&&void 0!==this.currentAxisMax||this.setMinMaxToFitSeries(!0);var b=Math.abs(this.getMaxPx()-this.getMinPx()),c=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="";var d=void 0;if(this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var e=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(d=this.getExponentGreekLetter(this.scientificExponent))?(e+=d,this.preunitTspan.innerHTML=d,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),e+=" "+d+" "+this.options.unit):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),e+=" \\cdot 10^"+this.scientificExponent+" "+this.options.unit),this.katexElement=this.graph.renderWithKatex(e,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(d=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=d,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)var f=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;var f=this.drawLinkedToAxisTicksWrapper(b,c)}else if(this.options.logScale)var f=this.drawLogTicks();else var f=this.drawLinearTicksWrapper(b,c);this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary);var g=this.graph.findAxesLinkedTo(this);return g.map(function(b){b.linkedToAxis&&(b.setMinPx(a.getMinPx()),b.setMaxPx(a.getMaxPx()),b.draw())}),f}},{key:"drawLines",value:function(){var a=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(b,c){!isNaN(b)&&a.getCurrentMin()<=b&&a.getCurrentMax()>=b?a._lines[c]=a._drawLine(b,a._lines[c]):a._hideLine(a._lines[c])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none"),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(a){switch(a){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f"}}},{key:"drawLinearTicksWrapper",
value:function(a,b){var c=void 0;return this.options.primaryTickUnit?c=this.options.primaryTickUnit:(c=this.getUnitPerTick(a,this.getNbTicksPrimary(),b)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<c?c=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>c&&(c=this.options.minPrimaryTickUnit)),this.drawTicks(c,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(a){this.options.primaryTickUnit=a}},{key:"forcePrimaryTickUnitMax",value:function(a){this.options.maxPrimaryTickUnit=a}},{key:"forcePrimaryTickUnitMin",value:function(a){this.options.minPrimaryTickUnit=a}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(a){this.options.ticklabelratio=a}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var a=this._draw();return this._widthLabels+=a,a}},{key:"drawTicks",value:function(a,b){var c,d,e,f=a,g=this.getCurrentMin(),h=this.getCurrentMax(),i=0;for(b&&(c=f/b),d=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-g)/f)*f:Math.floor(g/f)*f,this.incrTick=a;d<=h&&(i++,!(i>200));){if(b){e=d+c,this.subIncrTick=e;for(var j=0;e<d+f&&(j++,!(j>100));)e<g||e>h?e+=c:(this.drawTickWrapper(e,!1,Math.abs(e-d-f/2)<1e-4?2:3),e+=c)}d<g||d>h?d+=a:(this.drawTickWrapper(d,!0,1),d+=a)}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(a,b){if(this.ticks[a]=this.ticks[a]||[],this.lastCurrentTick[a]=this.lastCurrentTick[a]||0,this.currentTick[a]=this.currentTick[a]||0,this.currentTick[a]>=this.ticks[a].length){var c=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(c),this.ticks[a].push(c),b(c)}var c=this.ticks[a][this.currentTick[a]];return this.currentTick[a]>=this.lastCurrentTick[a]&&c.setAttribute("display","visible"),this.currentTick[a]++,c}},{key:"nextTickLabel",value:function(a){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var b=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(b),this.ticksLabels.push(b),a(b)}var b=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&b.setAttribute("display","visible"),this.currentTickLabel++,b}},{key:"removeUselessTicks",value:function(){for(var a in this.currentTick){for(var b=this.currentTick[a];b<this.ticks[a].length;b++)this.ticks[a][b].setAttribute("display","none");this.lastCurrentTick[a]=this.currentTick[a],this.currentTick[a]=0}}},{key:"removeUselessTickLabels",value:function(){for(var a=this.currentTickLabel;a<this.ticksLabels.length;a++)this.ticksLabels[a].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(a,b,c,d,e){(a&&this.options.primaryGrid||!a&&this.options.secondaryGrid)&&(this.gridLinePath[a?"primary":"secondary"]+="M "+b+" "+d+" L "+c+" "+e)}},{key:"setGridLineStyle",value:function(a,b){a.setAttribute("shape-rendering","crispEdges"),a.setAttribute("stroke",b?this.getPrimaryGridColor():this.getSecondaryGridColor()),a.setAttribute("stroke-width",b?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),a.setAttribute("stroke-opacity",b?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity());var c;(c=b?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&a.setAttribute("stroke-dasharray",c)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var a=this.getCurrentMin(),b=this.getCurrentMax(),c=Math.min(a,b),b=Math.max(a,b);c<1e-50&&(c=1e-50),Math.log(c)-Math.log(b)>20&&(b=Math.pow(10,20*Math.log(c)));var d={fontSize:"1.0em",exponential:!0,overwrite:!1};c<0&&(c=0);for(var e,f=0==c?0:Math.floor(Math.log(c)/Math.log(10)),c=1;(e=c*Math.pow(10,f))<b;)1==c&&e>a&&this.drawTickWrapper(e,!0,1,d),10==c?(c=1,f++):(1!=c&&e>a&&this.drawTickWrapper(e,!1,2,{overwrite:"",fontSize:"0.6em"}),c++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(a,b,c,d){this.drawTick(a,c,d)}},{key:"linkToAxis",value:function(a,b,c){this.linkedToAxis={axis:a,scalingFunction:b,decimals:c||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(a,b){var c,d,e,f,g=this.linkedToAxis,h=0,i=0;g.deltaPx||(g.deltaPx=10);do{if(c=g.scalingFunction(g.axis.getVal(h+this.getMinPx())),g.decimals&&(this.decimals=g.decimals),d=this.drawTick(c,1,{},h+this.getMinPx()),!d)throw console.log(c,h,this.getMinPx()),"Unable to draw tick. Please report the test-case";if(e=8*String(d[1].textContent).length,f=5*Math.round(e/5),f>g.deltaPx)return g.deltaPx=f,void this.drawLinkedToAxisTicksWrapper(a,b);i++,h+=g.deltaPx}while(h<a)}},{key:"getPos",value:function(a){return this.getPx(a)}},{key:"getPx",value:function(a){if(this.options.logScale){if(a<0)return;var a=(Math.log(a)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx();return a}return(a-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(a){return Math.round(10*this.getPx(a))/10}},{key:"getVal",value:function(a){return this.options.logScale?Math.exp((a-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(a-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(a){return a/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(a){return a/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(a){if(this.scientificExponent)return a/=Math.pow(10,this.scientificExponent),a.toFixed(1);if(a=a*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(a-=this.dataMin),this.options.ticklabelratio&&(a*=this.options.ticklabelratio),this.options.unitModification)return a=this.modifyUnit(a,this.options.unitModification);var b=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(a)?"":(a=b>0?a.toFixed(b):a.toFixed(0),this.options.unitInTicks&&this.options.unit&&(a+=" "+this.options.unit),a)}},{key:"valueToHtml",value:function(a,b,c){var d,e=this.valueToText(a);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(d=this.getExponentGreekLetter(this.scientificExponent))?e+=d:0===this.scientificExponent||isNaN(this.scientificExponent)||b||(e+="x10",e+="<sup>"+this.scientificExponent+"</sup>"),this.options.unit&&!c&&(e+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),e}},{key:"getModifiedValue",value:function(a){return this.options.ticklabelratio&&(a*=this.options.ticklabelratio),this.options.shiftToZero&&(a-=this.getMinValue()*(this.options.ticklabelratio||1)),a}},{key:"modifyUnit",value:function(a,b){var c="",d=this.incrTick;switch(b){case"time":var e,f,g=this.getModifiedValue(this.getMaxValue()),h=[[60,"min"],[3600,"h"],[86400,"d"]];if(g<3600?f=0:g<86400?f=1:g<2592e3&&(f=2),!h[f])return!1;a/=h[f][0];var i=Math.floor(a);for(c=i+h[f][1],f--;d<1*h[f+1][0]&&f>-1;)e=!1,a=(a-i)*h[f+1][0]/h[f][0],i=Math.round(a),c+=" "+i+h[f][1],f--;break;case"time:min.sec":a/=60;var i=Math.floor(a),j=Math.round(60*(a-i))+"";j=1==j.length?"0"+j:j,c=i+"."+j}return c}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(a){this.options.exponentialFactor=a}},{key:"setExponentialLabelFactor",value:function(a){this.options.exponentialLabelFactor=a}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setLabel",value:function(a){return this.options.labelValue=a,this}},{key:"setLabelFont",value:function(a){return this.options.labelFont=a,this}},{key:"getLabel",value:function(){return this.options.labelValue}},{key:"setSpan",value:function(a,b){return this.options.span=[a,b],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(a){return this._level=a,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(a){this.shift=a}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(a){switch(a){case 3:case"outside":case k.default.TICKS_OUTSIDE:a=3;break;case 2:case"centered":case k.default.TICKS_CENTERED:a=2;break;default:case 1:case"inside":case k.default.TICKS_INSIDE:a=1}switch(this.options.tickPosition=a,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(a){return this.options.primaryGrid=a,this.options.secondaryGrid=a,this}},{key:"setPrimaryGrid",value:function(a){return this.options.primaryGrid=a,this}},{key:"setSecondaryGrid",value:function(a){return this.options.secondaryGrid=a,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setAxisColor",value:function(a){return this.options.axisColor=a,this}},{key:"getAxisColor",value:function(a){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(a){return this.options.tickLabelOffset=a,this}},{key:"setPrimaryTicksColor",value:function(a){return this.options.primaryTicksColor=a,this}},{key:"getPrimaryTicksColor",value:function(a){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(a){return this.options.secondaryTicksColor=a,this}},{key:"getSecondaryTicksColor",value:function(a){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(a){return this.options.ticksLabelColor=a,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(b){b.setAttribute("fill",a)}),this}},{key:"getTicksLabelColor",value:function(a){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(a){return this.options.primaryGridColor=a,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(a){return this.options.secondaryGridColor=a,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(a){return this.options.primaryGridWidth=a,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(a){return this.options.secondaryGridWidth=a,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(a){return this.options.primaryGridOpacity=a,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(a){return this.options.secondaryGridOpacity=a,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(a){return this.options.primaryGridDasharray=a,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(a){return this.options.secondaryGridDasharray=a,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(a){return this.options.labelColor=a,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(a,b,c){if(c||(c={}),c.overwrite||!c.exponential)a.textContent=c.overwrite||this.valueToText(b);else{var d=Math.round(Math.log(b)/Math.log(10)),e=Math.floor(b*Math.pow(10,-d));a.textContent=1!=e?e+"x10":"10";var f=document.createElementNS(this.graph.ns,"tspan");f.textContent=d,f.setAttribute("font-size","0.7em"),f.setAttribute("dy",-5),a.appendChild(f)}c.fontSize&&a.setAttribute("font-size",c.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(a){return this.options.unit=a,this}},{key:"setUnitInTicks",value:function(a){return this.options.unitInTicks=a,this}},{key:"setUnitWrapper",value:function(a,b){return this.options.unitWrapperBefore=a,this.options.unitWrapperAfter=b,this}},{key:"setUnitDecade",value:function(a){return this.options.unitDecade=a,this}},{key:"setScientific",value:function(a){return this.options.scientificScale=a,this}},{key:"setScientificScaleExponent",value:function(a){return this.options.scientificScaleExponent=a,this}},{key:"setEngineering",value:function(a){return this.options.scientificScale=a,this.options.engineeringScale=a,this}},{key:"getEngineeringExponent",value:function(a){return a-=a>0?a%3:(3- -a%3)%3}},{key:"setLogScale",value:function(a){return this.options.logScale=a,this}},{key:"isZoomed",value:function(){return!(this.currentAxisMin==this.getMinValue()||this.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=a,this}},{key:"zoomLock",set:function(a){this._zoomLocked=a},get:function(){return this._zoomLocked||!1}}]),b}(l.default);p.prototype.getValue=p.prototype.getVal,p.prototype.getDeltaPx=p.prototype.getRelPx,b.default=p,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(308)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=function(a){function b(a,c,d){e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return g.leftright=c,g.left="left"==c,g}return g(b,a),i(b,[{key:"setAxisPosition",value:function(a){this.shiftPosition=a}},{key:"getAxisPosition",value:function(a){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var a=0;return this.getLabel()&&(a+=this.graph.options.fontSize),this.isShown()&&(a+=Math.abs(this.tickMargin)),a}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var a=j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).apply(this,arguments);return a+=this.getAdditionalWidth(),this.drawSpecifics(a),this.fullwidthlabel=a,a}},{key:"equalizePosition",value:function(a){return this.placeLabel(this.left?-a:a),this.getLabel()?a+this.graph.options.fontSize:0}},{key:"drawTick",value:function(a,b,c,d){var e,f,g=this;this.groupTicks;if(e=d||this.getPos(a),void 0!=e&&!isNaN(e)){var h=this.nextTick(b,function(a){a.setAttribute("x1",(g.left?1:-1)*g.tickPx1*g.tickScaling[b]),a.setAttribute("x2",(g.left?1:-1)*g.tickPx2*g.tickScaling[b]),1==b?a.setAttribute("stroke",g.getPrimaryTicksColor()):a.setAttribute("stroke",g.getSecondaryTicksColor())});if(h.setAttribute("y1",e),h.setAttribute("y2",e),this.nextGridLine(1==b,0,this.graph.getDrawingWidth(),e,e),1==b){var f=this.nextTickLabel(function(a){a.setAttribute("x",g.tickMargin+g.options.tickLabelOffset),"black"!==g.getTicksLabelColor()&&a.setAttribute("fill",g.getTicksLabelColor()),g.left?a.setAttribute("text-anchor","end"):a.setAttribute("text-anchor","start"),a.style.dominantBaseline="central"});f.setAttribute("y",e),this.setTickContent(f,a,c),String(f.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=f,this.longestTick[1]=String(f.textContent).length)}}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(a){this.label.setAttribute("transform","translate("+a+", "+Math.abs(this.getMaxPx()+this.getMinPx())/2+") rotate(-90)")}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var a=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=a[0]?"url(#verticalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=a[1]?"url(#verticalsplit_"+this.graph.getId()+")":"")}},{key:"setShift",value:function(a){if(this.shift=a,this.shift&&this.graph.getWidth()){var b=this.shift;b=this.floating?b:this.isLeft()?b:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-b,this.group.setAttribute("transform","translate( "+b+" 0 )"),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(a,b){var c=this.getPx(a);return b?b.setAttribute("display","initial"):b=document.createElementNS(this.graph.ns,"line"),b.setAttribute("y1",c),b.setAttribute("y2",c),b.setAttribute("x1",0),b.setAttribute("x2",this.graph.drawingSpaceWidth),b.setAttribute("stroke","black"),this.group.appendChild(b),b}},{key:"_hideLine",value:function(a){a&&a.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(a,b,c){b-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(b)}},{key:"scaleToFitAxis",value:function(a,b,c,d,e,f){a&&a.isX()||(a=this.graph.getXAxis()),isNaN(c)&&(c=a.getCurrentMin()),isNaN(d)&&(d=a.getCurrentMax()),void 0===e&&(e=!0),void 0===f&&(f=!0),"number"==typeof b&&(d=c,c=b,b=!1);for(var g=-(1/0),h=1/0,i=0,j=0,k=this.graph.series.length;j<k;j++)this.graph.series[j].isShown()&&this.graph.series[j]!=b&&this.graph.series[j].getXAxis()==a&&this.graph.series[j].getYAxis()===this&&(i++,g=f?Math.max(g,this.graph.series[j].getMax(c,d)):0,h=e?Math.min(h,this.graph.series[j].getMin(c,d)):0);if(0==i)this.setMinMaxToFitSeries();else{h=e?h:this.getCurrentMin(),g=f?g:this.getCurrentMax();var l=g-h;h-=this.options.axisDataSpacing.min*l,g+=this.options.axisDataSpacing.max*l,this._doZoomVal(h,g)}return this}},{key:"setMinMaxFlipped",value:function(){var a=this.maxPx-this.minPx;if(!isNaN(a)){var b=this.maxPx-a*this.options.span[0]-this.options.marginMin,c=this.maxPx-a*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?b:c,this.maxPxFlipped=this.isFlipped()?c:b}}},{key:"getZProj",value:function(a){return a*this.graph.options.zAxis.shiftY}}]),b}(h.default);b.default=k,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(307)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),j(b,[{key:"draw",value:function(){var a,b=this,c=(this.graph.drawingSpaceWidth,this._barCategories);if(this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),c){Array.isArray(c)||(c=[c]);for(var d=0;d<=c.length;d++)this.drawTick(d/c.length,2),d<c.length&&(a=this.nextTickLabel(function(a){a.setAttribute("y",(b.top?-1:1)*((1==b.options.tickPosition?8:20)+(b.top?10:0))),a.setAttribute("text-anchor","middle"),"black"!==b.getTicksLabelColor()&&a.setAttribute("fill",b.getTicksLabelColor()),a.style.dominantBaseline="hanging"}),a.setAttribute("x",this.getPos((d+.5)/c.length)),a.textContent=c[d].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var a=[],b=!0,c=!1,d=void 0;try{for(var e,f=this.graph.series[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;g.getXAxis()==this&&a.push(g)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return this.setSeries.apply(this,a),this}},{key:"setSeries",value:function(){var a=this;return this.series=arguments,Array.prototype.map.call(this.series,function(b,c){"object"!=("undefined"==typeof b?"undefined":i(b))&&(b=a.graph.getSerie(b)),b.setCategoryConfig&&b.setCategoryConfig(c,a._barCategories,a.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var a={},b=0;Array.prototype.map.call(this.series,function(c){var d=c.getUsedCategories(),e=!0,f=!1,g=void 0;try{for(var h,i=d[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;a.hasOwnProperty(j)||(a[j]=1,b+=1),a[j]++,b++}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}});var c=0;for(var d in a){var e=a[d];a[d]=c,c+=e}var f={},g=0;Array.prototype.map.call(this.series,function(c){var d=c.getUsedCategories(),e={};d.map(function(c){f[c]=f[c]||.5,e[c]=(a[c]+f[c])/b,f[c]++}),c.setDataIndices(e,b),g++})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(a){return this._barCategories=a,this}}]),b}(h.default);b.default=k,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(308),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function j(a,b){return Math.round(a/b)*b}function k(a,b){switch(b.unit){case"s":a.setSeconds(j(a.getSeconds(),b.increment)),a.setMilliseconds(0);break;case"i":a.setMinutes(j(a.getMinutes(),b.increment)),a.setSeconds(0),a.setMilliseconds(0);break;case"h":a.setHours(j(a.getHours(),b.increment)),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);break;case"d":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(j(a.getDate(),b.increment));break;case"m":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(j(a.getMonth(),b.increment));break;case"y":a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(0);break;default:throw"Date format not recognized"}return a}function l(a,b){switch(b.unit){case"s":a.setSeconds(a.getSeconds()+b.increment),a.setMilliseconds(0);break;case"i":a.setMinutes(a.getMinutes()+b.increment),a.setSeconds(0),a.setMilliseconds(0);break;case"h":a.setHours(a.getHours()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);break;case"d":a.setDate(a.getDate()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0);break;case"m":a.setMonth(a.getMonth()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1);break;case"y":a.setFullYear(a.getFullYear()+b.increment),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(0),a.setDate(1),a.setMonth(0);break;default:throw"Date format not recognized"}return a}function m(a,b,c){if(a.groups[b][c])return a.groups[b][c].group.setAttribute("display","block"),a.groups[b][c];var d={group:document.createElementNS(a.graph.ns,"g"),text:document.createElementNS(a.graph.ns,"text")},e=document.createElementNS(a.graph.ns,"line");switch(e.setAttribute("stroke","black"),e.setAttribute("y1",0),b){case 2:e.setAttribute("y2",6),d.text.setAttribute("y",15),d.line=e,d.group.appendChild(d.line);break;case 1:e.setAttribute("y2",20),d.text.setAttribute("y",10),d.line1=e,d.line2=e.cloneNode(),d.group.appendChild(d.line1),d.group.appendChild(d.line2)}return d.text.setAttribute("text-anchor","middle"),d.text.setAttribute("dominant-baseline","middle"),d.group.appendChild(d.text),a.getWrapper(b).appendChild(d.group),a.groups[b][c]=d}function n(a,b,c){for(;c<a.groups[b].length;c++)o(a.groups[b][c])}function o(a){a.group.setAttribute("display","none")}function p(a,b){return w(a,b)}function q(a,b,c,d,e,f,g){switch(a){case 1:var h=Math.max(d,Math.min(e,f)),i=Math.max(d,Math.min(e,g));if(isNaN(i)||isNaN(h))return;for(b.line1.setAttribute("x1",h),b.line2.setAttribute("x1",i),b.line1.setAttribute("x2",h),b.line2.setAttribute("x2",i),b.text.setAttribute("x",(h+i)/2);8*c.length>i-h;)if(c=c.substr(0,c.length-2)+".",1==c.length){c="";break}b.text.textContent=c;break;case 2:if(f<d||f>e)return void o(b);b.line.setAttribute("x1",f),b.line.setAttribute("x2",f),b.text.setAttribute("x",f),b.text.textContent=c}}Object.defineProperty(b,"__esModule",{value:!0});var r=f(c),s=e(d),t=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),u=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},v=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],w=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;
return a},e=function(a,b){var c=new Date(a[b+"FullYear"](),0,1);return Math.ceil(((a-c)/864e5+c[b+"Day"]()+1)/7)};return function(f,g,h){var i=w;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(f)||/\d/.test(f)||(g=f,f=void 0),f=f?new Date(f):new Date,isNaN(f))throw SyntaxError("invalid date:"+f);g=String(i.masks[g]||g||i.masks.default),"UTC:"==g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=f[j+"Date"](),l=f[j+"Day"](),m=f[j+"Month"](),n=f[j+"FullYear"](),o=f[j+"Hours"](),p=f[j+"Minutes"](),q=f[j+"Seconds"](),r=f[j+"Milliseconds"](),s=h?0:f.getTimezoneOffset(),t={d:k,dd:d(k),ddd:i.i18n.dayNames[l],dddd:i.i18n.dayNames[l+7],m:m+1,mm:d(m+1),mmm:i.i18n.monthNames[m],mmmm:i.i18n.monthNames[m+12],yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:d(o%12||12),H:o,HH:d(o),M:p,MM:d(p),s:q,ss:d(q),l:d(r,3),L:d(r>99?Math.round(r/10):r),t:o<12?"a":"p",tt:o<12?"am":"pm",T:o<12?"A":"P",TT:o<12?"AM":"PM",Z:h?"UTC":(String(f).match(b)||[""]).pop().replace(c,""),o:(s>0?"-":"+")+d(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!=10)*k%10],W:e(f,j)};return g.replace(a,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}();w.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},w.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var x=function(a){function b(a,c,d){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),t(b,[{key:"init",value:function(a,c){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).call(this,a,c),this.wrapper={1:document.createElementNS(a.ns,"g"),2:document.createElementNS(a.ns,"g")},this.groups={1:[],2:[]};var d=document.createElementNS(a.ns,"rect");d.setAttribute("fill","#c0c0c0"),d.setAttribute("stroke","#808080"),d.setAttribute("height","20"),d.setAttribute("x","0"),d.setAttribute("y","0"),this.rect=d,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),void 0!=this.currentAxisMin&&void 0!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var a=this.maxPx-this.minPx,b=this.getCurrentInterval(),c=b/a,d=this.getCurrentMax(),e=this.getCurrentMin();if(this.rect.setAttribute("width",a),this.rect.setAttribute("x",this.minPx),!d||!e)return 0;var f;for(t=0;t<v.length;t++)if(v[t].threshold>c){f=v[t];break}f||(f=v[v.length-1]);var g,h,i,j,o,r,t,u=0;for(u=1;u<=2;u++){if(!s.isNumeric(e)){n(this,u,0);break}i=new Date(e),j=k(i,f.increments[u]),t=0;do if(o=p(j,f.increments[u].format),r=m(this,u,t),g=this.getPx(j.getTime()),j=l(j,f.increments[u]),h=this.getPx(j.getTime()),q(u,r,o,this.getMinPx(),this.getMaxPx(),g,h),t++,t>100)break;while(j.getTime()<d);n(this,u,t)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(a){return this.wrapper[a]}},{key:"setShift",value:function(a,b){this.shift=a,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var a=this.maxPx-this.minPx,b=a*this.options.span[1]+this.minPx,c=a*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?b:c,this.maxPxFlipped=this.isFlipped()?c:b}}]),b}(r.default);b.default=x,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(313),c(301),c(314),c(303)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f,g){"use strict";function h(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function m(a,b,c,d,e){if(b){if(a.options.markersIndependant){var f=a.getMarkerDomIndependent(a.counter2,b),g="M "+c+" "+d+" ";g+=b.markerPath+" ",f.setAttribute("d",g)}e.path=e.path||"",e.path+="M "+c+" "+d+" ",e.path+=b.markerPath+" "}}Object.defineProperty(b,"__esModule",{value:!0});var n=(i(c),i(d)),o=h(e),p=i(f),q=i(g),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},t=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),u=function(a){function b(a,c,d){j(this,b);var e=k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.selectionType="unselected",e.markerFamilies={},o.mapEventEmission(e.options,e),e.styles={},e.styles.unselected={lineColor:e.options.lineColor,lineStyle:e.options.lineStyle,lineWidth:e.options.lineWidth,markers:e.options.markers},e.styles.selected={lineWidth:3},e.extendStyles(),e.markersDom=new Map,e.shown=!0,e.data=[],e._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},e.groupLines=document.createElementNS(e.graph.ns,"g"),e.domMarker=document.createElementNS(e.graph.ns,"path"),e.domMarker.style.cursor="pointer",e.groupMain=document.createElementNS(e.graph.ns,"g"),e.additionalData={},e.marker=document.createElementNS(e.graph.ns,"circle"),e.marker.setAttribute("fill","black"),e.marker.setAttribute("r",3),e.marker.setAttribute("display","none"),e.markerLabel=document.createElementNS(e.graph.ns,"text"),e.markerLabelSquare=document.createElementNS(e.graph.ns,"rect"),e.markerLabelSquare.setAttribute("fill","white"),e.domMarkerHover={},e.domMarkerSelect={},e.markerHovered=0,e.groupMarkerSelected=document.createElementNS(e.graph.ns,"g"),e.markerPoints={},e.lines=[],e.groupMain.appendChild(e.groupLines),e.groupMain.appendChild(e.marker),e.groupMain.appendChild(e.groupMarkerSelected),e.groupMain.appendChild(e.markerLabelSquare),e.groupMain.appendChild(e.markerLabel),e.groupMarkers=document.createElementNS(e.graph.ns,"g"),e.groupMain.appendChild(e.groupMarkers),e.independantMarkers=[],e.initExtended1&&e.initExtended1(),e.groupLines.addEventListener("click",function(a){e.options.selectableOnClick&&(e.isSelected()?e.graph.unselectSerie(e):e.graph.selectSerie(e))}),e.options.markers&&e.setMarkers(e.options.markers,"unselected"),e}return l(b,a),t(b,null,[{key:"default",value:function(){return{lineColor:"black",lineStyle:1,flip:!1,label:"",lineWidth:1,markers:!1,trackMouse:!1,trackMouseLabel:!1,trackMouseLabelRouding:1,lineToZero:!1,selectableOnClick:!1,markersIndependant:!1,overflowX:!1,overflowY:!1}}}]),t(b,[{key:"setWaveform",value:function(a){if(!(a instanceof q.default))throw"Cannot assign waveform to serie. Waveform is not of the proper Waveform instance";return this.waveform=a,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setOptions",value:function(a){return this.options=o.extend(!0,{},b.prototype.defaults,a||{}),this.styles.unselected={lineColor:this.options.lineColor,lineStyle:this.options.lineStyle,markers:this.options.markers},this.applyLineStyles(),this}},{key:"onMouseOverMarker",value:function(a,b){this.toggleMarker(b,!0,!0);this.options.onMouseOverMarker&&this.options.onMouseOverMarker(b,!!this.infos&&(this.infos[b]||!1),[this.waveform.getX(b),this.waveform.getY(b)])}},{key:"onMouseOutMarker",value:function(a,b){this.markersOffHover(),this.options.onMouseOutMarker&&this.options.onMouseOutMarker(b,!!this.infos&&(this.infos[b]||!1),[this.waveform.getX(b),this.waveform.getY(b)])}},{key:"toggleMarker",value:function(a,b,c){var d,e=a;"undefined"==typeof b&&(d=c?!this.domMarkerHover[a]:!this.domMarkerSelect[a]);var f=this["domMarker"+(c?"Hover":"Select")];if(d||b===!0){if(f[a])g=f[a];else{var g=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(g,this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(e)]),this["domMarker"+(c?"Hover":"Select")][a]=g,this.groupMarkerSelected.appendChild(g)}var h=this.getX(this.waveform.getX(e)),i=this.getY(this.waveform.getY(e));g.setAttribute("d","M "+h+" "+i+" "+this.getMarkerPath(this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(e)],1)),c&&this.markerHovered++}else if((!d||b===!1)&&(c&&this.domMarkerHover[a]&&!this.domMarkerSelect[a]||this.domMarkerSelect[a])){if(!f[a])return;this.groupMarkerSelected.removeChild(f[a]),delete f[a],c&&this.markerHovered--}return d}},{key:"markersOffHover",value:function(){for(var a in this.domMarkerHover)this.toggleMarker(a.split(","),!1,!0);return this}},{key:"markersOffSelect",value:function(){for(var a in this.domMarkerSelect)this.toggleMarker(a.split(","),!1,!1);return this}},{key:"onClickOnMarker",value:function(a,b){var c=this.toggleMarker(b);c&&this.options.onSelectMarker&&this.options.onSelectMarker(b,!!this.infos&&(this.infos[b[0]]||!1)),!c&&this.options.onUnselectMarker&&this.options.onUnselectMarker(b,!!this.infos&&(this.infos[b[0]]||!1)),this.options.onToggleMarker&&this.options.onToggleMarker(b,!!this.infos&&(this.infos[b[0]]||!1),c)}},{key:"_getMarkerIndexFromEvent",value:function(a){var b=this.graph._getXY(a);return this.searchIndexByPxXY(b.x-this.graph.getPaddingLeft(),b.y-this.graph.getPaddingTop())}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var a=0,b=this.lines.length;a<b;a++)this.groupLines.removeChild(this.lines[a]);return this.lines=[],this}},{key:"select",value:function(a){return a=a||"selected",this.selected="unselected"!==a,this.areMarkersShown()||this.areMarkersShown(a)?(this.selectionType=a,this.draw(!0),this.applyLineStyles()):(this.selectionType=a,this.applyLineStyles()),this.applyLineStyle(this.getSymbolForLegend()),this}},{key:"unselect",value:function(){return this.selected=!1,this.select("unselected")}},{key:"degrade",value:function(a){return this.degradationPx=a,this}},{key:"drawInit",value:function(a){var b=this;try{this.axisCheck()}catch(a){return console.warn(a),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var c=this.getXAxis(),d=this.graph.getDrawingWidth()*(c.getDataMax()-c.getDataMin())/(c.getCurrentMax()-c.getCurrentMin()),e=this.waveform.selectAggregatedData(d);if(e instanceof Promise)return e.then(function(){b.draw(a)}),!1;if(e===!1)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var a=this.currentLineId,b=this.lines.length;a<b;a++)this.groupLines.removeChild(this.lines[a]);this.lines.splice(this.currentLineId,b-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(a){if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).apply(this,arguments),!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(a||this.hasDataChanged()){if(!this.drawInit(a))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.eraseMarkers(),this.lookForMaxima=!0,this.lookForMinima=!1,this.markerFamily=this.markerFamilies[this.selectionType||"unselected"],this.pos0=this.getYAxis().getPos(0),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertMarkers(),this.insertLinesGroup()}for(var c in this.domMarkerHover)this.toggleMarker(c.split(","),!1,!0);for(var c in this.domMarkerSelect)this.toggleMarker(c.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var a=this,b=this.waveform,c=void 0,d=void 0,e=void 0,f=!1,g=!1,h=void 0,i=void 0,j=void 0,k=void 0,l=this.getXAxis(),m=this.getYAxis(),n=l.getCurrentMin(),o=m.getCurrentMin(),p=l.getCurrentMax(),q=m.getCurrentMax();if(b){c=b.getData(!0);var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=b.getShift(),A=b.getScale(),B=!1,C=!1,D=void 0,E=this.isMonotoneous(),F=this.markersShown(),G=0,H=b.getLength();for(this.currentLine="",b.isXMonotoneous()&&(b.isXMonotoneousAscending()?(G=b.getIndexFromX(n,!0)||0,H=b.getIndexFromX(p,!0),H===!1&&(H=b.getLength())):(G=b.getIndexFromX(p,!0)||0,H=b.getIndexFromX(n,!0),H===!1&&(H=b.getLength())),H+=2,H>c.length&&(H=c.length));G<H;G+=1)if(d=b.getX(G,!0),e=c[G]*A+z,d==d&&e==e){if(!this.options.overflowX&&d<n&&f<n||!this.options.overflowX&&d>p&&f>p||(!this.options.overflowY&&e<o&&g<o||!this.options.overflowY&&e>q&&g>q)&&!this.options.lineToZero)f=d,g=e,C=!0;else if(this.counter2=G,F&&this.getMarkerCurrentFamily(this.counter2),j=this.getX(d),k=this.getY(e),j!=h||k!=i)if(j==j&&k==k){if(B=E?!this.options.overflowY&&(e<o||e>q):!this.options.overflowX&&(d<n||d>p)||!this.options.overflowY&&(e<o||e>q),this.options.lineToZero){if(B=d<n||d>p)continue}else if(B||C){f!==!1&&g!==!1||C?(D=[],r=(d-n)/(d-f),s=e-r*(e-g),t=(d-p)/(d-f),u=e-t*(e-g),v=(e-o)/(e-g),w=d-v*(d-f),x=(e-q)/(e-g),y=d-x*(d-f),r<1&&r>0&&s!==!1&&s<q&&s>o&&D.push([n,s]),t<1&&t>0&&u!==!1&&u<q&&u>o&&D.push([p,u]),v<1&&v>0&&w!==!1&&w<p&&w>n&&D.push([w,o]),x<1&&x>0&&y!==!1&&y<p&&y>n&&D.push([y,q]),D.length>0?B?C?2==D.length&&(this._createLine(),this._addPoint(this.getX(D[0][0]),this.getY(D[0][1]),D[0][0],D[0][1],!1,!1,!1),this._addPoint(this.getX(D[1][0]),this.getY(D[1][1]),D[0][0],D[0][1],!1,!1,!1)):(D.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(D,y,w,u,s,e,o,q,g)),this._addPoint(this.getX(D[0][0]),this.getY(D[0][1]),D[0][0],D[0][1],!1,!1,!1)):(D.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(D,y,w,u,s,e,o,q,g)),this._createLine(),this._addPoint(this.getX(D[0][0]),this.getY(D[0][1]),D[0][0],D[0][1],!1,!1,!1),this._addPoint(j,k,f,g,!1,!1,!0)):B||this._addPoint(j,k,f,g,G,!1,!1)):(h=j,i=k,f=d,g=e),h=j,i=k,f=d,g=e,C=B;continue}this._addPoint(j,k,d,e,G,!1,!0),h=j,i=k,f=d,g=e}else this.counter>0&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var I=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(I),G=0,H=I.children.length;G<H;G++)I.children[G].setAttribute("stroke","transparent"),I.children[G].setAttribute("stroke-width","25px"),I.children[G].setAttribute("pointer-events","stroke");this._trackerDom=I,this.groupMain.addEventListener("mousemove",function(b){var c=a.graph._getXY(b),d=a.handleMouseMove(!1,!1);a._trackingCallback(a,d,c.x,c.y)}),this.groupMain.addEventListener("mouseleave",function(b){a._trackingOutCallback(a)})}return this}}},{key:"kill",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"kill",this).call(this)}},{key:"getMarkerCurrentFamily",value:function(a){if(this.markerPoints&&this.markerPoints[this.selectionType]){for(var b,c=0;c<this.markerPoints[this.selectionType].length&&this.markerPoints[this.selectionType][c][0]<=a;c++)this.markerPoints[this.selectionType][c][1]>=a&&(this.markerCurrentFamily=this.markerPoints[this.selectionType][c][2],b=this.markerFamilies[this.selectionType][this.markerCurrentFamily]);return!!b&&(this.getMarkerDom(b),this.markerCurrentFamily)}}},{key:"setMarkerStyleTo",value:function(a,b){if(!a||!b)throw console.trace(),"Cannot set marker style. DOM does not exist.";a.setAttribute("fill",b.fillColor||"transparent"),a.setAttribute("stroke",b.strokeColor||this.getLineColor()),a.setAttribute("stroke-width",b.strokeWidth||1)}},{key:"hideTrackingMarker",value:function(){this.marker.setAttribute("display","none"),this.markerLabel.setAttribute("display","none"),this.markerLabelSquare.setAttribute("display","none")}},{key:"_addPoint",value:function(a,b,c,d,e,f,g){if(a===a&&b===b){if(0==this.counter?this.currentLine="M ":this.options.lineToZero||f?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=a,this.currentLine+=" ",this.currentLine+=b,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=a,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(e,c,d,a,b),!this.markerPoints)return void this.counter++;this.markersShown()&&g!==!1&&this.markerFamily&&m(this,this.markerFamily[this.markerCurrentFamily],a,b,this.markersDom.get(this.markerFamily[this.markerCurrentFamily])),this.counter++}}},{key:"_createLine",value:function(){var a,b=this.currentLineId++;return this.lines[b]?a=this.lines[b]:(a=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(a),this.groupLines.appendChild(a),this.lines[b]=a),0==this.counter?a.setAttribute("d",""):a.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,a}},{key:"applyLineStyles",value:function(){for(var a=0;a<this.lines.length;a++)this.applyLineStyle(this.lines[a])}},{key:"applyLineStyle",value:function(a){a.setAttribute("stroke",this.getLineColor()),a.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?a.setAttribute("stroke-dasharray",this.getLineDashArray()):a.removeAttribute("stroke-dasharray"),a.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(a,b){var c=a.zoom||1,b=b||0,d=[];switch(a.type){case 2:d=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:d=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:d=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:d=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=c&&c||b))return d.join(" ");var e="number";if(d){for(var f=0,g=d.length;f<g;f++)r(d[f])==e&&(d[f]*=c+b);return d.join(" ")}}},{key:"getMarkerDom",value:function(a){var b=this;if(!this.markersDom.has(a)){var c=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(c,a),this.markersDom.set(a,{dom:c,path:""}),c.addEventListener("mouseover",function(a){var c=b._getMarkerIndexFromEvent(a);b.onMouseOverMarker(a,c)}),c.addEventListener("mouseout",function(a){var c=b._getMarkerIndexFromEvent(a);b.onMouseOutMarker(a,c)}),c.addEventListener("click",function(a){var c=b._getMarkerIndexFromEvent(a);b.onClickOnMarker(a,c)})}return a.dom}},{key:"getMarkerDomIndependent",value:function(a,b){var c=this;if(!this.independantMarkers[a]){var d=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(d,b),d.addEventListener("mouseover",function(b){c.onMouseOverMarker(b,a)}),d.addEventListener("mouseout",function(b){c.onMouseOutMarker(b,a)}),d.addEventListener("click",function(b){c.onClickOnMarker(b,a)}),this.independantMarkers[a]=d}return this.groupMarkers.appendChild(this.independantMarkers[a]),this.independantMarkers[a]}},{key:"searchIndexByPxXY",value:function(a,b){for(var c,d,e,f=!1,g=!1,h=(this._xDataToUse,0),i=this.waveform.getLength();h<i;h+=1)d=this.waveform.getX(h),e=this.waveform.getY(h),c=Math.pow(this.getX(d)-a,2)+Math.pow(this.getY(e)-b,2),(!f||c<f)&&(f=c,g=h);return g}},{key:"searchClosestValue",value:function(a,b){if(this.waveform){var c=this.waveform.getIndexFromXY(a,b),d=void 0;return this.waveform.isXMonotoneous()?(d={xMin:this.waveform.getX(c),xMax:this.waveform.getX(c+1),yMin:this.waveform.getY(c),yMax:this.waveform.getY(c+1),xExact:a},Math.abs(d.xMin-a)<Math.abs(d.xMax-a)?(d.xClosest=d.xMin,d.yClosest=d.yMin):(d.xClosest=d.xMax,d.yClosest=d.yMax)):d={xExact:this.waveform.getX(c),xMin:this.waveform.getX(c),xMax:this.waveform.getX(c),yMin:this.waveform.getY(c),yMax:this.waveform.getY(c)},d}}},{key:"handleMouseMove",value:function(a,b,c){var d=a||this.getXAxis().getMouseVal(),e=c||this.getYAxis().getMouseVal(),f=this.searchClosestValue(d,e);if(f){var g,h;if(f.xMax==f.xMin?h=f.yMin:(g=(d-f.xMin)/(f.xMax-f.xMin),h=(1-g)*f.yMin+g*f.yMax),b&&this.options.trackMouse){if(void 0==f.xMin)return!1;var i=this.getX(this.getFlip()?h:f.xExact),j=this.getY(this.getFlip()?f.xExact:h);switch(this.marker.setAttribute("display","block"),this.marker.setAttribute("cx",i),this.marker.setAttribute("cy",j),this.markerLabel.setAttribute("display","block"),this.markerLabelSquare.setAttribute("display","block"),this.options.trackMouseLabel){case!1:break;default:this.markerLabel.textContent=this.options.trackMouseLabel.replace("<x>",d.toFixed(this.options.trackMouseLabelRouding)).replace("<y>",h.toFixed(this.options.trackMouseLabelRouding))}this.markerLabel.setAttribute("x",i+5),this.markerLabel.setAttribute("y",j-5),this.markerLabelSquare.setAttribute("x",i+5),this.markerLabelSquare.setAttribute("y",j-5-this.graph.options.fontSize),this.markerLabelSquare.setAttribute("width",this.markerLabel.getComputedTextLength()+2),this.markerLabelSquare.setAttribute("height",this.graph.options.fontSize+2)}return{xBefore:f.xMin,xAfter:f.xMax,yBefore:f.yMin,yAfter:f.yMax,trueX:f.xExact,interpolatedY:h,xClosest:f.xClosest,yClosest:f.yClosest}}}},{key:"getMax",value:function(a,b){var c,d,e,f,g=Math.min(a,b),h=Math.max(a,b),i=this.searchClosestValue(g),j=this.searchClosestValue(h),k=-(1/0);if(i||(g=this.minX,i=this.searchClosestValue(g)),j||(h=this.maxX,j=this.searchClosestValue(h)),!i||!j)return-(1/0);for(c=i.dataIndex;c<=j.dataIndex;c++)for(e=c==i.dataIndex?i.xBeforeIndexArr:0,f=c==j.dataIndex?j.xBeforeIndexArr:this.data[c].length,d=e;d<=f;d+=2)k=Math.max(k,this.data[c][d+1]);return k}},{key:"getMin",value:function(a,b){var c,d,e,f,g=Math.min(a,b),h=Math.max(a,b),i=this.searchClosestValue(g),j=this.searchClosestValue(h),k=1/0;if(i||(g=this.minX,i=this.searchClosestValue(g)),j||(h=this.maxX,j=this.searchClosestValue(h)),!i||!j)return 1/0;for(c=i.dataIndex;c<=j.dataIndex;c++)for(e=c==i.dataIndex?i.xBeforeIndexArr:0,f=c==j.dataIndex?j.xBeforeIndexArr:this.data[c].length,d=e;d<=f;d+=2)k=Math.min(k,this.data[c][d+1]);return k}},{key:"setStyle",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[b]=a,this.styleHasChanged(b)}},{key:"setLineStyle",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected",c=arguments[2];return this.styles[b]=this.styles[b]||{},this.styles[b].lineStyle=a,c&&this.setLineStyle(a,"selected"),this.styleHasChanged(b),this}},{key:"getLineStyle",value:function(a){return this.getStyle(a).lineStyle}},{key:"getLineDashArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(a).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[a].lineStyle}this.styleHasChanged(a)}},{key:"getStyle",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[a]}},{key:"extendStyles",value:function(){for(var a in this.styles){var b=this.styles[a];b&&(this.styles[a]=o.extend(!0,{},this.styles.unselected,b))}}},{key:"extendStyle",value:function(a,b){var c=this.styles[a];this.styles[a]=o.extend(!0,{},this.styles[b||"unselected"],c||{}),this.styles[a].markers.map(function(a){a.dom&&(a.dom="")}),this._recalculateMarkerPoints(a,this.styles[a].markers),this.styleHasChanged(a)}},{key:"setLineWidth",value:function(a,b,c){return b=b||"unselected",this.styles[b]=this.styles[b]||{},this.styles[b].lineWidth=a,c&&this.setLineWidth(a,"selected"),this.styleHasChanged(b),this}},{key:"getLineWidth",value:function(a){return this.getStyle(a).lineWidth||1}},{key:"setLineColor",value:function(a,b,c){return b=b||"unselected",this.styles[b]=this.styles[b]||{},this.styles[b].lineColor=a,c&&this.setLineColor(a,"selected"),this.styleHasChanged(b),this}},{key:"getLineColor",value:function(a){return this.getStyle(a).lineColor||"black"}},{key:"showMarkers",value:function(a,b){return a=a||"unselected",this.styles[a]=this.styles[a]||{},this.styles[a].showMarkers=!0,b&&this._drawn?this.draw(!0):this.styleHasChanged(a),this}},{key:"hideMarkers",value:function(a,b){return a=a||"unselected",this.styles[a].showMarkers=!1,b&&this._drawn?this.draw(!0):this.styleHasChanged(a),this}},{key:"markersShown",value:function(a){return this.getStyle(a).showMarkers!==!1}},{key:"areMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"isMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"setMarkers",value:function(a,b,c){return this.styles[b||"unselected"]=this.styles[b||"unselected"]||{},this.showMarkers(b,!1),Array.isArray(a)||"object"!=("undefined"==typeof a?"undefined":r(a))?a||(a=[{type:1,zoom:1,points:"all"}]):a=[a],this.styles[b||"unselected"].markers=a,c&&(this.styles.selected.markers=o.extend(!0,{},a)),this._recalculateMarkerPoints(b,a),this.styleHasChanged(b),this.dataHasChanged(!0),this}},{key:"setMarkersPoints",value:function(a,b,c){this._extendMarkers("points",a,b,c,!0)}},{key:"setMarkersColor",value:function(a,b,c){this._extendMarkers("color",a,b,c)}},{key:"setMarkersType",value:function(a,b,c){this._extendMarkers("type",a,b,c)}},{key:"setMarkersZoom",value:function(a,b,c){this._extendMarkers("zoom",a,b,c)}},{key:"setMarkersStrokeColor",value:function(a,b,c){this._extendMarkers("strokeColor",a,b,c)}},{key:"setMarkersStrokeWidth",value:function(a,b,c){this._extendMarkers("strokeWidth",a,b,c)}},{key:"setMarkersFillColor",value:function(a,b,c){this._extendMarkers("fillColor",a,b,c)}},{key:"_extendMarkers",value:function(a,b,c,d,e){c=c||0,d=d||"unselected",this.styles[d]&&this.styles[d].markers&&(this.styles[d].markers[c][a]=b,e&&this._recalculateMarkerPoints(d,this.styles[d].markers),this.markersDom[this.styles[d].markers[c]]&&this.setMarkerStyleTo(this.markersDom[this.styles[d].markers[c]].dom,this.styles[d].markers[c]))}},{key:"_recalculateMarkerPoints",value:function(a,b){var c=[];c.push([0,1/0,null]);for(var d=0,e=b.length;d<e;d++){b[d].markerPath=this.getMarkerPath(b[d]),b[d].points||(b[d].points="all"),Array.isArray(b[d].points)||(b[d].points=[b[d].points]);for(var f=0,g=b[d].points.length;f<g;f++)"all"==b[d].points[f]?c.push([0,1/0,d]):Array.isArray(b[d].points[f])?c.push([b[d].points[f][0],b[d].points[f][1],d]):c.push([b[d].points[f],b[d].points[f],d])}this.markerFamilies[a||"unselected"]=b,c.sort(function(a,b){return a[0]-b[0]||(null==a[2]?-1:1)}),this.markerPoints[a||"unselected"]=c}},{key:"insertMarkers",value:function(a){if(this.markerFamilies&&this.markerFamilies[a||this.selectionType]&&!this.options.markersIndependant)for(var b=0,c=this.markerFamilies[a||this.selectionType].length;b<c;b++)if(this.markersDom.has(this.markerFamilies[a||this.selectionType][b])){var d=this.markersDom.get(this.markerFamilies[a||this.selectionType][b]);d.dom.setAttribute("d",d.path),this.groupMarkers.appendChild(d.dom),this.currentMarkersSelectionType=this.selectionType}}},{key:"getMarkerForLegend",value:function(){if(this.markerPoints&&this.markerPoints[this.selectionType]){if(!this.markerForLegend){var a=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(a,this.markerFamilies[this.selectionType][0]),a.setAttribute("d","M 14 0 "+this.getMarkerPath(this.markerFamilies[this.selectionType][0])),this.markerForLegend=a}return this.markerForLegend}}},{key:"eraseMarkers",value:function(){var a=this;if(this.options.markersIndependant){for(var b in this.independantMarkers)a.groupMarkers.removeChild(this.independantMarkers[b]);this.independantMarkers={}}else this.currentMarkersSelectionType&&(this.markersDom.forEach(function(b){b.dom&&b.dom.parentNode===a.groupMarkers&&(a.groupMarkers.removeChild(b.dom),b.path="")}),this.currentMarkersSelectionType=!1)}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(a,b,c){return!!this.waveform&&this.waveform.findLocalMinMax(a,b,c)}}]),b}(n.default);o.mix(u,p.default),b.default=u,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(302),c(301),c(303)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=g(c),l=(f(d),g(e)),m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=function(a){function b(a,c,d){h(this,b);var e=i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.graph=a,e.name=c,e.options=Object.assign({},b.default(),e.constructor.default(),d),e}return j(b,a),m(b,null,[{key:"default",value:function(){return{redrawShapesAfterDraw:!1}}}]),m(b,[{key:"draw",value:function(){}
},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(a){a.redraw()}),this.emit("draw")}},{key:"setData",value:function(a,b,c){if(a instanceof l.default)return this.setWaveform(a);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(a,b){return[]}},{key:"clearData",value:function(){return this.setData(new l.default),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(a){this.options=a||{}}},{key:"setOption",value:function(a,b){this.options[a]=b}},{key:"kill",value:function(a){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!a&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(a){if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),a)for(var b=this.graph.getShapesOfSerie(this),c=0,d=b.length;c<d;c++)b[c].hide();return this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"show",value:function(a){if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),a)for(var b=this.graph.getShapesOfSerie(this),c=0,d=b.length;c<d;c++)b[c].show();return this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(a){return(a=this.getXAxis().getPx(a))-a%.2}},{key:"getY",value:function(a){return(a=this.getYAxis().getPx(a))-a%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(a){this.minX=Math.min(this.minX,a),this.maxX=Math.max(this.maxX,a)}},{key:"_checkY",value:function(a){this.minY=Math.min(this.minY,a),this.maxY=Math.max(this.maxY,a)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(a){return"number"==typeof a?this.xaxis=this.isFlipped()?this.graph.getYAxis(a):this.graph.getXAxis(a):this.xaxis=a,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(a){return"number"==typeof a?this.xaxis=this.isFlipped()?this.graph.getXAxis(a):this.graph.getYAxis(a):this.yaxis=a,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var a=0;a<2;a++)arguments[a]&&this[arguments[a].isX()?"setXAxis":"setYAxis"](arguments[a]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(a){if(!(a instanceof l.default))throw"Cannot assign waveform to serie. Waveform is not of the proper Waveform instance";return this.waveform=a,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var a=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(a),a.setAttribute("x1",5),a.setAttribute("x2",25),a.setAttribute("y1",0),a.setAttribute("y2",0),a.setAttribute("cursor","pointer"),this.lineForLegend=a}return this.lineForLegend}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var a=document.createElementNS(this.graph.ns,"text");a.setAttribute("cursor","pointer"),a.textContent=this.getLabel(),this.textForLegend=a}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(a){return this.options.label=a,this.textForLegend&&(this.textForLegend.textContent=a),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(a){return this.options.flip=a,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(a){var b=parseInt(a)||1;return b!==this.options.layer&&(this.options.layer=b,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[b]=a,this.styleHasChanged(b)}},{key:"styleHasChanged",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},a===!1)for(var b in this._changedStyles)this._changedStyles[b]=!1;else this._changedStyles[a||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(a){return this._changedStyles=this._changedStyles||{},this._changedStyles[a||"unselected"]}},{key:"dataHasChanged",value:function(a){return this._dataHasChanged=void 0===a||a,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(a,b){return this.infos=this.infos||{},this.infos[a]=b,this}},{key:"getInfo",value:function(a,b){return(this.infos||{})[a]}},{key:"setAdditionalData",value:function(a){return this.additionalData=a,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(){return this.selected=!0,this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(a,b){return this._tracker=!0,this._trackingCallback=a,this._trackingOutCallback=b,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this._trackingCallback=null,this}},{key:"allowTrackingLine",value:function(a){a=a||{},this.graph.addSerieToTrackingLine(this,a)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"setDataIndices",value:function(a,b){this.categoryIndices=a,this.nbCategories=b}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}},{key:"excludedFromLegend",set:function(a){this._excludedFromLegend=a},get:function(){return!!this._excludedFromLegend}}]),b}(k.default);b.default=n,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0});var e=d(c),f={makeBarY:function(a,b,c){if(a&&void 0!==c){var d=e.isNumeric(c.width)?c.width:10;return" V "+a+" m -"+d/2+" 0 h "+d+" m -"+d/2+" 0 V "+b+" "}},makeBoxY:function(a,b,c){if(a&&void 0!==c)return" m 5 0 V "+a+" h -10 V "+b+" m 5 0 "},makeBarX:function(a,b,c){if(a&&void 0!==c){var d=e.isNumeric(c.width)?c.width:10;return" H "+a+" m 0 -"+d/2+" v "+d+" m 0 -"+d/2+" H "+b+" "}},makeBoxX:function(a,b,c){if(a&&void 0!==c)return" v 5 H "+a+" v -10 H "+b+" v 5 "},setErrorBarStyle:function(a){return this.errorbarStyle=this._setErrorStyle(a),this},setErrorBoxStyle:function(a){return this.errorboxStyle=this._setErrorStyle(a),this},_setErrorStyle:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=[],d=[["y","top","bottom"],["x","left","right"]],f=function(b){b.dom=document.createElementNS(a.graph.ns,"path"),b.dom.setAttribute("fill",b.fillColor||"none"),b.dom.setAttribute("stroke",b.strokeColor||"black"),b.dom.setAttribute("stroke-opacity",b.strokeOpacity||1),b.dom.setAttribute("fill-opacity",b.fillOpacity||1),b.dom.setAttribute("stroke-width",b.strokeWidth||1),a.groupMain.appendChild(b.dom)},c={};"string"==typeof b&&(b={});for(var g=0,h=d.length;g<h;g++){b.all&&(b[d[g][1]]=e.extend(!0,{},b.all),b[d[g][2]]=e.extend(!0,{},b.all)),b[d[g][0]]&&(b[d[g][1]]=e.extend(!0,{},b[d[g][0]]),b[d[g][2]]=e.extend(!0,{},b[d[g][0]]));for(var i=1;i<=2;i++)b[d[g][i]]&&(c[d[g][i]]=b[d[g][i]],f(c[d[g][i]]))}return c},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(a,b,c,d,e){var f=void 0;(f=this.waveform.getErrorBarXBelow(a))&&(this.errorbarStyle.paths.left+=" M "+d+" "+e,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(b-f),d,this.errorbarStyle.left)),(f=this.waveform.getErrorBarXAbove(a))&&(this.errorbarStyle.paths.right+=" M "+d+" "+e,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(b+f),d,this.errorbarStyle.right)),(f=this.waveform.getErrorBarYBelow(a))&&(this.errorbarStyle.paths.bottom+=" M "+d+" "+e,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(c-f),e,this.errorbarStyle.bottom)),(f=this.waveform.getErrorBarYAbove(a))&&(this.errorbarStyle.paths.top+=" M "+d+" "+e,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(c+f),e,this.errorbarStyle.top)),(f=this.waveform.getErrorBoxXBelow(a))&&(this.errorboxStyle.paths.left+=" M "+d+" "+e,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(b-f),d,this.errorboxStyle.left)),(f=this.waveform.getErrorBoxXAbove(a))&&(this.errorboxStyle.paths.right+=" M "+d+" "+e,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(b+f),d,this.errorboxStyle.right)),(f=this.waveform.getErrorBoxYBelow(a))&&(this.errorboxStyle.paths.bottom+=" M "+d+" "+e,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(c-f),e,this.errorboxStyle.bottom)),(f=this.waveform.getErrorBoxYAbove(a))&&(this.errorboxStyle.paths.top+=" M "+d+" "+e,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(c+f),e,this.errorboxStyle.top))},errorAddPointBarChart:function(a,b,c,d){var e;this.error&&(e=this.error[a])&&this.doErrorDraw("y",e,b,d,c,d)},errorDraw:function(){if(this.errorbarStyle)for(var a in this.errorbarStyle.paths)this.errorbarStyle[a]&&this.errorbarStyle[a].dom&&this.errorbarStyle[a].dom.setAttribute("d",this.errorbarStyle.paths[a]);if(this.errorboxStyle)for(var a in this.errorboxStyle.paths)this.errorboxStyle[a]&&this.errorboxStyle[a].dom&&this.errorboxStyle[a].dom.setAttribute("d",this.errorboxStyle.paths[a])}};b.default=f,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(312),c(303),c(316),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f,g){"use strict";function h(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var m=(i(c),i(d)),n=(i(e),i(f)),o=h(g),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=function(a){function b(a,c,d){return j(this,b),k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,a),p(b,null,[{key:"defaults",value:function(){return{zpos:0}}}]),p(b,[{key:"setZPos",value:function(a){return this.options.zpos=a,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),b}(m.default);o.mix(q,n.default),b.default=q,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b){"use strict";function c(a,b,c){var d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=a.getWaveforms(),j=!0,k=!1,l=void 0;try{for(var m,n=i[Symbol.iterator]();!(j=(m=n.next()).done);j=!0){var o=m.value;for(d=0,e=o.getLength(),f=o.getData();d<e;d+=1)g=b?a.getXAxis().getVal(a.getX(o.getX(d,!0))):a.getYAxis().getVal(a.getY(f[d])),h=0==d?g:c?Math.min(h,g):Math.max(h,g)}}catch(a){k=!0,l=a}finally{try{!j&&n.return&&n.return()}finally{if(k)throw l}}return h}Object.defineProperty(b,"__esModule",{value:!0});var d={getX:function(a){return(a=this.getXAxis().getPx(a))-a%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(a){return(a=this.getYAxis().getPx(a))-a%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(a){return a?c(this,!0,!0):this.minX},getMaxX:function(a){return a?c(this,!0,!1):this.maxX},getMinY:function(a){return a?c(this,!1,!0):this.minY},getMaxY:function(a){return a?c(this,!1,!1):this.maxY}};b.default=d,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(312),c(314)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=(g(c),f(d)),l=(f(e),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),m=function(a){function b(a,c,d){h(this,b);var e=i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.groupMain=document.createElementNS(e.graph.ns,"g"),e.pathDom=document.createElementNS(e.graph.ns,"path"),e.groupMain.appendChild(e.pathDom),e.styles={},e.styles.unselected={lineColor:e.options.lineColor,lineStyle:e.options.lineStyle,lineWidth:e.options.lineWidth,fillColor:e.options.fillColor,fillOpacity:e.options.fillOpacity,markers:e.options.markers},e}return j(b,a),l(b,[{key:"setData",value:function(a){this.data=a,this.minY=Number.MAX_SAFE_INTEGER,this.maxY=Number.MIN_SAFE_INTEGER;for(var b in this.data)this._checkY(this.data[b]);return this}},{key:"setFillColor",value:function(a,b,c){return b=b||"unselected",this.styles[b]=this.styles[b]||{},this.styles[b].fillColor=a,c&&this.setFillColor(a,"selected"),this.styleHasChanged(b),this}},{key:"getFillColor",value:function(a){return this.getStyle(a).fillColor}},{key:"setFillOpacity",value:function(a,b,c){return b=b||"unselected",this.styles[b]=this.styles[b]||{},this.styles[b].fillOpacity=a,c&&this.setLineWidth(a,"selected"),this.styleHasChanged(b),this}},{key:"getFillOpacity",value:function(a){return this.getStyle(a).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(a){a.setAttribute("stroke",this.getLineColor()),a.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?a.setAttribute("stroke-dasharray",this.getLineDashArray()):a.removeAttribute("stroke-dasharray"),a.setAttribute("fill",this.getFillColor()),a.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var a="";this.error&&this.errorDrawInit();for(var b in this.data)this.categoryIndices[b]&&(a+="M "+this.getXAxis().getPos(this.categoryIndices[b])+" "+this.getYAxis().getPos(0)+" V "+this.getYAxis().getPos(this.data[b])+" h "+this.getXAxis().getDeltaPx(1/this.nbCategories)+" V "+this.getYAxis().getPos(0),this.error&&this.errorAddPointBarChart(b,this.data[b],this.getXAxis().getPos(this.categoryIndices[b]+.5/this.nbCategories),this.getYAxis().getPos(this.data[b])));this.error&&this.errorDraw(),this.pathDom.setAttribute("d",a),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return Object.keys(this.data)}}]),b}(k.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(313),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=e(c),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a,c,d){f(this,b);var e=g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.groupMain=document.createElementNS(e.graph.ns,"g"),e.pathDom=document.createElementNS(e.graph.ns,"path"),e.groupMain.appendChild(e.pathDom),e.styles={},e.styles.unselected=e.options.defaultStyle,e}return h(b,a),j(b,null,[{key:"default",value:function(){return{orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}}}}]),j(b,[{key:"setData",value:function(a,b){if(this.data=a,Array.isArray(a)){var c=void 0,e=void 0,f=void 0,g=void 0,h=void 0;"y"==this.options.orientation?(c=this.getXAxis(),e=this.getYAxis(),f=this._checkX.bind(this),g=this._checkY.bind(this),h=!0,this.minY=a[0].Q2,this.maxY=a[0].Q2,this.maxX=a[0].x,this.minX=a[0].x):(c=this.getYAxis(),e=this.getXAxis(),f=this._checkY.bind(this),g=this._checkX.bind(this),h=!1,this.minX=a[0].Q2,this.maxX=a[0].Q2,this.maxY=a[0].y,this.minY=a[0].y),b&&(f=function(){},g=function(){}),c&&e||(0,d.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand");for(var i in this.data)h?(f(this.data[i].x),this.data[i].pos=this.data[i].x):(f(this.data[i].y),this.data[i].pos=this.data[i].y),this.data[i].Q3&&g(this.data[i].Q3),this.data[i].Q1&&g(this.data[i].Q1),this.data[i].whiskers?Array.isArray(this.data[i].whiskers)?(this.data[i].whiskers.length>0&&g(this.data[i].whiskers[0]),this.data[i].whiskers.length>1&&g(this.data[i].whiskers[1])):(g(this.data[i].whiskers),this.data[i].whiskers=[this.data[i].whiskers]):this.data[i].whiskers=[],Array.isArray(this.data[i].outliers)?this.data[i].outliers.map(function(a){return g(a)}):this.data[i].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.styles[c]=this.styles[c]||{},this.styles[c][a]=b,d&&this._set(a,b,"selected"),this.styleHasChanged(c),this}},{key:"_gstyle",value:function(a,b){return this.getStyle(b)[a]}},{key:"getStyle",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[a]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[b]=(0,d.extend)({},defaults.defaultStyle,this.styles.unselected,a),this.styleHasChanged(b)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(a){a.setAttribute("stroke",this.getLineColor()),a.setAttribute("stroke-width",this.getLineWidth()),a.removeAttribute("stroke-dasharray"),a.setAttribute("fill",this.getFillColor()),a.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var a=this;if(this.data){var b=void 0,c="y"==this.options.orientation?this.getYAxis():this.getXAxis(),e="y"==this.options.orientation?this.getXAxis():this.getYAxis(),f=void 0,g=!1,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0;if((0,d.emptyDom)(this.groupMain),"category"==e.getType())f=e.getRelPx(.8/this.nbCategories),g=!0;else{f=this.options.maxBoxWidth;for(var n=0,o=this.data.length;n<o-1;n++)f=Math.min(f,Math.abs(e.getPx(this.data[n+1].pos)-e.getPx(this.data[n].pos)))}for(var n=0,o=this.data.length;n<o;n++){if("category"==e.getType()){var p="y"==this.options.orientation?this.data[n].x:this.data[n].y;if(this.categoryIndices.hasOwnProperty(p))b=[e.getPos(this.categoryIndices[p])+1.2*f/2];else if(Array.isArray(this._linkedToScatterSeries)){var q=!0,r=!1,s=void 0;try{for(var t,u=this._linkedToScatterSeries[Symbol.iterator]();!(q=(t=u.next()).done);q=!0){var v=t.value;if(v.categoryIndices.hasOwnProperty(p)){b=[e.getPos(v.categoryIndices[p])+1.2*f/2],c="y"==this.options.orientation?v.getYAxis():v.getXAxis();break}}}catch(a){r=!0,s=a}finally{try{!q&&u.return&&u.return()}finally{if(r)throw s}}}}else b=[e.getPos("y"==this.options.orientation?this.data[n].x:this.data[n].y),f];h=c.getPos(this.data[n].Q2),i=c.getPos(this.data[n].Q3),j=c.getPos(this.data[n].Q1),this.data[n].whiskers.map(function(b){b<a.data[n].Q1?l=c.getPos(b):k=c.getPos(b)}),m=this.data[n].outliers.map(function(a){return c.getPos(a)});var w=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(w);var x=document.createElementNS(this.graph.ns,"rect"),y=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(x.setAttribute("width",f),x.setAttribute("x",b[0]-f/2),y.setAttribute("width",f),y.setAttribute("x",b[0]-f/2),w.setAttribute("x1",b[0]-f/2),w.setAttribute("x2",b[0]+f/2),w.setAttribute("y1",h),w.setAttribute("y2",h)):(x.setAttribute("height",f),x.setAttribute("y",b[0]-f/2),y.setAttribute("height",f),y.setAttribute("y",b[0]-f/2),w.setAttribute("y1",b[0]-f/2),w.setAttribute("y2",b[0]+f/2),w.setAttribute("x1",h),w.setAttribute("x2",h)),this.boxPos(x,h,i,"x"==this.options.orientation),this.boxPos(y,h,j,"x"==this.options.orientation),this.applyBoxStyle(x,y);var z=document.createElementNS(this.graph.ns,"line"),A=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==k&&(z.setAttribute("y1",i),z.setAttribute("y2",k),z.setAttribute("x1",b[0]),z.setAttribute("x2",b[0])),void 0!==l&&(A.setAttribute("y1",j),A.setAttribute("y2",l),A.setAttribute("x1",b[0]),A.setAttribute("x2",b[0]))):(void 0!==k&&(z.setAttribute("x1",i),z.setAttribute("x2",k),z.setAttribute("y1",b[0]),z.setAttribute("y2",b[0])),void 0!==l&&(A.setAttribute("x1",j),A.setAttribute("x2",l),A.setAttribute("y1",b[0]),A.setAttribute("y2",b[0]))),m.map(function(c){var d=document.createElementNS(a.graph.ns,"circle");d.setAttribute("r",2),"y"==a.options.orientation?(d.setAttribute("cx",b[0]),d.setAttribute("cy",c)):(d.setAttribute("cy",b[0]),d.setAttribute("cx",c)),a.setOutlierStyle(d),a.groupMain.appendChild(d)}),void 0!==k&&this.groupMain.appendChild(z),void 0!==l&&this.groupMain.appendChild(A),void 0!==i&&this.groupMain.appendChild(x),void 0!==j&&this.groupMain.appendChild(y),this.groupMain.appendChild(w),this.applyWhiskerStyle(z,A)}}}},{key:"applyBoxStyle",value:function(a,b){a.setAttribute("stroke",this.getBoxAboveLineColor()),a.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&a.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&a.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),b.setAttribute("stroke",this.getBoxBelowLineColor()),b.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&b.setAttribute("fill",this.getBoxBelowFillColor()),
void 0!==this.getBoxAboveFillOpacity()&&b.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(a,b){a.setAttribute("stroke",this.getBarAboveLineColor()),a.setAttribute("stroke-width",this.getBarAboveLineWidth()),b.setAttribute("stroke",this.getBarBelowLineColor()),b.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(a){a.setAttribute("stroke",this.getMeanLineColor()),a.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(a){a.setAttribute("stroke",this.getOutlierLineColor()),a.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&a.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&a.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(a){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var b=0;b<this.categories.length;b++)if(this.categories[b].name==a)return b;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(a,b,c,d){b>c?(a.setAttribute(d?"x":"y",c),a.setAttribute(d?"width":"height",b-c)):(a.setAttribute(d?"x":"y",b),a.setAttribute(d?"width":"height",c-b))}},{key:"getUsedCategories",value:function(){var a="y"==this.options.orientation?"x":"y",b=this.data.map(function(b){return b[a]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(a){a.getUsedCategories().map(function(a){var c=void 0;(c=b.indexOf(a))>-1&&b.splice(c,1)})}),b}},{key:"linkToScatterSerie",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this._linkedToScatterSeries=b}}]),b}(i.default);b.default=k,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(312),c(301),c(314)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=g(c),l=(f(d),g(e),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),m=function(a){function b(a,c,d){h(this,b);var e=i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.lines=e.lines||{},e}return j(b,a),l(b,[{key:"setColors",value:function(a){this.colors=a}},{key:"_draw",value:function(){var a,b,c,d,e,f,g,h,i=this,j=(this._dataToUse,0),k=!1,l=!1,m=this.getXAxis(),n=this.getYAxis(),o=m.getCurrentMin(),p=n.getCurrentMin(),q=m.getCurrentMax(),r=n.getCurrentMax(),s=0,t=1,u=!1,v=!1;for(this.eraseLines(),this.isFlipped()&&(s=1,t=0),this.currentLine="",b=this.waveform.getLength(),a=0;a<b;a+=2)if(c=this.waveform.getX(a),d=this.waveform.getY(a),c<o&&k<o||c>q&&k>q||(d<p&&l<p||d>r&&l>r)&&!this.options.lineToZero)k=c,l=d,v=!0;else if(this.counter2=a,this.markersShown()&&this.getMarkerCurrentFamily(this.counter2),g=this.getX(c),h=this.getY(d),g!=e||h!=f)if(u=c<o||d<p||c>q||d>r,isNaN(g)||isNaN(h))this.counter>0;else{var w=this.colors[a];this._addPoint(g,h,c,d,e,f,k,l,a,w,!1,!0),e=g,f=h,k=c,l=d}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var x=this.groupLines.cloneNode(!0);this.groupMain.appendChild(x);for(var j=0,y=x.children.length;j<y;j++)x.children[j].setAttribute("stroke","transparent"),x.children[j].setAttribute("stroke-width","25px"),x.children[j].setAttribute("pointer-events","stroke");i._trackerDom=x,i.groupMain.addEventListener("mousemove",function(a){var b=i.graph._getXY(a),c=i.handleMouseMove(!1,!1);i._trackingCallback(i,c,b.x,b.y)}),i.groupMain.addEventListener("mouseleave",function(a){i._trackingOutCallback(i)})}return this}},{key:"_addPoint",value:function(a,b,c,d,e,f,g,h,i,j,k,l){if(void 0!==e&&void 0!==f&&!isNaN(a)&&!isNaN(b)){j._rgb&&(j="rgba("+j._rgb[0]+","+j._rgb[1]+","+j._rgb[2]+","+(j._rgb[3]||1)+")");var m=this.lines[j];m||(m=this.lines[j]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:j},m.object.setAttribute("stroke",j),m.color=j,this.groupLines.appendChild(m.object)),m.path+="M "+e+" "+f+" L "+a+" "+b,this.hasErrors()&&this.errorAddPoint(i,c,d,a,b)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var a in this.lines)this.lines[a].object.setAttribute("d",this.lines[a].path)}},{key:"eraseLines",value:function(){for(var a in this.lines)this.lines[a].path="",this.lines[a].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(a){a.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?a.setAttribute("stroke-dasharray",this.getLineDashArray()):a.removeAttribute("stroke-dasharray"),a.setAttribute("fill","none")}}]),b}(k.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(313),c(301),c(314)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=g(c),l=f(d),m=g(e),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),p="scatter",q=function(a){function b(a,c,d){h(this,b);var e=i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.id=Math.random()+Date.now(),e.shapes=[],e.shown=!0,e.data=[],e.shapesDetails=[],e.shapes=[],e._type=p,l.mapEventEmission(e.options,e),e._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},e.groupPoints=document.createElementNS(e.graph.ns,"g"),e.groupMain=document.createElementNS(e.graph.ns,"g"),e.additionalData={},e.selectedStyleGeneral={},e.selectedStyleModifiers={},e.groupPoints.addEventListener("mouseover",function(a){var b=parseInt(a.target.parentElement.getAttribute("data-shapeid"));e.emit("mouseover",b,e.waveform.getX(b),e.waveform.getY(b))}),e.groupPoints.addEventListener("mouseout",function(a){var b=parseInt(a.target.parentElement.getAttribute("data-shapeid"));e.emit("mouseout",b,e.waveform.getX(b),e.waveform.getY(b))}),e.minX=Number.MAX_VALUE,e.minY=Number.MAX_VALUE,e.maxX=Number.MIN_VALUE,e.maxY=Number.MIN_VALUE,e.groupMain.appendChild(e.groupPoints),e.currentAction=!1,e.initExtended1&&e.initExtended1(),e.styles={},e.styles.unselected={},e.styles.selected={},e.styles.unselected.default={shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"},e.styles.selected.default={shape:"circle",cx:0,cy:0,r:4,stroke:"transparent",fill:"black"},e}return j(b,a),o(b,[{key:"setDataCategory",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=a[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._checkY(g.y.getMaxY()),this._checkY(g.y.getMinY())}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return this.data=a,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupPoints.firstChild;)this.groupPoints.removeChild(this.groupPoints.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.symbol)return this.symbol;var a=document.createElementNS(this.graph.ns,"g");a.setAttribute("data-shapeid",-1);var b=this.doShape(a,this.styles.unselected.default),c=this.getStyle("unselected",-1,!0);for(var d in c[-1])"shape"!=d&&b.setAttribute(d,c[-1][d]);return a}},{key:"setStyle",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof b&&(c=b,b=!1),this.styles[c]=this.styles[c]||{},this.styles[c].all=a,this.styles[c].modifiers=b,this.styleHasChanged(c),this}},{key:"draw",value:function(a){if(a||this.hasDataChanged()||this.hasStyleChanged("unselected")){var b,c,d,e=0,f="category"==this.getXAxis().getType();this._drawn=!0,this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupPoints);var g=[];if(e=0,d=0,this.hasErrors()&&this.errorDrawInit(),f){for(var h=0;e<this.data.length;e++)if(this.categoryIndices.hasOwnProperty(this.data[e].x)){this.error;for(var i=0,j=this.data[e].y.getLength();i<j;i++)c=this.getY(this.data[e].y.getY(i)),b=this.getX(i/(j-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[e].x]+.1/this.nbCategories),i++,this.shapesDetails[h]=this.shapesDetails[h]||[],this.shapesDetails[h][0]=b,this.shapesDetails[h][1]=c,g.push(h),h++}}else for(;e<this.waveform.getLength();e++)this.waveform.getX(e)<this.getXAxis().getCurrentMin()||this.waveform.getX(e)>this.getXAxis().getCurrentMax()||this.waveform.getY(e)<this.getYAxis().getCurrentMin()||this.waveform.getY(e)>this.getYAxis().getCurrentMax()?this.shapes[e]&&this.shapes[e].setAttribute("display","none"):(this.shapes[e]&&this.shapes[e].setAttribute("display","initial"),b=this.getX(this.waveform.getX(e)),c=this.getY(this.waveform.getY(e)),this.hasErrors()&&this.errorAddPoint(e,this.waveform.getX(e),this.waveform.getY(e),b,c),this.shapesDetails[e]=this.shapesDetails[e]||[],this.shapesDetails[e][0]=b,this.shapesDetails[e][1]=c,g.push(e));this.hasErrors()&&this.errorDraw(),this.applyStyle("unselected",g),this.groupMain.appendChild(this.groupPoints)}}},{key:"_addPoint",value:function(a,b,c){var d=document.createElementNS(this.graph.ns,"g");d.setAttribute("transform","translate("+a+", "+b+")"),d.setAttribute("data-shapeid",c),this.extraStyle&&this.extraStyle[c]?shape=this.doShape(d,this.extraStyle[c]):this.stdStylePerso?shape=this.doShape(d,this.stdStylePerso):shape=this.doShape(d,this.stdStyle),this.shapes[c]=shape,this.groupPoints.appendChild(d)}},{key:"doShape",value:function(a,b){var c=document.createElementNS(this.graph.ns,b.shape);return a.appendChild(c),c}},{key:"getStyle",value:function(a,b,c){var d,a=a||"unselected",e={};"number"==typeof b?d=[b]:Array.isArray(b)&&(d=b);var f,b,g,h,i;void 0!==this.styles[a].all&&(i=this.styles[a].all,"function"==typeof i?i=i():i===!1&&(i={}));for(var j=0,k=d.length;j<k;j++){if(b=d[j],f=this.shapes[b],(g=this.styles[a].modifiers)&&("function"==typeof g||g[b])?("function"==typeof g?h=g(b,f):g[b]&&(h=g[b]),e[b]=Object.assign({},i,h)):void 0!==i?e[b]=i:e[b]=this.styles[a].default,e[b]||(e[b]=i),!f){if(!e[b].shape)throw console.error(h),"No shape was defined with this style.";var l=document.createElementNS(this.graph.ns,"g");l.setAttribute("data-shapeid",b),this.shapes[b]=this.doShape(l,e[b]),this.groupPoints.appendChild(l),f=this.shapes[b]}c||f.parentNode.setAttribute("transform","translate("+this.shapesDetails[b][0]+", "+this.shapesDetails[b][1]+")")}return e}},{key:"applyStyle",value:function(a,b,c){var d,e,f=this.getStyle(a,b,c);for(d in f)for(e in f[d])"shape"!==e&&(f[d][e]?this.shapes[d].setAttribute(e,f[d][e]):this.shapes[d].removeAttribute(e))}},{key:"unselectPoint",value:function(a){this.selectPoint(a,!1)}},{key:"selectPoint",value:function(a,b,c){if(!this.shapesDetails[a][2]||this.shapesDetails[a][2]!=c){if("string"==typeof b&&(c=b,b=void 0),Array.isArray(a))return this.selectPoints(a);if(this.shapes[a]&&this.shapesDetails[a])if(!this.shapesDetails[a][2]&&b!==!1||b===!0)c=c||"selected",this.shapesDetails[a][2]=c,this.applyStyle(c,a,!0);else{var d=this.shapesDetails[a][2];this.shapesDetails[a][2]=!1;var e=this.getStyle(d,a,!0);for(var f in e[a])this.shapes[a].removeAttribute(f);this.applyStyle("unselected",a,!0)}}}},{key:"getUsedCategories",value:function(){return"object"==n(this.data[0])?this.data.map(function(a){return a.x}):[]}}]),b}(k.default);l.mix(q,m.default),b.default=q,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(313),c(303),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=f(d),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function(a){function b(a,c,d){g(this,b);var f=h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return f.selectionType="unselected",f.id=(0,e.guid)(),f.groupZones=document.createElementNS(f.graph.ns,"g"),f.groupMain=document.createElementNS(f.graph.ns,"g"),f.lineZone=document.createElementNS(f.graph.ns,"path"),f.lineZone.setAttribute("stroke","black"),f.lineZone.setAttribute("stroke-width","1px"),f.groupMain.appendChild(f.groupZones),f.groupZones.appendChild(f.lineZone),f.applyLineStyle(f.lineZone),f.styleHasChanged(),f.clip=document.createElementNS(f.graph.ns,"clipPath"),f.clipId=(0,e.guid)(),f.clip.setAttribute("id",f.clipId),f.graph.defs.appendChild(f.clip),f}return i(b,a),l(b,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),l(b,[{key:"setWaveform",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return this.waveforms=c,this.waveforms=this.waveforms.map(function(a){return a instanceof k.default?a:new k.default(a)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(b){a.minX=Math.min(b.getXMin(),a.minX),a.maxX=Math.max(b.getXMin(),a.maxX),a.minY=Math.min(b.getMin(),a.minY),a.maxY=Math.max(b.getMax(),a.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(a,b){return this.waveforms=[a,b.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(a){if(a||this.hasDataChanged()){if(!this.waveforms)return;var b=0,c=0,d=0,e=0,f=0,g="",h=void 0,i=!1,j=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),k=this.getXAxis().getCurrentMax(),l=this.getYAxis().getCurrentMin(),m=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var n=!0,o=!1,p=void 0;try{for(var q,r=this.waveforms[Symbol.iterator]();!(n=(q=r.next()).done);n=!0){var s=q.value;for(f=0;f<s.getLength();f+=1)if(b=s.getX(f,!0),c=s.getY(f,!0),c[f]<l?e=this.getY(l):c[f]>m&&(e=this.getY(m)),b===b)if(c===c)e=this.getY(c),d=this.getX(b),b<j||b>k?h=[b,c[f],d,e]:(i&&(g+=" M "+d+", "+this.getY(s.getMinY())+" ",i=!1),g.length>0&&(g+=" L "),h?(g+=h[2]+","+h[3]+" ",h=!1):g+=d+","+e+" ");else{if(0==g.length)continue;g+="L "+d+", "+this.getY(s.getMinY()),i=!0}}}catch(a){o=!0,p=a}finally{try{!n&&r.return&&r.return()}finally{if(o)throw p}}""!==g?this.lineZone.setAttribute("d","M "+g+" z"):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(a){a.setAttribute("stroke",this.getLineColor()),a.setAttribute("stroke-width",this.getLineWidth()),a.setAttribute("fill",this.getFillColor()),a.setAttribute("fill-opacity",this.getFillOpacity()),a.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(a){return this.options.lineWidth=a,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(a){return this.options.lineOpacity=a,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(a){return this.options.lineColor=a,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(a){return this.options.fillOpacity=a,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(a){return this.options.fillColor=a,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),b}(j.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(321),c(303),c(316),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f,g){"use strict";function h(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var m=(i(c),i(d)),n=(i(e),i(f)),o=h(g),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=function(a){function b(a,c,d){return j(this,b),k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,a),p(b,null,[{key:"default",value:function(){return{zpos:0}}}]),p(b,[{key:"setZPos",value:function(a){return this.options.zpos=a,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),b}(m.default);o.mix(q,n.default),b.default=q,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(313),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function(a){function b(a,c,d){g(this,b);var e=h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return k.mapEventEmission(e.options,e),e.groupMain=document.createElementNS(e.graph.ns,"g"),e.rects=[],e.paths=[],e.recalculateBinsOnDraw=!1,e}return i(b,a),l(b,[{key:"setData",value:function(a){this.minX=this.maxX=this.minY=this.maxY=0;var b=0,c=a.length;for(this.data=a,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,b=0;b<c;b++)this._checkX(a[b][0]),this._checkY(a[b][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(a,b,c,d,e,f){var g,h,i,j=[],k=this.data.length,l=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;for(g=0;g<k;g++)h=~~((this.data[g][0]-a)/b),i=~~((this.data[g][1]-d)/e),h>c||i>f||h<0||i<0||(j[h]=j[h]||[],j[h][i]=j[h][i]+1||1,l=j[h][i]<l?j[h][i]:l,m=j[h][i]>m?j[h][i]:m);return this.maxIndexX=c,this.maxIndexY=f,this.binMin=l,this.binMax=m,this.deltaX=b,this.deltaY=e,this.fromX=a,this.fromY=d,this.numX=c,this.numY=f,this.densitymap=j,j}},{key:"calculateDensityWeighted",value:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=[],s=this.data.length,t=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(g=0;g<s;g++)l=(this.data[g][0]-a)/b-.5,m=(this.data[g][1]-d)/e-.5,h=Math.floor(l),i=Math.floor(m),n=h,p=i,o=h+1,q=i+1,j=1-(l-h),k=1-(m-i),h>c||i>f||h<0||i<0||(r[n]=r[n]||[],r[o]=r[o]||[],r[n][p]=r[n][p]||0,r[o][p]=r[o][p]||0,r[n][q]=r[n][q]||0,r[o][q]=r[o][q]||0,r[n][p]+=j*k,r[o][p]+=(1-j)*k,r[n][q]+=j*(1-k),r[o][q]+=(1-j)*(1-k),t=r[n][p]<t?r[n][p]:t,u=r[n][p]>u?r[n][p]:u,t=r[o][p]<t?r[o][p]:t,u=r[o][p]>u?r[o][p]:u,t=r[n][q]<t?r[n][q]:t,u=r[n][q]>u?r[n][q]:u,t=r[o][q]<t?r[o][q]:t,u=r[o][q]>u?r[o][q]:u);return this.maxIndexX=c,this.maxIndexY=f,this.binMin=t,this.binMax=u,this.deltaX=b,this.deltaY=e,this.fromX=a,this.fromY=d,this.numX=c,this.numY=f,this.densitymap=r,r}},{key:"autoBins",value:function(a,b){return this.numX=a||400,this.numY=b||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/a,a,this.minY,(this.maxY-this.minY)/b,b),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(a,b,c){return a&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:a,weighted:c}),b&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:b,weighted:c}),this}},{key:"setBinsFromTo",value:function(a,b,c,d){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[a]={from:b,to:c,numBins:d},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(a,b){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},a&&(this.densityMapCalculation.x=a),b&&(this.densityMapCalculation.y=b)}},{key:"calculateDensityAdvanced",value:function(){var a={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},b={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},c={x:this.getXAxis,y:this.getYAxis},d=!1;for(var e in this.densityMapCalculation)if(this.densityMapCalculation[e].weighted&&(d=!0,a[e].weighing=!0),this.densityMapCalculation[e].pxPerBin){var f="min"==this.densityMapCalculation[e].from?c[e].call(this).getCurrentMin():this.densityMapCalculation[e].from,g="max"==this.densityMapCalculation[e].to?c[e].call(this).getCurrentMax():this.densityMapCalculation[e].to,h=Math.abs(c[e].call(this).getRelPx(g-f));a[e].num=Math.ceil(b[e]/this.densityMapCalculation[e].pxPerBin),a[e].from=f-Math.abs(c[e].call(this).getRelVal((a[e].num*this.densityMapCalculation[e].pxPerBin-h)/2)),a[e].delta=Math.abs(c[e].call(this).getRelVal(this.densityMapCalculation[e].pxPerBin))}else a[e].num=this.densityMapCalculation[e].numBins||400,a[e].from="min"==this.densityMapCalculation[e].from?c[e].call(this).getCurrentMin():this.densityMapCalculation[e].from,a[e].delta=this.densityMapCalculation[e].to?(("max"==this.densityMapCalculation[e].to?c[e].call(this).getCurrentMax():this.densityMapCalculation[e].to)-a[e].from)/a[e].num:this.densityMapCalculate[e].delta;(d?this.calculateDensityWeighted:this.calculateDensity).call(this,a.x.from,a.x.delta,a.x.num,a.y.from,a.y.delta,a.y.num)}},{key:"setColorMapBinBoundaries",value:function(a,b){return this.colorMapMin=a,this.colorMapMax=b,this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(a){return this.callbackColorMapMinMax=a,this}},{key:"colorMapHSL",value:function(a,b,c){c=c||"linear";for(var d,e,f={exp:function(a){return(Math.exp(a/b*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(a){return(Math.log(a+1)-Math.log(1))/(Math.log(b+1)-Math.log(1))},linear:function(a){return(a-0)/(b-0)}},g=0,h=[],i=[],j={h:null,s:null,l:null,a:null},k=a.length-1,l=0;l<=b;l++){d=f[c](l),e=Math.floor(d*k),e==a.length-1&&(e=k-1),d=(d-e/k)/(1/k);for(var m in j)j[m]=(a[e+1][m]-a[e][m])*d+a[e][m];h[g]="hsl("+j.h+", "+Math.round(100*j.s)+"%, "+Math.round(100*j.l)+"%)",i[g]=j.a,g++}return this.opacities=i,this.colorMap=h,this.colorMapNum=b,this}},{key:"autoColorMapHSL",value:function(a,b){return this.colorMapHSV(a,100,b||"linear"),this}},{key:"getColorIndex",value:function(a){return Math.max(0,Math.min(this.colorMapNum,Math.floor((a-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var a;if(this.method&&this.method(),this.callbackColorMapMinMax&&void 0!=this.colorMapMin&&void 0!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){var b=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(b[0],b[1])}else this.autoColorMapBinBoundaries();for(var c=this.getXAxis().getRelPx(this.deltaX),d=this.getYAxis().getRelPx(this.deltaY),e=0;e<this.paths.length;e++)this.paths[e]="";for(var e=0;e<this.maxIndexX;e++)for(var f=0;f<this.maxIndexY;f++)void 0!=this.densitymap[e]&&void 0!=this.densitymap[e][f]&&(a=this.getColorIndex(this.densitymap[e][f]),this.paths[a]||(this.paths[a]=""),this.paths[a]+=" M "+this.getXAxis().getPx(e*this.deltaX+this.fromX)+" "+this.getYAxis().getPx(f*this.deltaY+this.fromY)+" h "+c+" v "+d+" h -"+c+" z");this.drawRects()}},{key:"drawRects",value:function(){for(var a=0;a<this.paths.length;a++)this.rects[a]||(this.rects[a]=document.createElementNS(this.graph.ns,"path"),this.rects[a].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[a]&&(this.rects[a].setAttribute("d",this.paths[a]),this.rects[a].setAttribute("fill",this.colorMap[a]),this.rects[a].setAttribute("fill-opacity",this.opacities[a])),this.groupMain.appendChild(this.rects[a])}},{key:"setOptions",value:function(a){return this.options=k.extend(!0,{},defaults,a||{}),this}}]),b}(j.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(312),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=function(a){function b(a,c,d){g(this,b);var e=h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.negativeDelta=0,e.positiveDelta=0,e.negativeThreshold=0,e.positiveThreshold=0,e.groupMain.setAttribute("clip-path","url(#_clipplot"+a._creation+")"),e}return i(b,a),m(b,[{key:"setData",value:function(a,b,c){var d,e,f,g,c=c||"float",h=a.length,i=[];for(a instanceof Array||"object"==("undefined"==typeof a?"undefined":l(a))&&(this.minX=a.minX,this.minY=a.minY,this.maxX=a.maxX,this.maxY=a.maxY,a=a.segments,h=a.length),d=0;d<h;d++){for(f=a[d].lines.length,g=this._addData(c,f),e=0;e<f;e+=2)g[e]=a[d].lines[e],this._checkX(g[e]),g[e+1]=a[d].lines[e+1],this._checkY(g[e+1]);i.push({lines:g,zValue:a[d].zValue})}return this.data=i,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(a){if(a||this.hasDataChanged()){this.currentLine=0;var b,c,d,e,f,g,h,i,j=0,k=this.data.length,l=0;this.minZ=1/0,this.maxZ=-(1/0);var m=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var n=0,o=1;this.getFlip()&&(n=0,o=1);var p=this.getYAxis().getCurrentMin(),q=this.getXAxis().getCurrentMin(),r=this.getXAxis().getCurrentMax(),s=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;j<k;j++){for(this.currentLine="",l=0,f=0,i=this.data[j].lines,g=i.length;l<g;l+=4){var t,u;i[l+n]<q&&i[l+2+n]<q||i[l+o]<p&&i[l+2+o]<p||i[l+o]>s&&i[l+2+o]>s||i[l+n]>r&&i[l+2+n]>r||(d=this.getX(i[l+n]),e=this.getY(i[l+o]),b=this.getX(i[l+2+n]),c=this.getY(i[l+2+o]),b==d&&c==e||(this.currentLine+="M ",this.currentLine+=d,this.currentLine+=" ",this.currentLine+=e,this.currentLine+="L ",this.currentLine+=b,this.currentLine+=" ",this.currentLine+=c,this.counter++,t=b,u=c,f++))}this.currentLine+=" z",h=this._createLine(),h.setAttribute("data-zvalue",this.data[j].zValue),this.zValues[this.data[j].zValue]={dom:h},this.minZ=Math.min(this.minZ,this.data[j].zValue),this.maxZ=Math.max(this.maxZ,this.data[j].zValue);
}for(j++,j=this.currentLine+1;j<this.lines.length;j++)this.groupLines.removeChild(this.lines[j]),this.lines.splice(j,1);for(j=0;j<k;j++)this.setColorTo(this.lines[j],this.data[j].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,m)}else if(this.hasStyleChanged(this.selectionType))for(;j<k;j++)this.setColorTo(this.lines[j],this.data[j].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(a,b,c,d){a/=250,void 0!==c?(d||(this.negativeThreshold=-c*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),d&&(this.positiveThreshold=c*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):b.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,a)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,a)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0);for(var e in this.zValues)this.zValues[e].dom.setAttribute("display",e>=0&&e>=this.positiveThreshold||e<=0&&e<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"setDynamicColor",value:function(a){this.lineColors=a,this.styleHasChanged()}},{key:"setNegative",value:function(a){this.options.hasNegative=a,a&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(a,b,c,d){if(this.lineColors){var e={h:0,s:0,l:0};for(var f in e)b>0?e[f]=this.lineColors.fromPositive[f]+(this.lineColors.toPositive[f]-this.lineColors.fromPositive[f])*(b/d):e[f]=this.lineColors.fromNegative[f]+(this.lineColors.toNegative[f]-this.lineColors.fromNegative[f])*(b/c);e.h/=360;var g=k.hslToRgb(e.h,e.s,e.l);a.setAttribute("stroke","rgb("+g.join()+")")}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var a=document.createElementNS(this.graph.ns,"ellipse");a.setAttribute("cx",7),a.setAttribute("cy",0),a.setAttribute("rx",8),a.setAttribute("ry",3),a.setAttribute("cursor","pointer"),this.lineForLegend=a}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(a,b){a.setAttribute("stroke",this.getLineColor()),a.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&a.setAttribute("stroke-dasharray",this.getLineDashArray()),a.setAttribute("fill","none"),this.setColorTo(a,void 0!==b?b:a.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(a){this._shapeZoom=a}}]),b}(j.default);b.default=n,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(300),c(301),c(302)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=g(c),l=f(d),m=g(e),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(a){function b(){return h(this,b),i(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return j(b,a),n(b,[{key:"init",value:function(a,b){var c=this;if(this.graph=a,this.properties=b||{},this.handles=[],this.options=this.options||{},this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot"+a._creation+")"),this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),this.group.jsGraphIsShape=this,this.classes=[],this.transforms=[],this._data.masker){var d=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),d.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),d.appendChild(this.maskDomWrapper);var e=this._dom.cloneNode();d.appendChild(e),this.maskDom=e,this.graph.defs.appendChild(d)}return this.group&&(this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),this.group.addEventListener("mouseover",function(a){c.handleMouseOver(a)}),this.group.addEventListener("mouseout",function(a){c.handleMouseOut(a)}),this.group.addEventListener("mousedown",function(a){c.graph.focus(),c.handleMouseDown(a)}),this.group.addEventListener("click",function(a){c.handleClick(a)}),this.group.addEventListener("dblclick",function(a){c.handleDblClick(a)})),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(a){this._inDom&&this.graph.removeShapeFromDom(this),a||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden?this:(this.hidden=!0,this.isHTML()?this._dom.style.display="none":this.group.style.display="none",this)}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden?(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw(),this):this}},{key:"addClass",value:function(a){return this.classes=this.classes||[],this.classes.indexOf(a)==-1&&this.classes.push(a),this.makeClasses(),this}},{key:"removeClass",value:function(a){return this.classes.splice(this.classes.indexOf(a),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(a,b){return a&&(this.graph.emit(a,this,b),this.emit(a,this,b)),this.emit("changed",this,b),this.graph.emit("shapeChanged",this,b),this}},{key:"setEventReceptacle",value:function(){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var a=this.group.getBBox();this.rectEvent.setAttribute("x",a.x),this.rectEvent.setAttribute("y",a.y-10),this.rectEvent.setAttribute("width",a.width),this.rectEvent.setAttribute("height",a.height+20)}},{key:"setSerie",value:function(a){if(a){if(this.serie=a,!a.getXAxis||!a.getYAxis)throw console.error(a),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=a.getXAxis(),this.yAxis=a.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(a){return this.xAxis=a,this}},{key:"setYAxis",value:function(a){this.yAxis=a}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(a){return this.setProp("layer",a),this}},{key:"getLayer",value:function(){var a=this.getProp("layer");return void 0!==a?a:1}},{key:"draw",value:function(a,b){return this._inDom&&!a||(this.appendToDom(),this._inDom=!0),this.makeLabels(),b||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms(),this):this)}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(a){this.properties=a,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var b=this,c=0,d=this.properties.position.length;c<d;c++){var e=k.default.check(this.properties.position[c],function(a){return b.getRelativePosition(a)});this.properties.position[c]=e}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(a){var b;return null!==(b=/position([0-9]*)/.exec(a))?this.getPosition(b[1]):null!==(b=/labelPosition([0-9]*)/.exec(a))?this.getLabelPosition(b[1]):void 0}},{key:"getProperties",value:function(a){return this.properties}},{key:"setProp",value:function(a,b,c){return this.properties=this.properties||{},this.properties[a]=this.properties[a]||[],this.properties[a][c||0]=b,this.emit("propertyChanged",a),this}},{key:"getProp",value:function(a,b){return(this.properties[a]||[])[b||0]}},{key:"getProps",value:function(a,b){return this.properties[a]||[]}},{key:"addProp",value:function(a,b){this.properties[a]=this.properties[a]||[],this.properties[a].push(b)}},{key:"resetProp",value:function(a){this.properties[a]=[]}},{key:"setDom",value:function(a,b,c){this._dom&&(c&&l.hasSavedAttribute(this._dom,a)||this._dom.setAttribute(a,b))}},{key:"setDomGroup",value:function(a,b){this.group&&this.group.setAttribute(a,b)}},{key:"setStrokeColor",value:function(a){return this.setProp("strokeColor",a),this.overwriteSavedProp("stroke",a),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(a){return this.setProp("fillColor",a),this.overwriteSavedProp("fill",a),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(a){return this.setProp("fillOpacity",a),this.overwriteSavedProp("fill-opacity",a),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(a){return this.setProp("strokeWidth",a),this.overwriteSavedProp("stroke-width",a),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(a){return this.setProp("strokeDasharray",a),this.overwriteSavedProp("stroke-dasharray",a),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(a){return this.setProp("attributes",a),this}},{key:"overwriteSavedProp",value:function(a,b){l.overwriteDomAttribute(this._dom,a,b)}},{key:"addAttribute",value:function(a,b){var c={};return c[a]=b,this.addProp("attributes",c),this}},{key:"addTransform",value:function(a,b){return this.addProp("transforms",{type:a,arguments:Array.isArray(b)?b:[b]}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(a,b){return this.setProp("labelText",a,b||0),this}},{key:"setLabelData",value:function(a,b){return this.setProp("labelData",text,b||0),this}},{key:"getLabelText",value:function(a,b){return this.getProp("labelText",b||0)}},{key:"displayLabel",value:function(a){return this.setProp("labelVisible",!0,a||0),this}},{key:"hideLabel",value:function(a){return this.setProp("labelVisible",!1,a||0),this}},{key:"setLabelColor",value:function(a,b){return this.setProp("labelColor",a,b||0),this}},{key:"setLabelFontSize",value:function(a,b){return this.setProp("labelFontSize",a,b||0),this}},{key:"getLabelPosition",value:function(a){return this.getProp("labelPosition",a||0)}},{key:"setLabelPosition",value:function(a,b){var c,d=k.default.check(a,function(a){return c.getRelativePosition(a)});return this.setProp("labelPosition",d,b||0),this}},{key:"setLabelAngle",value:function(a,b){return this.setProp("labelAngle",a,b||0),this}},{key:"setLabelBaseline",value:function(a,b){return this.setProp("labelBaseline",a,b||0),this}},{key:"setLabelAnchor",value:function(a,b){return this.setProp("labelAnchor",a,b||0),this}},{key:"setLabelSize",value:function(a,b){return this.setProp("labelSize",a,b||0),this}},{key:"setLabelStrokeColor",value:function(a,b){return this.setProp("labelStrokeColor",a,b||0),this}},{key:"setLabelStrokeWidth",value:function(a,b){return this.setProp("labelStrokeWidth",a,b||0),this}},{key:"setLabelBackgroundColor",value:function(a,b){return this.setProp("labelBackgroundColor",a,b||0),this}},{key:"setLabelBackgroundOpacity",value:function(a,b){return this.setProp("labelBackgroundOpacity",a,b||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var a=this.getProps("attributes"),b=0,c=a.length;b<c;b++)for(var d in a[b])this.setDom(d,"function"==typeof a[b][d]?a[b][d].call(this,d):a[b][d],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(a){var b;if(b=a instanceof k.default?a:this.getPosition(a))return b&&b.compute?b.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(a){var b=this.getProp("position",a||0);return this.setProp("position",b=k.default.check(b),a),b}},{key:"setPosition",value:function(a,b){var c=this,d=k.default.check(a,function(a){return c.getRelativePosition(a)});return this.setProp("position",d,b||0)}},{key:"sortPositions",value:function(a){return this.getProps("position").sort(a),this}},{key:"_applyTransforms",value:function(){var a=this.getProp("transforms"),b="";if(a&&(a=Array.isArray(a)?a:[a],0!=a.length)){for(var c=0;c<a.length;c++){switch(b+=a[c].type+"(",a[c].type){case"translate":var d=a[c].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());b+=d.x,b+=", ",b+=d.y;break;case"rotate":if(b+=a[c].arguments[0],b+=", ",1==a[c].arguments.length){var e=this.computePosition(0);console.log(e,this.getPosition(0),this.computePosition(0)),b+=e.x+", "+e.y}else b+=k.default.getDeltaPx(a[c].arguments[1],this.getXAxis()).replace("px",""),b+=", ",b+=k.default.getDeltaPx(a[c].arguments[2],this.getYAxis()).replace("px","")}b+=") "}return this.setDomGroup("transform",b),this}}},{key:"makeLabels",value:function(){var a=this;this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(b){a.group.removeChild(b)}),this._labelsBackground.map(function(b){a.group.removeChild(b)}),this._labels=[],this._labelsBackground[b]=[];for(var b=0;void 0!==this.getProp("labelText",b);)this._labels[b]||(this._labels[b]=document.createElementNS(this.graph.ns,"text"),this._labels[b].setAttribute("data-label-i",b),this._labels[b].jsGraphIsShape=this,this._labelsBackground[b]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[b].setAttribute("data-label-i",b),this._labelsBackground[b].jsGraphIsShape=this,this.group.appendChild(this._labelsBackground[b]),this.group.appendChild(this._labels[b]),this._labels[b].addEventListener("dblclick",function(b){b.stopPropagation(),a.labelDblClickListener(b)}),this._labelsBackground[b].addEventListener("dblclick",function(b){b.stopPropagation(),a.labelDblClickListener(b)})),b++;return this.updateLabels(),this}},{key:"isLabelEditable",value:function(a){return this.getProp("labelEditable",a||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var a=0,b=this._labels.length;a<b;a++)this._applyLabelData(a)}},{key:"_applyLabelData",value:function(a){a=a||0;var b=this.getProp("labelVisible",a);if(b===!1)return this._labels[a].setAttribute("display","none"),void this._labelsBackground[a].setAttribute("display","none");this._labels[a].setAttribute("display","initial"),this._labelsBackground[a].setAttribute("display","initial");var c=this.calculatePosition(k.default.check(this.getProp("labelPosition",a)));if(!isNaN(c.x)&&!isNaN(c.y)&&c.y!==!1&&c.x!==!1){"NaNpx"==c.x||isNaN(c.x)||"NaN"===c.x||c.x===!1||(this._labels[a].setAttribute("x",c.x),this._labels[a].setAttribute("y",c.y));var d=this.getProp("labelAngle",a)||0;if(0!=d){var e=this._labels[a].getAttribute("x"),f=this._labels[a].getAttribute("y");this._labels[a].setAttribute("transform","rotate("+d+" "+e+" "+f+")")}var g=this.getProp("labelHTMLData",a)||{};for(var h in g)this._labels[a].setAttribute(h,g[h]),this._labelsBackground[a].setAttribute(h,g[h]);this._labels[a].setAttribute("dominant-baseline",this.getProp("labelBaseline",a)||"no-change"),this._labels[a].textContent=this.getProp("labelText",a),this._labels[a].setAttribute("fill",this.getProp("labelColor",a)||"black"),this._labels[a].setAttribute("font-size",this.getProp("labelSize",a)+"px"||"12px"),this._labels[a].setAttribute("text-anchor",this._getLabelAnchor(a)),this._labels[a].setAttribute("stroke",this.getProp("labelStrokeColor",a)||"black"),this._labels[a].setAttribute("stroke-width",this.getProp("labelStrokeWidth",a)||"0px"),this._labels[a].setAttribute("stroke-location","outside");var i=this._labels[a].getBBox();return this._labelsBackground[a].setAttribute("x",i.x),this._labelsBackground[a].setAttribute("y",i.y),this._labelsBackground[a].setAttribute("width",i.width),this._labelsBackground[a].setAttribute("height",i.height),this._labelsBackground[a].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[a].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var a=0,b=this._labels.length;a<b;a++)this._labels[a].textContent="";return this}},{key:"_getLabelAnchor",value:function(a){var b=this.getProp("labelAnchor",a);switch(b){case"middle":case"start":case"end":return b;case"right":return"end";case"left":return"start";default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(a){return void 0!==a&&this.setProp("handles",a),!!this.getProp("handles")||!!this.getProp("statichandles")}},{key:"addHandles",value:function(){if(!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var a=1;a<this.handles.length;a++)this.handles[a]&&this.group.appendChild(this.handles[a])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;for(var a=1;a<this.handles.length;a++)this.group.removeChild(this.handles[a]);return this.handlesInDom=!1,this}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(a){return!!this.isSelectable()&&(this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),void(a||this.graph.emit("shapeSelected",this)))}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var a=this.getSelectStyle(),b={};for(var c in a)"function"==typeof a[c]?b[c]=a[c].call(this):b[c]=a[c];l.saveDomAttributes(this._dom,b,"select")}}},{key:"_unselect",value:function(a){this._selectStatus=!1,l.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),a||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(a){return this.selectStyle=a,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(a){this.setProp("staticHandles",a)}},{key:"hasStaticHandles",value:function(a){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(a,b,c,d){var e=this;if(!(this.handles&&this.handles.length>0)){for(var f=1,g=a;f<=g;f++)(function(a){var f=e,g=document.createElementNS(f.graph.ns,b);if(g.jsGraphIsShape=!0,c)for(var h in c)g.setAttribute(h,c[h]);g.addEventListener("mousedown",function(b){f.isResizable()&&(b.preventDefault(),b.stopPropagation(),f.graph.emit("beforeShapeResize",f),e.emit("beforeShapeResize"),f.graph.prevent(!1)||(f.resizing=!0,f.handleSelected=a,f.handleMouseDown(b)))}),d&&d(f.handles[a]),f.handles[a]=g}).call(this,f);return this.handles}}},{key:"createHandles",value:function(){}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(a){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0))),this._mouseCoords=this.graph._getXY(a),this.handleMouseDownImpl(a,this._mouseCoords)}},{key:"handleClick",value:function(a){return!!this.isSelectable()&&(a.shiftKey||this.graph.unselectShapes(),void(this.getProp("selectOnClick")&&this.graph.selectShape(this)))}},{key:"handleMouseMove",value:function(a){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;var b=this.graph._getXY(a),c=this.getXAxis().getRelVal(b.x-this._mouseCoords.x),d=this.getYAxis().getRelVal(b.y-this._mouseCoords.y);0==c&&0===d||(this.preventUnselect=!0),this._mouseCoords=b;var e=this.handleMouseMoveImpl(a,c,d,b.x-this._mouseCoords.x,b.y-this._mouseCoords.y);return e}},{key:"handleMouseUp",value:function(a){return this.moving&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(a)}},{key:"handleDblClick",value:function(a){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(a){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(a,b){return a||(a=this.getHighlightAttributes()),b||(b="highlight"),l.saveDomAttributes(this._dom,a,b),this.highlightImpl(),this}},{key:"unHighlight",value:function(a){return a||(a="highlight"),l.restoreDomAttributes(this._dom,a),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(a){return this._highlightAttributes=a,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(a){var b=a.getMaskingID();b?this._dom.setAttribute("mask","url(#"+b+")"):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){return}},{key:"labelDblClickListener",value:function(a){var b=parseInt(a.target.getAttribute("data-label-i")),c=this;if(!isNaN(b)&&this.isLabelEditable(b)){a.preventDefault(),a.stopPropagation();var d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("value",c.getProp("labelText",b)),c.graph.wrapper.prepend(d),d.select(),l.setCSS(d,{position:"absolute",marginTop:parseInt(a.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(a.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});var e=c.getLabelText(b),f=function a(){c.setLabelText(d.value,b),c._labels[b].textContent=d.value;var f=d.value;d.remove(),d.removeEventListener("blur",a),d=!1,c.changed("shapeLabelChanged",{previousValue:e,nextValue:f})};d.addEventListener("blur",f),d.addEventListener("keyup",function(a){13===a.keyCode&&f()}),d.addEventListener("keypress",function(a){a.stopPropagation()}),d.addEventListener("keydown",function(a){a.stopPropagation()}),d.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(a){return this._forcedParentDom=a,this}},{key:"isHTML",value:function(){return!1}}]),b}(m.default);o.prototype.computePosition=o.prototype.calculatePosition,o.prototype.showLabel=o.prototype.displayLabel,o.prototype.remove=o.prototype.kill,b.default=o,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(a,b,c){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",b,this.getXAxis()),this.getPosition(1).deltaPosition("x",b,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var d=this.serie.searchClosestValue(this.getXAxis().getVal(this.graph._getXY(a).x-this.graph.getPaddingLeft()));if(!d)return;this.resizingPosition.x!=d.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=d.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",b,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var a=this.computePosition(0),b=this.computePosition(1),c=Math.abs(a.x-b.x),d=Math.min(a.x,b.x);if(c<2||d+c<0||d>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var e,f,g,h,i,j,d,k,l=this.serie.searchClosestValue(this.getPosition(0).x),m=this.serie.searchClosestValue(this.getPosition(1).x),n=0,o=Number.MAX_VALUE;if(!l||!m)return!1;for(l.xBeforeIndex>m.xBeforeIndex&&(e=l,l=m,m=e),this.counter=0,f=l.dataIndex;f<=m.dataIndex;f++){for(this.currentLine="",h=f==l.dataIndex?l.xBeforeIndexArr:0,i=f==m.dataIndex?m.xBeforeIndexArr:this.serie.data[f].length,j=0,h==i&&i++,g=h;g<=i;g+=2)d=this.serie.getX(this.serie.data[f][g+0]),k=this.serie.getY(this.serie.data[f][g+1]),n=Math.max(this.serie.data[f][g+1],n),o=Math.min(this.serie.data[f][g+1],o),g==h&&(this.firstX=d,this.firstY=k),j>0?this.currentLine+=" L "+d+" "+k+" ":this.currentLine+=" M "+d+" "+k+" ",j++;if(this.lastX=d,this.lastY=k,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V "+this.getYAxis().getPx(0)+" H "+this.firstX+" z",this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(n),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var a=this.computePosition(0),b=this.computePosition(1);a.x<b.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(328)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow"+this.graph._creation+")"),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){
var d,e,f;!function(g,h){e=[a,b,c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.setStrokeColor("black"),this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var a=this.calculatePosition(0),b=this.calculatePosition(1);if(a&&a.x&&a.y)return this.setDom("x2",a.x),this.setDom("y2",a.y),this.setDom("y1",b.y),this.setDom("x1",b.x),this.currentPos2x=b.x,this.currentPos2y=b.y,this.currentPos1x=a.x,this.currentPos1y=a.y,!0}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){if(!this.isLocked()){var f,g=this.getPosition(0),h=this.getPosition(1);if(1==this.handleSelected?f=g:2==this.handleSelected&&(f=h),f&&(this._data.vertical||f.deltaPosition("x",b,this.getXAxis()),this._data.horizontal||f.deltaPosition("y",c,this.getYAxis())),this.moving&&(g.x&&g.deltaPosition("x",b,this.getXAxis()),g.y&&g.deltaPosition("y",c,this.getYAxis()),h.x&&h.deltaPosition("x",b,this.getXAxis()),h.y&&h.deltaPosition("y",c,this.getYAxis())),this._data.forcedCoords){var i=this._data.forcedCoords;void 0!==i.y&&("function"==typeof i.y?h.y=g.y=i.y(this):(h.y=i.y,g.y=i.y)),void 0!==i.x&&("function"==typeof i.x?h.x=g.x=i.x(this):(h.x=i.x,g.x=i.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),this.rectEvent.jsGraphIsShape=this,this.group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),i(b,[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0==this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(a){return this.setProp("pxPoints",a),this}},{key:"applyPosition",value:function(){var a=void 0,b=this.computePosition(0);if(a=this.getProp("pxPoints"))a=" M "+b.x+" "+b.y+" "+a,this.setDom("d",a);else if(this.points){var c,d;this.serie?(c=this.serie.getXAxis(),d=this.serie.getYAxis()):this.xAxis&&this.yAxis&&(c=this.xAxis,d=this.yAxis),this.setDom("d","M "+this.points.map(function(a){return c.getPx(a[0])+", "+d.getPx(a[1])}).join(" L "))}return this.changed(),!0}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325),c(300)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=e(c),j=(e(d),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),k=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.nbHandles=2,d}return h(b,a),j(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("pointer-events","stroke")}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(a,b){return a&&!b||!a&&b}},{key:"applyPosition",value:function(){var a=void 0,b=void 0,c=void 0,d=void 0,e=this.getAxis(),f=[],g="",h=this.getProp("baseLine",0)||300,i=void 0;if(!this.serie)throw"No serie exists for this shape";var j=this.getPosition(0),k=this.getPosition(1);if(j.x<this.serie.getXAxis().getCurrentMin()&&k.x<this.serie.getXAxis().getCurrentMin()||j.x>this.serie.getXAxis().getCurrentMax()&&k.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this.emptyLabels(),!1;this.showLabel(0);var l=0,m=void 0,n=this.serie.getWaveform();if(n){var o=n.getIndexFromX(j[e],!0,Math.floor),p=n.getIndexFromX(k[e],!0,Math.ceil),q=void 0,r=!1;o==p&&("aggregate"==n.getReductionType()?p+=4:p++),p<o&&(q=o,o=p,p=q,r=!0);var s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=(n.getDataInUse(),void 0),B=void 0,C=!0;for("aggregate"==n.getReductionType()&&(C=!1),n.getXMonotoneousAscending()||(!n.getXMonotoneousAscending(),!1)?(m=p,A=!0,B=-1):(m=o,A=!1,B=1);A?m>=o:m<=p;m+=B)c=n.getX(m,!0),d=n.getY(m,!0),a=this.serie.getX(c),b=this.serie.getY(d),l+=n.getY(m,!0),s||(s=a,t=b,u=n.getX(m),v=n.getY(m)),void 0!=w?(w=a,y=b,f.push([a,b,l]),x=c):(w=a,y=b,x=n.getX(m),z=n.getY(m));x=!1,z=!1,w=!1,y=!1,0==l&&(l=1),this._sumVal=n.integrate(j.x,k.x),i=this.ratio?this.ratio*(this.sumVal/l):200/l;var D=void 0;if(0!=f.length){for(var E=0,F=f.length;E<F;E++){if(D=h-f[E][2]*i,E>0&&(f[E-1][2]>l/2&&f[E][2]<=l/2||f[E-1][2]<l/2&&f[E][2]>=l/2)){var G=h-(f[E-1][2]+f[E][2])/2*i;this.setPosition({x:f[E][0]+"px",y:G+"px"},3),this.setLabelPosition(this.getPosition(3),0)}g+=" L "+f[E][0]+", "+D+" ",this.lastPointX=f[E][0],this.lastPointY=D}return this.points=f,this._sum=l,g=this.serie.isFlipped()?" M "+h+", "+s+" "+g:" M "+s+", "+h+" "+g,this.firstPointX=s,this.firstPointY=h,this.setDom("d",g),this.firstX=s,this.firstY=t,this.ratioLabel&&this.updateIntegralValue(this.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(B==-1,r),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ratioLabel;a&&(this.ratioLabel=a),this.setLabelText(a?(Math.round(100*this.sumVal*a)/100).toPrecision(3):"N/A",0),this.updateLabels()}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){void 0!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){if(!this.isLocked()){var f,g=this.getPosition(0),h=this.getPosition(1);return 1==this.handleSelected?f=g:2==this.handleSelected&&(f=h),f&&(this._data.vertical||f.deltaPosition("x",b,this.getXAxis())),this.moving&&(g.x&&g.deltaPosition("x",b,this.getXAxis()),h.x&&h.deltaPosition("x",b,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(a){this._ratio=a},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}]),b}(i.default);b.default=k,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(333)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.nbHandles=4,d}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),this._dom.element=this,this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),m(b,[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.setStrokeColor("black"),this.setStrokeWidth(1),this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var a=this.getProp("handles");switch("object"!=("undefined"==typeof a?"undefined":l(a))&&(a={}),a.type||(a.type="corners"),a.type){case"sides":k.extend(a,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var b=0;for(var c in a.sides)a.sides[c]&&b++;this._createHandles(b,"g").map(function(a){var b=document.createElementNS(self.graph.ns,"rect");b.setAttribute("x","-3"),b.setAttribute("width","6"),b.setAttribute("y","-6"),b.setAttribute("height","12"),b.setAttribute("stroke","black"),b.setAttribute("fill","white"),b.setAttribute("cursor","pointer"),a.appendChild(b)});var b=1;for(var c in a.sides)a.sides[c]&&(this.handles[c]=this["handle"+b],this.sides[b]=c,b++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"))}return this}}},{key:"applyPosition",value:function(){var a,b,c,d,e=this.computePosition(0),f=this.computePosition(1);return e.x<f.x?(a=e.x,c=f.x-e.x):(a=f.x,c=e.x-f.x),e.y<f.y?(b=e.y,d=f.y-e.y):(b=f.y,d=e.y-f.y),this.currentX=a,this.currentY=b,this.currentW=c,this.currentH=d,!isNaN(a)&&!isNaN(b)&&a!==!1&&b!==!1&&(this.setDom("width",c),this.setDom("height",d),this.setDom("x",a),this.setDom("y",b),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){var f=this.getProp("handles");if(this.moving||this.handleSelected){var g=this.getPosition(0),h=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),g.x,g.y,h.x,h.y;if(this.moving)g.deltaPosition("x",b,this.getXAxis()),g.deltaPosition("y",c,this.getYAxis()),h.deltaPosition("x",b,this.getXAxis()),h.deltaPosition("y",c,this.getYAxis());else switch(f.type){case"sides":switch(this.sides[this.handleSelected]){case"left":g.deltaPosition("x",b,this.getXAxis());break;case"right":h.deltaPosition("x",b,this.getXAxis());break;case"top":g.deltaPosition("y",c,this.getYAxis());break;case"bottom":h.deltaPosition("y",c,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(g.deltaPosition("x",b,this.getXAxis()),g.deltaPosition("y",c,this.getYAxis())):2==this.handleSelected?(h.deltaPosition("x",b,this.getXAxis()),g.deltaPosition("y",c,this.getYAxis())):3==this.handleSelected?(h.deltaPosition("y",c,this.getYAxis()),h.deltaPosition("x",b,this.getXAxis())):4==this.handleSelected&&(g.deltaPosition("x",b,this.getXAxis()),h.deltaPosition("y",c,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var a=this.computePosition(0),b=this.computePosition(1),c=this.getProp("handles");switch(c.type){case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate("+this.currentX+" "+(this.currentY+this.currentH/2)+")"),this.handles.right&&this.handles.right.setAttribute("transform","translate( "+(this.currentX+this.currentW)+" "+(this.currentY+this.currentH/2)+")"),this.handles.top&&this.handles.top.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+this.currentY+")"),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+(this.currentY+this.currentH)+")");break;case"corners":default:this.handles[1].setAttribute("x",a.x),this.handles[1].setAttribute("y",a.y),this.handles[2].setAttribute("x",b.x),this.handles[2].setAttribute("y",a.y),this.handles[3].setAttribute("x",b.x),this.handles[3].setAttribute("y",b.y),this.handles[4].setAttribute("x",a.x),this.handles[4].setAttribute("y",b.y)}}}}]),b}(j.default);b.default=n,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.nbHandles=1,d}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -"+this.width/2+" 0 h "+this.width+" m -"+this.width/2+" -"+this.width/2+" v "+this.width)}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var a=this.calculatePosition(0);if(a&&a.x&&a.y)return this.setDom("transform","translate( "+a.x+", "+a.y+")"),this.currentPos1x=a.x,this.currentPos1y=a.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(a){return this.moving=!0,!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){if(!this.isLocked()){var f=this.getFromData("pos");return this.moving&&(f.x=this.graph.deltaPosition(f.x,b,this.getXAxis()),f.y=this.graph.deltaPosition(f.y,c,this.getYAxis())),this.redrawImpl(),!0}}},{key:"createHandles",value:function(){this._createHandles(1,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(a){this.options.width=a}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(328)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.lineHeight=6,c}return g(b,a),i(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var a=this.computePosition(0),b=this.computePosition(1),c=this.computePosition(2);if(a.x&&b.x&&c.x&&this.posYPx){var d=this.lineHeight;this.rectBoundary.setAttribute("d","M "+a.x+" "+(this.posYPx-d)+" v "+2*d+" H "+b.x+" v "+-2*d+"z"),this.line1.setAttribute("x1",a.x),this.line1.setAttribute("x2",a.x),this.line2.setAttribute("x1",b.x),this.line2.setAttribute("x2",b.x),this.line3.setAttribute("x1",c.x),this.line3.setAttribute("x2",c.x),this._dom.setAttribute("x1",a.x),this._dom.setAttribute("x2",b.x),this.redrawY(d)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var a=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-a),this.line1.setAttribute("y2",this.posYPx+a),this.line2.setAttribute("y1",this.posYPx-a),this.line2.setAttribute("y2",this.posYPx+a),this.line3.setAttribute("y1",this.posYPx-a),this.line3.setAttribute("y2",this.posYPx+a),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var a=this.computePosition(0),b=this.computePosition(1),c=this.computePosition(2);a.x&&b.x&&c.x&&(this.handles[1].setAttribute("x",a.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",b.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",c.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(a){return this.posYPx=a,this}},{key:"setLineHeight",value:function(a){this.lineHeihgt=a}},{key:"handleMouseMoveImpl",value:function(a,b,c){if(!this.isLocked()){var d=this.getPosition(0),e=this.getPosition(1),f=this.getPosition(2);switch(this.handleSelected){case 1:d.deltaPosition("x",b,this.getXAxis()),(Math.abs(f.x-e.x)>Math.abs(e.x-d.x)||Math.abs(f.x-d.x)>Math.abs(e.x-d.x))&&(f.x=d.x+.1*(e.x-d.x));break;case 2:e.deltaPosition("x",b,this.getXAxis()),(Math.abs(f.x-e.x)>Math.abs(e.x-d.x)||Math.abs(f.x-d.x)>Math.abs(e.x-d.x))&&(f.x=e.x+.1*(d.x-e.x));break;case 3:if(f.deltaPosition("x",b,this.getXAxis()),Math.abs(f.x-e.x)>Math.abs(e.x-d.x)||Math.abs(f.x-d.x)>Math.abs(e.x-d.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:f.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=e(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},l=function(a){function b(a,c){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return h(b,a),j(b,[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var a=document.createElement("div");this._dom.appendChild(a),this.div=a}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(a){this.setProp("height",a)}},{key:"setWidth",value:function(a){this.setProp("width",a)}},{key:"setContent",value:function(a){this.setProp("content",a)}},{key:"setRenderer",value:function(a){this._renderer=a}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var a=this.calculatePosition(0);if(a&&(0,c.isNumeric)(a.x)&&(0,c.isNumeric)(a.y))return this._dom.style.left=a.x+"px",this._dom.style.top=a.y+"px",this.currentPosX=a.x,this.currentPosY=a.y,!0}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){return!0}},{key:"setHandles",value:function(){this.areHandlesInDom()&&isNaN(this.currentPos1x)}},{key:"isHTML",value:function(){return!0}}]),b}(i.default);b.default=l,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(302)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return c.options=Object.assign({},b.default(),c.constructor.default(),a),c}return g(b,a),i(b,null,[{key:"default",value:function(){return{}}}]),i(b,[{key:"init",value:function(a){this.graph=a}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"init",value:function(a){this.graph=a,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(a,b,c,d,e){return this._draggingX=b,this._draggingY=c,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,this.moved=!1,!0}},{key:"onMouseMove",value:function(a,b,c,d,e){var f=b-this._draggingX,g=c-this._draggingY;this.options.dragX&&a._applyToAxes(function(a){a.setCurrentMin(a.getVal(a.getMinPx()-f)),a.setCurrentMax(a.getVal(a.getMaxPx()-f))},!1,!0,!1),this.options.dragY&&a._applyToAxes(function(a){a.setCurrentMin(a.getVal(a.getMinPx()-g)),a.setCurrentMax(a.getVal(a.getMaxPx()-g))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=b,this._draggingY=c,this.moved=!0,this.time=Date.now(),this.emit("dragging"),a.draw(!0)}},{key:"onMouseUp",value:function(a,b,c,d,e){var f=Date.now()-this.time;return b==this._lastDraggingX||c==this._lastDraggingY?void(this.moved&&this.emit("dragged")):(this.speedX=(b-this._lastDraggingX)/f,this.speedY=(c-this._lastDraggingY)/f,isNaN(this.speedX)||isNaN(this.speedY)?void this.emit("dragged"):(a._applyToAxes(function(a){a._pluginDragMin=a.getCurrentMin(),a._pluginDragMax=a.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,void(this.options.persistanceX||this.options.persistanceY?this._persistanceMove(a):this.emit("dragged"))))}},{key:"_persistanceMove",value:function(a){var b=this;return b.stopAnimation?void b.emit("dragged"):void window.requestAnimationFrame(function(){var c=Date.now()-b.time,d=(.5*b.accelerationX*c+b.speedX)*c,e=(.5*b.accelerationY*c+b.speedY)*c;b.options.persistanceX&&a._applyToAxes(function(a){a.setCurrentMin(-a.getRelVal(d)+a._pluginDragMin),a.setCurrentMax(-a.getRelVal(d)+a._pluginDragMax),a.cacheCurrentMin(),a.cacheCurrentMax(),a.cacheInterval()},!1,!0,!1),b.options.persistanceY&&a._applyToAxes(function(a){a.setCurrentMin(-a.getRelVal(e)+a._pluginDragMin),a.setCurrentMax(-a.getRelVal(e)+a._pluginDragMax),a.cacheCurrentMin(),a.cacheCurrentMax(),a.cacheInterval()},!1,!1,!0),a.draw(),c<b.totaltime?(b.emit("dragging"),b._persistanceMove(a)):b.emit("dragged")})}}],[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(337),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},n=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),l(b,[{key:"init",value:function(a,c){m(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).call(this,a,c),this.shapeType=c.type}},{key:"setShape",value:function(a){this.shapeInfo.shapeType=a}},{key:"onMouseDown",value:function(a,b,c,d,e){var f=this;if(this.shapeType||this.options.url){var g,h,i=this;this.count=this.count||0,b-=a.getPaddingLeft(),c-=a.getPaddingTop(),g=a.getXAxis().getVal(b),h=a.getYAxis().getVal(c);var j={position:[{x:g,y:h},{x:g,y:h}],onChange:function(b){a.triggerEvent("onAnnotationChange",b)},locked:!1,selectable:!0,resizable:!0,movable:!0},l=this.options.properties;if(k.extend(!0,j,this.options),this.emit("beforeNewShape",d,j),!this.graph.prevent(!1)){var m=a.newShape(j.type,j,!1,l);this.emit("createdShape",d,m),m&&(i.currentShape=m,i.currentShapeEvent=d),a.once("mouseUp",function(){console.log(f.currentShape),f.currentShape||i.emit("newShape",d,m)})}}}},{key:"onMouseMove",value:function(a,b,c,d){if(this.currentShape){console.log("mv"),this.count++;var e=this.currentShape;this.currentShape=!1,a.selectedSerie&&!e.serie&&e.setSerie(a.selectedSerie),e.resizing=!0,e.options&&e.options.onCreate&&e.options.onCreate.call(e),e.draw(),a.selectShape(e),e.handleMouseDown(this.currentShapeEvent,!0),e.handleSelected=this.options.handleSelected||1,e.handleMouseMove(d,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}],[{key:"default",value:function(){return{}}}]),b}(j.default);b.default=n,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),l(b,[{key:"init",value:function(a,b){this._path=document.createElementNS(a.ns,"path"),j.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),this.graph=a,a.dom.appendChild(this._path)}},{key:"setSerie",value:function(a){this.serie=a}},{key:"onMouseDown",value:function(a,b,c,d,e){this.serie&&(this.path="M "+b+" "+c+" ",this.currentX=b,this.currentY=c,this.xs=[this.serie.getXAxis().getVal(b-a.getPaddingLeft())],this.ys=[this.serie.getYAxis().getVal(c-a.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block"))}},{key:"onMouseMove",value:function(a,b,c,d,e){Math.pow(b-this.currentX,2)+Math.pow(c-this.currentY,2)>25&&(this.path+=" L "+b+" "+c+" ",this.currentX=b,this.currentY=c,this.xs.push(this.serie.getXAxis().getVal(b-a.getPaddingLeft())),this.ys.push(this.serie.getYAxis().getVal(c-a.getPaddingTop())),this._path.setAttribute("d",this.path+" z"),this.findPoints())}},{key:"findPoints",value:function(){for(var a,b=this.serie.waveform,c=[],d=0,e=0,f=b.getLength();e<f;e+=1){d=0;for(var g=0,h=this.xs.length;g<h;g+=1)a=g==h-1?0:g+1,(this.ys[g]<b.getY(e)&&this.ys[a]>b.getY(e)||this.ys[g]>b.getY(e)&&this.ys[a]<b.getY(e))&&b.getX(e)>(b.getY(e)-this.ys[g])/(this.ys[a]-this.ys[g])*(this.xs[a]-this.xs[g])+this.xs[g]&&d++;d%2==1?(c.push(e),this.serie.selectPoint(e,!0,"selected")):this.serie.unselectPoint(e)}this.selected=c,this.emit("selectionProcess",c)}},{key:"onMouseUp",value:function(a,b,c,d){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}],[{key:"default",value:function(){return{}}}]),b}(k.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=f(c),k=e(d),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),l(b,[{key:"init",value:function(a,b){this._zoomingGroup=document.createElementNS(a.ns,"g"),this._zoomingSquare=document.createElementNS(a.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),j.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),this.graph=a,a.groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(a,b,c,d,e){var f=this.options.zoomMode;if(f){switch(this._zoomingMode=f,void 0===b&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",b=0),void 0===c&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",c=0),this._zoomingXStart=b,this._zoomingYStart=c,this.x1=b-a.getPaddingLeft(),this.y1=c-a.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",a.options.paddingTop),this._zoomingSquare.setAttribute("height",a.getDrawingHeight()-a.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",a.options.paddingLeft),this._zoomingSquare.setAttribute("width",a.getDrawingWidth());break;case"forceY2":this.y2=a.getYAxis().getPx(this.options.forcedY)+a.options.paddingTop}this.options.onZoomStart&&!e&&this.options.onZoomStart(a,b,c,d,e)}}},{key:"onMouseMove",value:function(a,b,c,d,e){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,b)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,c)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-b)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-c));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,b)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-b));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,b)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-b));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,c)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-c))}this.options.onZoomMove&&!e&&this.options.onZoomMove(a,b,c,d,e)}},{key:"onMouseUp",value:function(a,b,c,d,e){var f=this;this.removeZone();var g=b-a.options.paddingLeft,h=c-a.options.paddingTop;if(this.emit("beforeZoom",{graph:a,x:b,y:c,e:d,mute:e}),!a.prevent(!1)&&!(b-this._zoomingXStart==0&&"y"!=this._zoomingMode||c-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var i=!1,j=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=Math.min(a.getVal(g),a.getVal(f.x1)),a._pluginZoomMaxFinal=Math.max(a.getVal(g),a.getVal(f.x1))},!1,!0,!1),i=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=Math.min(a.getVal(h),a.getVal(f.y1)),a._pluginZoomMaxFinal=Math.max(a.getVal(h),a.getVal(f.y1))},!1,!1,!0),j=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=Math.min(a.getVal(f.y2),a.getVal(f.y1)),a._pluginZoomMaxFinal=Math.max(a.getVal(f.y2),a.getVal(f.y1))},!1,!1,!0),j=!0),this.transition(i,j,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[g,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[h,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[g,this.x1],!0,!1),this.toAxes("_doZoom",[h,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[g,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}a.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),a.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(a,b,c){c||(c={}),c.baseline||(c.baseline=0);var d="x"==c.direction,e=!("y"!==c.direction);this.toAxes("handleMouseWheel",[a,b,c.baseline],d,e),this.graph.drawSeries()}},{key:"onDblClick",value:function(a,b,c,d,e){var f=this.graph;if(this.emit("beforeDblClick",{graph:f,x:a,y:b,pref:d,e:c,mute:e}),!f.prevent(!1)){if(this.options.transition||this.options.smooth){var g=!1,h=!1;"xtotal"!=d.mode&&"total"!=d.mode||(this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=a.getMinValue()-a.options.axisDataSpacing.min*a.getInterval(),a._pluginZoomMaxFinal=a.getMaxValue()+a.options.axisDataSpacing.max*a.getInterval()},!1,!0,!1),g=!0),"ytotal"!=d.mode&&"total"!=d.mode||(this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=a.getMinValue()-a.options.axisDataSpacing.min*a.getInterval(),a._pluginZoomMaxFinal=a.getMaxValue()+a.options.axisDataSpacing.max*a.getInterval()},!1,!1,!0),h=!0);var i=void 0,j=void 0;return"gradualX"!=d.mode&&"gradualY"!=d.mode&&"gradual"!=d.mode&&"gradualXY"!=d.mode||(i=!1,j=!1,"gradualX"!=d.mode&&"gradual"!=d.mode&&"gradualXY"!=d.mode||(i=!0,g=!0),"gradualY"!=d.mode&&"gradual"!=d.mode&&"gradualXY"!=d.mode||(j=!0,h=!0),this.toAxes(function(a){a._pluginZoomMin=a.getCurrentMin(),a._pluginZoomMax=a.getCurrentMax(),a._pluginZoomMinFinal=a.getCurrentMin()-(a.getCurrentMax()-a.getCurrentMin()),a._pluginZoomMaxFinal=a.getCurrentMax()+(a.getCurrentMax()-a.getCurrentMin())},!1,i,j)),void this.transition(g,h,"dblClick")}var k=this.graph.getXAxis(),l=this.graph.getYAxis();if("xtotal"==d.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==d.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==d.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{a-=this.graph.options.paddingLeft,b-=this.graph.options.paddingTop;var m=k.getCurrentMin(),n=k.getCurrentMax(),o=k.getVal(a),p=n-m,q=l.getCurrentMin(),r=l.getCurrentMax(),s=l.getVal(b),t=r-q;if("gradualXY"==d.mode||"gradualX"==d.mode){var u=(o-m)/(n-m);m=Math.max(k.getMinValue()-k.getInterval()*k.options.axisDataSpacing.min,m-p*u),n=Math.min(k.getMaxValue()+k.getInterval()*k.options.axisDataSpacing.max,n+p*(1-u)),k.setCurrentMin(m),k.setCurrentMax(n),k.options.onZoom&&k.options.onZoom(m,n),k.cacheCurrentMin(),k.cacheCurrentMax(),k.cacheInterval()}if("gradualXY"==d.mode||"gradualY"==d.mode){var u=(s-q)/(r-q);q=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,q-t*u),r=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,r+t*(1-u)),l.setCurrentMin(q),l.setCurrentMax(r),l.options.onZoom&&l.options.onZoom(q,r),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval()}}f.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(a,b,c){var d=this,e=500;d.gradualUnzoomStart||(d.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var f=Date.now()-d.gradualUnzoomStart;f>e&&(f=e);var g=Math.sin(f/e*Math.PI/2);d.toAxes(function(a){a.setCurrentMin(a._pluginZoomMin+(a._pluginZoomMinFinal-a._pluginZoomMin)*g),a.setCurrentMax(a._pluginZoomMax+(a._pluginZoomMaxFinal-a._pluginZoomMax)*g),a.cacheCurrentMin(),a.cacheCurrentMax(),a.cacheInterval()},!1,a,b),d.graph.draw(),f<e?(d.transition(a,b,c),d.emit("zooming")):(d.emit("zoomed"),d.graph.pluginYieldActiveState(),c&&d.emit(c),d.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(a,b,c,d){var e=this.options.axes;switch(e&&("serieSelected"!=e||this.graph.getSelectedSerie())||(e="all"),e){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var f=this.graph.getSelectedSerie();f&&(c&&("string"==typeof a?f.getXAxis()[a].apply(f.getXAxis(),b):a.apply(f.getXAxis(),b)),d&&("string"==typeof a?f.getYAxis()[a].apply(f.getYAxis(),b):a.apply(f.getYAxis(),b)));break;default:Array.isArray(e)||(e=[e]);var g=!0,h=!1,i=void 0;try{for(var j,k=e[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;l.isX()&&c?"string"==typeof a?l[a].apply(l,b):a.apply(l,b):l.isY()&&d&&("string"==typeof a?l[a].apply(l,b):a.apply(l,b))}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}}}}],[{key:"default",value:function(){return{axes:"all"}}}]),b}(k.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(343),c(337),c(301)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f){"use strict";function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var l=h(c),m=h(d),n=h(e),o=g(f),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=function(a){function b(){i(this,b);var a=j(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.series=[],a.plugins=[],a.currentSlots={},a.requestLevels=new Map,a.update=function(b,c){a.series.forEach(function(a){this.updateSerie(a,b)}),b||a.recalculateSeries(c)},a}return k(b,a),p(b,[{key:"init",value:function(a,b){this.graph=a,m.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(a){return this.options.url=a,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(a,b,c,d,e){var f=this.graph.newSerie(a,b,c);return this.currentSlots[a]={min:0,max:0,interval:0},f.on("hide",function(){f._zoneSerie&&f._zoneSerie.hide()}),f.on("show",function(){f._zoneSerie&&f._zoneSerie.show()}),f.setInfo("timeSerieManagerDBElements",d),e||(f._zoneSerie=this.graph.newSerie(a+"_zone",{},l.default.SERIE_ZONE)),this.series.push(f),f}},{key:"registerPlugin",value:function(a,b){var c;if((c=this.plugins.indexOf(a))>-1)for(var d=1;d<arguments.length;d++)a.removeListener(arguments[d],this.update);for(var d=1;d<arguments.length;d++)a.on(arguments[d],this.update)}},{key:"updateSerie",value:function(a,b){var c,d=this,e=a.getXAxis().getCurrentMin(),f=a.getXAxis().getCurrentMax(),g=this.getOptimalInterval(f-e),h=this.options.intervals.indexOf(g);this.cleanRegister(h);for(var i=h;i<=h+1;i++){c=this.options.intervals[i];var j=d.computeSlotID(e,c),k=d.computeSlotID(f,c),l=[[2,5,6],[1,2,4],[0,1,3]];l.forEach(function(e){for(var f=j-e[0]*(k-j),h=k+e[0]*(k-j),i=f;i<=h&&!(d.computeTimeMin(i,c)>Date.now());)d.register(a,i,c,c==g?e[1]:e[2],!0,b),i++})}this.processRequests()}},{key:"cleanRegister",value:function(a){this.requestLevels&&this.requestLevels.forEach(function(b){b.forEach(function(c,d){c[4]<a&&b.splice(d,1)})})}},{key:"register",value:function(a,b,c,d,e,f){var g=this.computeUniqueID(a,b,c),h=m.default.get(this.options.LRUName,g);(!h||this.computeTimeMax(b,c)>Date.now()&&h.timeout<Date.now()-(f?5e3:1e5)&&1==d)&&this.request(a,b,c,d,g,e)}},{key:"request",value:function(a,b,c,d,e,f){for(var g in this.requestLevels)g!=d&&this.requestLevels[g][e]&&(1!==this.requestLevels[g][e][0]?delete this.requestLevels[g][e]:this.requestLevels[g][e][5]=d);this.requestLevels[d]&&this.requestLevels[d][e]||(this.requestLevels[d]=this.requestLevels[d]||{},this.requestLevels[d][e]=[0,e,a.getName(),b,c,d,a.getInfo("timeSerieManagerDBElements")],f||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var a,b=this,c=1;;){for(var d in this.requestLevels[c])if(1!=this.requestLevels[c][d][0]){a=this.requestLevels[c][d];break}if(a)break;if(c++,c>10)return}this.requestsRunning++,a&&(a[0]=1,o.ajaxGet({url:this.getURL(a),method:"GET",json:!0}).done(function(e){1==e.status&&(b.requestsRunning--,delete b.requestLevels[c][d],m.default.store(b.options.LRUName,a[1],e.data),b.processRequests(),1==a[5]&&0==Object.keys(b.requestLevels[1]).length&&b.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(a,b){return(a+1)*(b*this.options.nbPoints)}},{key:"computeTimeMin",value:function(a,b){return a*(b*this.options.nbPoints)}},{key:"getURL",value:function(a){var b=this.options.url.replace("<measurementid>",a[2]).replace("<from>",this.computeTimeMin(a[3],a[4])).replace("<to>",this.computeTimeMax(a[3],a[4])).replace("<interval>",a[4]),c=a[6]||{};for(var d in c)b=b.replace("<"+d+">",c[d]);return b}},{key:"getOptimalInterval",value:function(a){var b,c=(this.options.optimalPxPerPoint||1)*a/this.graph.getDrawingWidth(),d=1/0;return this.options.intervals.forEach(function(a){var e=Math.min(d,Math.abs(a-c));d!==e&&(b=a,d=e)}),b||1e3}},{key:"computeUniqueID",value:function(a,b,c){var d="",e=a.getInfo("timeSerieManagerDBElements");for(var f in e)d+=";"+f+":"+e[f];return a.getName()+";"+b+";"+c+d}},{key:"computeSlotID",value:function(a,b){return Math.floor(a/(b*this.options.nbPoints))}},{key:"computeSlotTime",value:function(a,b){return a*(b*this.options.nbPoints)}},{key:"getZoneSerie",value:function(a){return a._zoneSerie}},{key:"updateZoneSerie",value:function(a){var b=this.graph.getSerie(a);b&&b._zoneSerie&&(b._zoneSerie.setXAxis(b.getXAxis()),b._zoneSerie.setYAxis(b.getYAxis()),b._zoneSerie.setFillColor(b.getLineColor()),b._zoneSerie.setLineColor(b.getLineColor()),b._zoneSerie.setFillOpacity(.2),b._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(a){var b=this;this.locked||(this.changed=!1,this.series.map(function(c){b.recalculateSerie(c,a)}),this.changed=!1,b.graph.draw())}},{key:"recalculateSerie",value:function(a,b){var c=a.getXAxis().getCurrentMin(),d=a.getXAxis().getCurrentMax(),e=this.getOptimalInterval(d-c),f=this.computeSlotID(c,e),g=this.computeSlotID(d,e),h=[],i=[];if(!(!b&&e==this.currentSlots[a.getName()].interval&&this.currentSlots[a.getName()].min<=f&&this.currentSlots[a.getName()].max>=g)){f-=2,g+=2,this.currentSlots[a.getName()].min=f,this.currentSlots[a.getName()].max=g,this.currentSlots[a.getName()].interval=e;for(var j=f;j<=g;){var k=m.default.get(this.options.LRUName,this.computeUniqueID(a,j,e));k?(h=h.concat(k.data.mean),i=i.concat(k.data.minmax)):this.recalculateSerieUpwards(a,j,e,h,i),j++}this.changed=!0,a.setData(h),a._zoneSerie&&a._zoneSerie.setData(i)}}},{key:"setIntervalCheck",value:function(a){var b=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){b.update(!0,!1)},a)}},{key:"recalculateSerieUpwards",value:function(a,b,c,d,e){var f=this.options.intervals.slice(0);f.sort();var g=f[f.indexOf(c)+1]||-1;if(g<0)return[];var h=this.computeSlotTime(b,c),i=this.computeSlotTime(b+1,c),j=this.computeSlotID(h,g),k=!1,l=m.default.get(this.options.LRUName,this.computeUniqueID(a,j,g));if(l)for(var n=0,o=l.data.mean.length;n<o;n+=2)if(!(l.data.mean[n]<h)&&(k===!1&&(k=n),l.data.mean[n]>=i))return d=d.concat(l.data.mean.slice(k,n)),void(e=d.concat(l.data.minmax.slice(k,n)));return this.recalculateSerieUpwards(a,j,g,d,e)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}],[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}]),b}(n.default);b.default=q,a.exports=b.default})},function(a,b,c){var d,e,f;!function(c,g){e=[b],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a){"use strict";function b(a,b){b=b||50,j[a]||(j[a]={},l[a]=0),m[a]=b}function c(a,b){var c,d;if(j[a]&&j[a][b])return d=k[a],c=j[a][b],c.prev=d,c.next=d.next,d.next.prev=c,d.next=c,k[a]=c,c.data}function d(a,b,d){var e,f,g;if(j[a]&&void 0!==l[a]&&m[a])return g=k[a],j[a][b]?(c(a,b),j[a][b].data.data=d,j[a][b].data.timeout=Date.now()):(e={data:{data:d,timeout:Date.now()}},"undefined"==typeof g?(e.prev=e,e.next=e):(e.prev=g.prev,e.next=g.next,g.next.prev=e,g.next=e),k[a]=e,j[a][b]=e,l[a]++),l[a]>m[a]&&g&&(f=g.next,g.next.next.prev=g,g.next=g.next.next,f.next.next=void 0,f.next.prev=void 0,l[a]--),d}function e(a,c){b(a,c)}function f(a,b){var d;if(void 0!=(d=c(a,b)))return d}function g(a,b,c){return d(a,b,c),c}function h(a){emptyMemory(a)}function i(a){return j[a]}Object.defineProperty(a,"__esModule",{value:!0}),a.create=e,a.get=f,a.store=g,a.empty=h,a.exist=i;var j={},k={},l={},m={};a.default=f})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=d(c),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"init",value:function(a,b){this.graph=a,this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(a,b){this.serie1=a,this.serie2=b}},{key:"setBoundaries",value:function(a,b){this.options.from=a,this.options.to=b}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){function a(){p===!0?k.pathsPositive.push([m,n]):p===!1&&k.pathsNegative.push([m,n]),m=[],n=[],p=void 0}function b(a,b){for(var c=0;c<b[0].length;c+=2)0==c&&(a+="M "),a+=" "+Math.round(k.serie1.getXAxis().getPx(b[0][c]))+", "+Math.round(k.serie1.getYAxis().getPx(b[0][c+1])),c<b[0].length-2&&(a+=" L ");for(var c=b[1].length-2;c>=0;c-=2)a+=" L "+Math.round(k.serie2.getXAxis().getPx(b[1][c]))+", "+Math.round(k.serie2.getYAxis().getPx(b[1][c+1])),0==c&&(a+=" z ");return a}var c,d,e,f,g,h,i,j,k=this,l=this.serie1.searchClosestValue(this.getFrom()),m=[],n=[];l?(c=l.dataIndex,d=2*l.xAfterIndex):(c=0,d=0),g=this.interpolate(this.serie1,this.getFrom()),m.push(this.getFrom()),m.push(g),g=this.interpolate(this.serie2,this.getFrom()),n.push(this.getFrom()),n.push(g);for(var o,p,q;c<this.serie1.data.length;c++){for(;d<this.serie1.data[c].length;d+=2){if(this.serie1.data[c][d]>this.getTo()){g=this.interpolate(this.serie1,this.getTo()),h=this.interpolate(this.serie2,this.getTo()),i=this.computeCrossing(m[m.length-2],m[m.length-1],this.getTo(),g,n[n.length-2],n[n.length-1],this.getTo(),h),i&&(m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),
a(),m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),p=this.serie1.data[c][d+1]>this.serie2.data[e][f+1]),m.push(this.getTo()),m.push(g),n.push(this.getTo()),n.push(h),q=!0;break}if(!o){if(o=this.serie2.searchClosestValue(this.serie1.data[c][d]),!o)continue;e=o.dataIndex,f=2*o.xBeforeIndex,g=this.interpolate(this.serie2,this.serie1.data[c][d]),m.push(this.serie1.data[c][d]),m.push(this.serie1.data[c][d+1]),n.push(this.serie1.data[c][d]),n.push(g),p=this.serie1.data[c][d+1]>g}for(j=!1,i=this.computeCrossing(m[m.length-2],m[m.length-1],this.serie1.data[c][d],this.serie1.data[c][d+1],n[n.length-2],n[n.length-1],this.serie2.data[e][f],this.serie2.data[e][f+1]),i&&(m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),a(),m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),p=this.serie1.data[c][d+1]>this.serie2.data[e][f+1]);this.serie2.data[e][f]<this.serie1.data[c][d];){if(n.push(this.serie2.data[e][f]),n.push(this.serie2.data[e][f+1]),f+=2,f==this.serie2.data[e].length){j=this.serie2.data[e][f-2],e++,f=0;break}i=this.computeCrossing(m[m.length-2],m[m.length-1],this.serie1.data[c][d],this.serie1.data[c][d+1],n[n.length-2],n[n.length-1],this.serie2.data[e][f],this.serie2.data[e][f+1]),i&&(m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),a(),m.push(i.x),m.push(i.y),n.push(i.x),n.push(i.y),p=this.serie1.data[c][d+1]>this.serie2.data[e][f+1])}j===!1?(m.push(this.serie1.data[c][d]),m.push(this.serie1.data[c][d+1])):(m.push(j),m.push(this.interpolate(this.serie1,j)),o=!1,d-=2,a())}if(q){a();break}g=this.interpolate(this.serie2,m[m.length-2]),g&&(n.push(m[m.length-2]),n.push(g)),a(),d=0,o=!1}var r=this.pathsPositive.reduce(b,"");this.positivePolyline.setPointsPx(r).redraw();var r=this.pathsNegative.reduce(b,"");this.negativePolyline.setPointsPx(r).redraw()}},{key:"interpolate",value:function(a,b){var c=a.searchClosestValue(b);if(!c)return!1;if(void 0==c.xMax)return c.yMin;if(void 0==c.xMin)return c.yMax;var d=(b-c.xMin)/(c.xMax-c.xMin);return(1-d)*c.yMin+d*c.yMax}},{key:"computeCrossing",value:function(a,b,c,d,e,f,g,h){var i=(d-b)/(c-a),j=(h-f)/(g-e),k=d-i*c,l=h-j*g;if(a==c||e==g)return!1;if(i==j)return{x:a,y1:b,y2:b};var m=(k-l)/(j-i);return!(m>c||m<a||m<e||m>g)&&{x:m,y:i*m+k}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}],[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}]),b}(h.default);b.default=j,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(299),c(307),c(309),c(301),c(312),c(320),c(337),c(308)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function l(a){return a&&a.__esModule?a:{default:a}}function m(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var q=l(c),r=l(d),s=l(e),t=k(f),u=l(g),v=l(h),w=l(i),x=(l(j),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),y=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},z=function(a){function b(){n(this,b);var a=o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.subSeries=[],a}return p(b,a),x(b,[{key:"setData",value:function(){var a=this;return y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(b){b.data=a.data}),this}},{key:"draw",value:function(){return this.eraseMarkers(),this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),b}(u.default),A=function(a){function b(){n(this,b);var a=o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.subSeries=[],a}return p(b,a),x(b,[{key:"setData",value:function(){var a=this;return y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(b){b.data=a.data}),this}},{key:"draw",value:function(){return this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),b}(v.default),B=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","showMarkers","hideMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","eraseMarkers","_recalculateMarkerPoints"],C=[];Object.getOwnPropertyNames(u.default.prototype).concat(C).map(function(a){B.indexOf(a)>-1||(z.prototype[a]=function(a){return function(){var b=arguments;this.subSeries.map(function(c){c[a].apply(c,m(b))})}}(a))});var D=function(a){function b(a){n(this,b);var c=o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return c.series=new Map,c}return p(b,a),x(b,[{key:"init",value:function(a){this.graph=a}},{key:"newXAxis",value:function(a){return newBottomAxis(a)}},{key:"newYAxis",value:function(a){return newLeftAxis(a)}},{key:"newTopAxis",value:function(a){return a=this.getOptions(a),new G(this.graph,"top",a)}},{key:"newBottomAxis",value:function(a){return a=this.getOptions(a),new G(this.graph,"bottom",a)}},{key:"newLeftAxis",value:function(a){return a=this.getOptions(a),new H(this.graph,"left",a)}},{key:"newRightAxis",value:function(a){return a=this.getOptions(a),new H(this.graph,"right",a)}},{key:"getOptions",value:function(a){var b={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return t.extend(!0,b,a)}},{key:"preDraw",value:function(){var a,b,c=this;this.series.forEach(function(d){var e=d.serie;a=e.getXAxis(),b=e.getYAxis();var f=1;for(a.splitNumber&&(f*=a.splitNumber),b.splitNumber&&(f*=b.splitNumber);e.subSeries.length<f;){var g=e.getName()+"_"+e.subSeries.length,h=c.graph.newSerie(g,{},e.getType()||q.default.SERIE_LINE);h.excludedFromLegend=!0,h.styles=e.styles,h.data=e.data,e.getType()==q.default.SERIE_LINE&&(h.markerPoints=e.markerPoints,h.markerFamilies=e.markerFamilies),e.subSeries.push(h)}for(;e.subSeries.length>f;){var i=c.graph.getSerie(e.getName()+"_"+(e.subSeries.length-1));i&&i.kill&&i.kill(),e.subSeries.pop()}!e.getXAxis().splitNumber&&e.getXAxis().splitAxis&&e.getXAxis().splitAxis(),!e.getYAxis().splitNumber&&e.getYAxis().splitAxis&&e.getYAxis().splitAxis(),e.subSeries.map(function(b,c){var d,f;if(e.getXAxis().getSubAxis){var g=c%(a.splitNumber||1);d=e.getXAxis().getSubAxis(g)}else d=e.getXAxis();if(b.setXAxis(d),e.getYAxis().getSubAxis){var h=Math.floor(c/(a.splitNumber||1));f=e.getYAxis().getSubAxis(h)}else f=e.getYAxis();b.setYAxis(f),b.draw(!0)})})}},{key:"newSerie",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments[2];switch(c){case"line":return newLineSerie(a,b);case"scatter":return newScatterSerie(a,b)}throw"Cannot create a split serie of type "+c}},{key:"newLineSerie",value:function(a,b){var c={type:"lineSerie",serie:new z(a,b,"line")};return this.series.set(a,c),c.serie.init(this.graph,a,b),this.graph.series.push(c.serie),c.serie}},{key:"newScatterSerie",value:function(a,b){var c={type:"scatterSerie",serie:new A(a,b,"scatter")};return this.series.set(a,c),c.serie.init(this.graph,b),this.graph.series.push(c.serie),c.serie}}],[{key:"defaults",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),b}(w.default),E={splitMarks:!0},F=function(a){var b=["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"],c=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,b);var e=o(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return e.axes=[],e.position=c,e.constructorOptions=t.extend(!0,{},E,d),e._splitVal=[],e}return p(b,a),x(b,[{key:"all",value:function(a){if("function"==typeof a)return this.axes.map(a),this}},{key:"splitAxis",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];b.push(1);for(var d=b.length;this.axes.length>d;)this.axes.pop().kill(!0,!0);for(;this.axes.length<d;){var e=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(e),e.zoomLock=!0,e.init(this.graph,this.constructorOptions)}var f=0,g=0,h=!0,i=!1,j=void 0;try{for(var k,l=this.axes[Symbol.iterator]();!(h=(k=l.next()).done);h=!0){var m=k.value;m.options.marginMin=10,m.options.marginMax=10,0==g&&(m.options.marginMin=0),g==this.axes.length-1&&(m.options.marginMax=0),m.setSpan(f,f=b[g]),m.setMinMaxFlipped(),g++}}catch(a){i=!0,j=a}finally{try{!h&&l.return&&l.return()}finally{if(i)throw j}}return this._splits=b,this}},{key:"fixGridIntervalBasedOnAxis",value:function(a){return this.fixGridFor=a,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(a){return this.autoSpread=!!a,this}},{key:"hasAxis",value:function(a){return this.axes.indexOf(a)>-1}},{key:"_splitSpread",value:function(){var a=[],b=0,c=0,d=!0,e=!1,f=void 0;try{for(var g,h=this._splitVal[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;b+=i[1]-i[0]}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}var j=!0,k=!1,l=void 0;try{for(var m,n=this._splitVal[Symbol.iterator]();!(j=(m=n.next()).done);j=!0){var o=m.value;a.push(c+=(o[1]-o[0])/b)}}catch(a){k=!0,l=a}finally{try{!j&&n.return&&n.return()}finally{if(k)throw l}}a.pop(),this.splitAxis.apply(this,a)}},{key:"setChunkBoundaries",value:function(a){var b=0,c=void 0,d=void 0,e=!0,f=!1,g=void 0;try{for(var h,i=this.axes[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;Array.isArray(a[b])&&a[b].length>1&&!c&&(c=a[b][1]-a[b][0],d=b),1!=a[b].length&&Array.isArray(a[b])?j.forceMin(a[b][0]).forceMax(a[b][1]):(j._mean=a[b],Array.isArray(j._mean)&&(j._mean=j._mean[0])),b++}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return this._baseWidthVal=c,this._baseWidthIndex=d,this._splitVal=a,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var a=this;this.autoSpread&&this._splitSpread();var b=0,c=void 0,d=void 0,e=void 0;if(this._baseWidthIndex>=0&&(d=this.getSubAxis(this._baseWidthIndex))&&(e=d.getSpan()),d=void 0,this.fixGridFor>=0&&(d=this.getSubAxis(this.fixGridFor))){if(void 0!==d._mean){var f=(d.getSpan()[1]-d.getSpan()[0])/(e[1]-e[0])*this._baseWidthVal;d.forceMin(d._mean-f/2),d.forceMax(d._mean+f/2)}b=d.draw(),c=d.getPrimaryTickUnit()}return this.axes.map(function(f){if(d!==f){if(void 0!==f._mean){var g=(f.getSpan()[1]-f.getSpan()[0])/(e[1]-e[0])*a._baseWidthVal;f.forceMin(f._mean-g/2),f.forceMax(f._mean+g/2)}c&&f.forcePrimaryTickUnit(c),b=Math.max(b,f.draw())}}),this.writeUnit(),b}},{key:"setMinPx",value:function(a){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setMinPx",this).call(this,a);var c=!0,d=!1,e=void 0;try{for(var f,g=this.axes[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.setMinPx(a)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}},{key:"setMaxPx",value:function(a){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setMaxPx",this).call(this,a);var c=!0,d=!1,e=void 0;try{for(var f,g=this.axes[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.setMaxPx(a)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}},{key:"setShift",value:function(){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setShift",this).apply(this,arguments);var a=!0,c=!1,d=void 0;try{for(var e,f=this.axes[Symbol.iterator]();!(a=(e=f.next()).done);a=!0){var g=e.value;g.setShift.apply(g,arguments)}}catch(a){c=!0,d=a}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}}},{key:"init",value:function(){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var a=0;return this.axes.map(function(b){a=Math.max(a,b.getAxisPosition())}),a}},{key:"getSubAxis",value:function(a){if(this.axes.length<=a)throw"Impossible to reach axis. Index "+a+" is out of range";return this.axes[a]}},{key:"splitNumber",get:function(){return this._splits.length}}]),b}(a);return b.map(function(a){c.prototype[a]=function(a){return function(){var b=arguments;return this.axes.map(function(c){c[a].apply(c,b)}),this}}(a)}),c},G=function(a){function b(a,c,d){n(this,b);var e=o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return e.topbottom=c,e}return p(b,a),x(b,[{key:"getConstructor",value:function(){return r.default}},{key:"getAxisPosition",value:function(){var a=y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=a,this.getLabel()&&(a+=this.graph.options.fontSize),a}},{key:"drawLabel",value:function(){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var a=y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),a}}]),b}(F(r.default)),H=function(a){function b(a,c,d){return n(this,b),o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return p(b,a),x(b,[{key:"getConstructor",value:function(){return s.default}},{key:"drawLabel",value:function(){y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(a){var b=a;if(this.getLabel()&&this.axes.map(function(c){b=Math.max(c.equalizePosition(a),b)}),this.getLabel())return this.placeLabel(this.left?-b:b),b+this.graph.options.fontSize}}]),b}(F(s.default));t.mix(G,new r.default),t.mix(H,new s.default),b.default=D,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var k=(f(c),e(d)),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},n=function(a){function b(){return h(this,b),i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return j(b,a),l(b,[{key:"init",value:function(a,c){m(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).call(this,a,c)}},{key:"checkHSL",value:function(a){var b={},c=void 0,d=void 0,e=void 0;return(c=a.h||a.hue)?(c<1&&(c=Math.round(360*c)),b.hue=c):b.h=0,(d=a.s||a.saturation)?(d>1&&(d/=100),b.saturation=d):b.saturation=.75,(e=a.lightness||a.l)?(e>1&&(e/=100),b.lightness=e):b.lightness=.5,b}},{key:"buildHSLString",value:function(a){return"hsl( "+Math.round(a.h)+", "+Math.round(100*a.s)+"%, "+Math.round(100*a.l)+"%)"}},{key:"colorizeAll",value:function(a){var b=this,c=void 0,d=void 0;if(a.serieTypes){var e;Array.isArray(a.serieTypes)||(a.serieTypes=[a.serieTypes]),c=(e=this.graph).allSeries.apply(e,g(a.serieTypes))}else c=this.graph.getSeries();if(d=c.length,!a.startingColorHSL){if(!a.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";a.startingColorHSL=this.checkHSL(a.colorHSL)}if(a.endingColorHSL)a.endingColorHSL=Object.assign({},a.startingColorHSL,a.endingColorHSL);else switch(a.affect&&["h","s","l","hue","saturation","lightness"].include(a.affect)||(a.affect="h"),a.affect){case"h":case"hue":a.endingColorHSL={h:a.startingColorHSL.h+300,s:a.startingColorHSL.s,l:a.startingColorHSL.l};break;case"saturation":case"s":var f=void 0;f=a.startingColorHSL.s>.5?0:1,a.endingColorHSL={h:a.startingColorHSL.h,s:f,l:a.startingColorHSL.l};break;case"lightness":case"l":var h=void 0;h=a.startingColorHSL.l>.5?0:.75,a.endingColorHSL={h:a.startingColorHSL.h,s:a.startingColorHSL.s,l:h}}return c.map(function(c,e){if(!c.setLineColor)throw"The serie "+c.getName()+" does not implement the method `startingColor`";var f=b.buildHSLString({h:a.startingColorHSL.h+e/(d-1)*(a.endingColorHSL.h-a.startingColorHSL.h),s:a.startingColorHSL.s+e/(d-1)*(a.endingColorHSL.s-a.startingColorHSL.s),l:a.startingColorHSL.l+e/(d-1)*(a.endingColorHSL.l-a.startingColorHSL.l)});return c.setLineColor(f),f})}}],[{key:"default",value:function(){return{}}}]),b}(k.default);b.default=n,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(337)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=(f(c),e(d)),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},m=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),k(b,[{key:"init",value:function(a,c){l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"init",this).call(this,a,c),this.picks=[];for(var d=0,e=this.options.autoPeakPickingNb;d<e;d++){var f=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});f.draw(),this.picks.push(f)}}},{key:"setSerie",value:function(a){this.serie=a}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var a=!0,b=!1,c=void 0,d=[],e=this.serie.getWaveform();if(!e)throw"The serie must have a waveform for the peak picking to work";for(var f=e.getLength(),g=0,h=void 0;g<f;g++)h=e.getY(g),this.serie.options.lineToZero?d.push([e.getX(g),h]):c?h>=c[1]&&a||h<=c[1]&&b?c=[e.getX(g),h]:(h<c[1]&&a||h>c[1]&&b)&&(b?(b=!1,a=!0):(b=!0,a=!1,d.push(c),c=!1),c=[e.getX(g),h]):c=[e.getX(g),h];var i,j,j,k,l,m,n=d,o=[],p=n.length;g=0;var q=this.graph.selectedShapes.map(function(a){return a.getProp("xval")});for(n.sort(function(a,b){return b[1]-a[1]}),l=0;g<p;g++)if(i=n[g][0],j=this.serie.getX(i),k=0,h=this.serie.getY(n[g][1]),!(j<this.serie.getXAxis().getMinPx()||j>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(h>this.serie.getYAxis().getMinPx()||h<this.serie.getYAxis().getMaxPx()))){for(;k<o.length&&!(Math.abs(o[k]-j)<this.options.autoPeakPickingMinDistance);k++);if(!(k<o.length))if((m=q.indexOf(i))>-1)o.push(j);else{if(!this.picks[l])return;for(this.serie.getYAxis().getPx(n[g][1])-20<0?(this.picks[l].setLabelPosition({x:i,y:"5px"}),this.picks[l].setLabelBaseline("hanging")):(this.picks[l].setLabelBaseline("no-change"),this.picks[l].setLabelPosition({x:i,y:n[g][1],dy:"-15px"})),this.picks[l].setProp("xval",i),this.options.autoPeakPickingFormat?this.picks[l].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[l],i,l)):this.picks[l].setLabelText(String(Math.round(1e3*i)/1e3)),this.picks[l].makeLabels(),l++;this.picks[l]&&this.picks[l].isSelected();)l++;if(o.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(a){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=a),graph.picks)for(var b=0;b<graph.picks.length;b++)graph.picks[b].hide()}},{key:"showPeakPicking",value:function(a){if((!this._hidePeakPickingLocked||a)&&graph.picks)for(var b=0;b<graph.picks.length;b++)graph.picks[b].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var a=0,b=this.picks.length;a<b;a++)this.picks[a].kill()}}],[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}]),b}(j.default);b.default=m,a.exports=b.default})},function(a,b,c){var d,e,f;!function(g,h){e=[a,b,c(301),c(325)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=(f(c),e(d)),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),k(b,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var a=this.computePosition(0);this.setDom("cx",a.x||0),this.setDom("cy",a.y||0);var b=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),c=this.calculatePosition(b);return this.setDom("rx",Math.abs(c.x)||0),this.setDom("ry",Math.abs(c.y)||0),!0}},{key:"setR",value:function(a,b){return this.setProp("rx",a),this.setProp("ry",b),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(a,b,c,d,e){}}]),b}(j.default);b.default=l,a.exports=b.default})}])});