/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.1.11, Date: 2019-01-28T21:11Z */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}("undefined"!=typeof self?self:this,function(){return function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=144)}([function(t,e,i){var g=i(2),y=i(19),v=i(12),m=i(13),x=i(20),b="prototype",k=function(t,e,i){var n,r,s,o,a=t&k.F,u=t&k.G,h=t&k.S,l=t&k.P,c=t&k.B,f=u?g:h?g[e]||(g[e]={}):(g[e]||{})[b],p=u?y:y[e]||(y[e]={}),d=p[b]||(p[b]={});for(n in u&&(i=e),i)s=((r=!a&&f&&void 0!==f[n])?f:i)[n],o=c&&r?x(s,g):l&&"function"==typeof s?x(Function.call,s):s,f&&m(f,n,s,t&k.U),p[n]!=s&&v(p,n,o),l&&d[n]!=s&&(d[n]=s)};g.core=y,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128,t.exports=k},function(t,e,i){var n=i(4);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n,r,s;r=[e],void 0===(s="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributeTo=function(t,e,i){var n;if(i)for(n in e)t.setAttributeNS(i,n,e[n]);else for(n in e)t.setAttribute(n,e[n])},t.mapEventEmission=function(e,i){i||(i=this);var n;for(var t in e)0==t.indexOf("on")&&"function"==typeof e[t]&&(n=(n=t.substring(2)).substring(0,1).toLowerCase()+n.substring(1),i.on&&function(t){i.on(n,function(){e[t].apply(i,arguments)})}(t))},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},t.throwError=function(t){console.error(t)},t.warn=function(t){console.warn(t)},t.isNumeric=function(t){return!Array.isArray(t)&&0<=t-parseFloat(t)+1},t.hue2rgb=u,t.hslToRgb=function(t,e,i){var n,r,s;if(0==e)n=r=s=i;else{var o=i<.5?i*(1+e):i+e-i*e,a=2*i-o;n=u(a,o,t+1/3),r=u(a,o,t),s=u(a,o,t-1/3)}return[Math.round(255*n),Math.round(255*r),Math.round(255*s)]},t.saveDomAttributes=function(t,e,i){if(!t)return;t._savedAttributesIds=t._savedAttributesIds||[],-1<t._savedAttributesIds.indexOf(i)&&r(t,i);for(var n in t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i),e)t._savedAttributes[n]||(t._savedAttributes[n]=t.getAttribute(n)),t.setAttribute(n,e[n])},t.hasSavedAttribute=n,t.overwriteDomAttribute=function(t,e,i){n(t,e)&&(t._savedAttributes[e]=i)},t.restoreDomAttributes=r,t.debounce=function(n,r,s){var o;return function(){var t=this,e=arguments,i=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||n.apply(t,e)},r),i&&n.apply(t,e)}},t.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},t.reverseArray=function(t){var e=null,i=null,n=t.length;for(e=0,i=n-1;e<i;e+=1,i-=1){var r=t[e];t[e]=t[i],t[i]=r}return t},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},t.setCSS=function(t,e){var i=t.style;for(var n in e)i[n]=e[n]},t.ajaxGet=function(r){return new Promise(function(e,i){var n=new XMLHttpRequest;n.open(r.type||"GET",r.url,!0),r.json&&n.setRequestHeader("Accept","application/json"),n.onload=function(){if(200===n.status){var t=n.responseText;r.json&&(t=JSON.parse(t)),e(t)}else i(new Error("Request error: "+n.status))},n.onerror=function(){i(new Error("Network error: "+n.status))},n.send()})},t.extend=function t(){var e,i,n,r,s,o;var a=arguments[0];var u=1;var h=arguments.length;var l=!1;"boolean"==typeof a?(l=a,a=arguments[1]||{},u=2):("object"!==(void 0===a?"undefined":c(a))&&"function"!=typeof a||null==a)&&(a={});for(;u<h;++u)if(null!=(e=arguments[u]))for(i in e)n=a[i],r=e[i],a!==r&&(l&&r&&(p(r)||(s=f(r)))?(s?(s=!1,o=n&&f(n)?n:[]):o=n&&p(n)?n:{},a[i]=t(l,o,r)):void 0!==r&&(a[i]=r));return a},t.mix=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},t.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function u(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function n(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function r(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var n in t._savedAttributes)i[n]=t._savedAttributes[n];n=0;for(var r=t._savedAttributesIds.length;n<r;n++)for(var s in t._attributes[t._savedAttributesIds[n]])i[s]=t._attributes[t._savedAttributesIds[n]][s];for(var s in i)t.setAttribute(s,i[s])}}var s=Object.prototype.hasOwnProperty,o=Object.prototype.toString,f=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},p=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,i=s.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&s.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!n)return!1;for(e in t);return void 0===e||s.call(t,e)};t.default={},t.isArray=f,t.isPlainObject=p})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n=i(56)("wks"),r=i(36),s=i(2).Symbol,o="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=o&&s[t]||(o?s:r)("Symbol."+t))}).store=n},function(t,e,i){t.exports=!i(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(1),r=i(105),s=i(23),o=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(25),r=Math.min;t.exports=function(t){return 0<t?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(24);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(8),r=i(35);t.exports=i(7)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var s=i(2),o=i(12),a=i(15),u=i(36)("src"),n="toString",r=Function[n],h=(""+r).split(n);i(19).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,i,n){var r="function"==typeof i;r&&(a(i,"name")||o(i,"name",e)),t[e]!==i&&(r&&(a(i,u)||o(i,u,t[e]?""+t[e]:h.join(String(e)))),t===s?t[e]=i:n?t[e]?t[e]=i:o(t,e,i):(delete t[e],o(t,e,i)))})(Function.prototype,n,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,e,i){var n=i(0),r=i(3),o=i(24),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(e,t){var i={};i[e]=t(s),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",i)}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(50),r=i(24);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(51),r=i(35),s=i(16),o=i(23),a=i(15),u=i(105),h=Object.getOwnPropertyDescriptor;e.f=i(7)?h:function(t,e){if(t=s(t),e=o(e,!0),u)try{return h(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(15),r=i(10),s=i(77)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e,i){var s=i(11);t.exports=function(n,r,t){if(s(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var n=i(3);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e,i){var r=i(0),s=i(19),o=i(3);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],n={};n[t]=e(i),r(r.S+r.F*o(function(){i(1)}),"Object",n)}},function(t,e,i){var x=i(20),b=i(50),k=i(10),_=i(9),n=i(94);t.exports=function(c,t){var f=1==c,p=2==c,d=3==c,g=4==c,y=6==c,v=5==c||y,m=t||n;return function(t,e,i){for(var n,r,s=k(t),o=b(s),a=x(e,i,3),u=_(o.length),h=0,l=f?m(t,u):p?m(t,0):void 0;h<u;h++)if((v||h in o)&&(r=a(n=o[h],h,s),c))if(f)l[h]=r;else if(r)switch(c){case 3:return!0;case 5:return n;case 6:return h;case 2:l.push(n)}else if(g)return!1;return y?-1:d||g?g:l}}},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=a(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),h(e,[{key:"init",value:function(t,e){var i=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),(this.group.jsGraphIsShape=this).classes=[],this.transforms=[],this._data.masker){var n=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),n.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),n.appendChild(this.maskDomWrapper);var r=this._dom.cloneNode();n.appendChild(r),this.maskDom=r,this.graph.defs.appendChild(n)}return this.group&&(this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),this.group.addEventListener("mouseover",function(t){i.handleMouseOver(t)}),this.group.addEventListener("mouseout",function(t){i.handleMouseOut(t)}),this.group.addEventListener("mousedown",function(t){i.graph.focus(),i.handleMouseDown(t)}),this.group.addEventListener("click",this.handleClick.bind(this)),this.group.addEventListener("dblclick",function(t){i.handleDblClick(t)})),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(t){this._inDom&&!t&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden||(this.hidden=!0,this.isHTML()?this._dom.style.display="none":this.group.style.display="none"),this}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden&&(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw()),this}},{key:"addClass",value:function(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}},{key:"removeClass",value:function(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}},{key:"setEventReceptacle",value:function(){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}},{key:"setSerie",value:function(t){if(t){if(!(this.serie=t).getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){this.yAxis=t}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(t){return this.setProp("layer",t),this}},{key:"getLayer",value:function(){var t=this.getProp("layer");return void 0!==t?t:1}},{key:"draw",value:function(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms()):this.updateLabels(),this)}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,n=this.properties.position.length;i<n;i++){var r=u.default.check(this.properties.position[i],function(t){return e.getRelativePosition(t)});this.properties.position[i]=r}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}},{key:"getProperties",value:function(t){return this.properties}},{key:"setProp",value:function(t,e,i){return this.properties=this.properties||{},this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e,this.emit("propertyChanged",t),this}},{key:"getProp",value:function(t,e){return Array.isArray(this.properties[t]||[])?(this.properties[t]||[])[e||0]:this.properties[t]}},{key:"getProps",value:function(t,e){return this.properties[t]||[]}},{key:"addProp",value:function(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}},{key:"resetProp",value:function(t){this.properties[t]=[]}},{key:"setDom",value:function(t,e,i){this._dom&&(i&&o.hasSavedAttribute(this._dom,t)||this._dom.setAttribute(t,e))}},{key:"setDomGroup",value:function(t,e){this.group&&this.group.setAttribute(t,e)}},{key:"setStrokeColor",value:function(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(t){return this.setProp("attributes",t),this}},{key:"overwriteSavedProp",value:function(t,e){o.overwriteDomAttribute(this._dom,t,e)}},{key:"addAttribute",value:function(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}},{key:"addTransform",value:function(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelText",t,e),this}},{key:"setLabelData",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.setProp("labelData",e,i),this}},{key:"getLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.getProp("labelText",e)}},{key:"displayLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!0,t),this}},{key:"hideLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!1,t),this}},{key:"setLabelColor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelColor",t,e),this}},{key:"setLabelFontSize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelFontSize",t,e),this}},{key:"getLabelPosition",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.getProp("labelPosition",t)}},{key:"setLabelPosition",value:function(t,e){var i=u.default.check(t,function(t){return(void 0).getRelativePosition(t)});return this.setProp("labelPosition",i,e||0),this}},{key:"setLabelAngle",value:function(t,e){return this.setProp("labelAngle",t,e||0),this}},{key:"setLabelBaseline",value:function(t,e){return this.setProp("labelBaseline",t,e||0),this}},{key:"setLabelAnchor",value:function(t,e){return this.setProp("labelAnchor",t,e||0),this}},{key:"setLabelSize",value:function(t,e){return this.setProp("labelSize",t,e||0),this}},{key:"setLabelStrokeColor",value:function(t,e){return this.setProp("labelStrokeColor",t,e||0),this}},{key:"setLabelStrokeWidth",value:function(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}},{key:"setLabelBackgroundColor",value:function(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}},{key:"setLabelBackgroundOpacity",value:function(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var n in t[e])this.setDom(n,"function"==typeof t[e][n]?t[e][n].call(this,n):t[e][n],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(t){var e;if(e=t instanceof u.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(t){var e=this.getProp("position",t||0);return this.setProp("position",e=u.default.check(e),t),e}},{key:"setPosition",value:function(t,e){var i=this,n=u.default.check(t,function(t){return i.getRelativePosition(t)});return this.setProp("position",n,e||0)}},{key:"sortPositions",value:function(t){return this.getProps("position").sort(t),this}},{key:"_applyTransforms",value:function(){var t=this.getProps("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){e+=t[i].type+"(";var n=void 0;switch(t[i].type){case"translate":if(t[i].arguments)n=t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());else n=u.default.check(t[i].value).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());e+=n.x||n.dx||0,e+=", ",e+=n.y||n.dy||0;break;case"rotate":if(t[i].arguments)if(e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length)e+=(s=this.computePosition(0)).x+", "+s.y;else e+=u.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=u.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px","");else if(e+=t[i].angle,t[i].center){console.log(u.default.check(t[i].center));var r=u.default.check(t[i].center).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());r.x==r.x&&r.y==r.y&&(e+=", ",e+=r.x,e+=", ",e+=r.y)}else{var s;e+=", "+(s=this.computePosition(0)).x+", "+s.y}}e+=") "}return this.setDomGroup("transform",e),this}}},{key:"makeLabels",value:function(){var e=this;this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(t){e.group.removeChild(t)}),this._labelsBackground.map(function(t){e.group.removeChild(t)}),this._labels=[],this._labelsBackground[t]=[];for(var t=0;void 0!==this.getProp("labelText",t)&&(this._labels[t]||(this._labels[t]=document.createElementNS(this.graph.ns,"text"),this._labels[t].setAttribute("data-label-i",t),(this._labels[t].jsGraphIsShape=this)._labelsBackground[t]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[t].setAttribute("data-label-i",t),(this._labelsBackground[t].jsGraphIsShape=this).group.appendChild(this._labelsBackground[t]),this.group.appendChild(this._labels[t]),this._labels[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)}),this._labelsBackground[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)})),Array.isArray(this.getProp("labelText",t)));)t++;return this.updateLabels(),this}},{key:"isLabelEditable",value:function(t){return this.getProp("labelEditable",t||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}},{key:"_applyLabelData",value:function(t){if(t=t||0,!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(u.default.check(this.getProp("labelPosition",t)));if(!isNaN(e.x)&&!isNaN(e.y)&&!1!==e.y&&!1!==e.x){"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var n=this._labels[t].getAttribute("x"),r=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform","rotate("+i+" "+n+" "+r+")")}var s=this.getProp("labelHTMLData",t)||{};for(var o in s)this._labels[t].setAttribute(o,s[o]),this._labelsBackground[t].setAttribute(o,s[o]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this._labels[t].setAttribute("font-size",this.getProp("labelSize",t)+"px"||"12px"),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"0px"),this._labels[t].setAttribute("stroke-location","outside");var a=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",a.x),this._labelsBackground[t].setAttribute("y",a.y),this._labelsBackground[t].setAttribute("width",a.width),this._labelsBackground[t].setAttribute("height",a.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}},{key:"_getLabelAnchor",value:function(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";case"left":default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}},{key:"addHandles",value:function(){if(!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];o.saveDomAttributes(this._dom,e,"select")}}},{key:"_unselect",value:function(t){this._selectStatus=!1,o.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(t){return this.selectStyle=t,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(t){this.setProp("staticHandles",t)}},{key:"hasStaticHandles",value:function(t){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(t,r,s,o){var a=this;if(!(this.handles&&0<this.handles.length)){for(var e=1,i=t;e<=i;e++)(function(e){var i=a,t=document.createElementNS(i.graph.ns,r);if(t.jsGraphIsShape=!0,s)for(var n in s)t.setAttribute(n,s[n]);t.addEventListener("mousedown",function(t){i.isResizable()&&(t.preventDefault(),t.stopPropagation(),i.graph.emit("beforeShapeResize",i),a.emit("beforeShapeResize"),i.graph.prevent(!1)||(i.resizing=!0,i.handleSelected=e,i.handleMouseDown(t)))}),o&&o(i.handles[e]),i.handles[e]=t}).call(this,e);return this.handles}}},{key:"createHandles",value:function(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0,this.moved=!1))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}},{key:"handleClick",value:function(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}},{key:"handleMouseMove",value:function(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;this.moved=!0;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),n=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);return 0==i&&0===n||(this.preventUnselect=!0),this._mouseCoords=e,this.handleMouseMoveImpl(t,i,n,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}},{key:"handleMouseUp",value:function(t){return this.moving&&this.moved&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}},{key:"handleDblClick",value:function(t){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(t){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),o.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}},{key:"unHighlight",value:function(t){return t||(t="highlight"),o.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(t){return this._highlightAttributes=t,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(t){var e=t.getMaskingID();e?this._dom.setAttribute("mask","url(#"+e+")"):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){}},{key:"labelDblClickListener",value:function(t){var i=parseInt(t.target.getAttribute("data-label-i")),n=this;if(!isNaN(i)&&this.isLabelEditable(i)){t.preventDefault(),t.stopPropagation();var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("value",n.getProp("labelText",i)),n.graph.wrapper.prepend(r),r.select(),o.setCSS(r,{position:"absolute",marginTop:parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});var s=n.getLabelText(i),e=function t(){n.setLabelText(r.value,i),n._labels[i].textContent=r.value;var e=r.value;r.remove(),r.removeEventListener("blur",t),r=!1,n.changed("shapeLabelChanged",{previousValue:s,nextValue:e})};r.addEventListener("blur",e),r.addEventListener("keyup",function(t){13===t.keyCode&&e()}),r.addEventListener("keypress",function(t){t.stopPropagation()}),r.addEventListener("keydown",function(t){t.stopPropagation()}),r.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(t){return this._forcedParentDom=t,this}},{key:"isHTML",value:function(){return!1}}]),e}();l.prototype.computePosition=l.prototype.calculatePosition,l.prototype.showLabel=l.prototype.displayLabel,l.prototype.remove=l.prototype.kill,e.default=l,t.exports=e.default},r=[t,e,i(53),i(5),i(54)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e.options=Object.assign({},i.default(),e.constructor.default(),t),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r.default),s(i,null,[{key:"default",value:function(){return{}}}]),s(i,[{key:"init",value:function(t){this.graph=t}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),i}();e.default=o,t.exports=e.default},r=[t,e,i(54)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){"use strict";if(i(7)){var v=i(33),m=i(2),x=i(3),b=i(0),k=i(67),n=i(100),f=i(20),_=i(42),r=i(35),M=i(12),s=i(44),o=i(25),w=i(9),S=i(131),a=i(38),u=i(23),h=i(15),A=i(52),P=i(4),p=i(10),d=i(91),C=i(39),L=i(18),O=i(40).f,g=i(93),l=i(36),c=i(6),y=i(27),E=i(57),T=i(64),X=i(96),D=i(47),j=i(61),N=i(41),I=i(95),Y=i(121),F=i(8),B=i(17),H=F.f,W=B.f,R=m.RangeError,z=m.TypeError,V=m.Uint8Array,G="ArrayBuffer",U="Shared"+G,Z="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=n.ArrayBuffer,Q=n.DataView,$=y(0),tt=y(2),et=y(3),it=y(4),nt=y(5),rt=y(6),st=E(!0),ot=E(!1),at=X.values,ut=X.keys,ht=X.entries,lt=K.lastIndexOf,ct=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,gt=K.slice,yt=K.toString,vt=K.toLocaleString,mt=c("iterator"),xt=c("toStringTag"),bt=l("typed_constructor"),kt=l("def_constructor"),_t=k.CONSTR,Mt=k.TYPED,wt=k.VIEW,St="Wrong length!",At=y(1,function(t,e){return Et(T(t,t[kt]),e)}),Pt=x(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ct=!!V&&!!V[q].set&&x(function(){new V(1).set({})}),Lt=function(t,e){var i=o(t);if(i<0||i%e)throw R("Wrong offset!");return i},Ot=function(t){if(P(t)&&Mt in t)return t;throw z(t+" is not a typed array!")},Et=function(t,e){if(!(P(t)&&bt in t))throw z("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Xt(T(t,t[kt]),e)},Xt=function(t,e){for(var i=0,n=e.length,r=Et(t,n);i<n;)r[i]=e[i++];return r},Dt=function(t,e,i){H(t,e,{get:function(){return this._d[i]}})},jt=function(t){var e,i,n,r,s,o,a=p(t),u=arguments.length,h=1<u?arguments[1]:void 0,l=void 0!==h,c=g(a);if(null!=c&&!d(c)){for(o=c.call(a),n=[],e=0;!(s=o.next()).done;e++)n.push(s.value);a=n}for(l&&2<u&&(h=f(h,arguments[2],2)),e=0,i=w(a.length),r=Et(this,i);e<i;e++)r[e]=l?h(a[e],e):a[e];return r},Nt=function(){for(var t=0,e=arguments.length,i=Et(this,e);t<e;)i[t]=arguments[t++];return i},It=!!V&&x(function(){vt.call(new V(1))}),Yt=function(){return vt.apply(It?gt.call(Ot(this)):Ot(this),arguments)},Ft={copyWithin:function(t,e){return Y.call(Ot(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return it(Ot(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return I.apply(Ot(this),arguments)},filter:function(t){return Tt(this,tt(Ot(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return nt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return rt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){$(Ot(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return ot(Ot(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return st(Ot(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return pt.apply(Ot(this),arguments)},lastIndexOf:function(t){return lt.apply(Ot(this),arguments)},map:function(t){return At(Ot(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return ct.apply(Ot(this),arguments)},reduceRight:function(t){return ft.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,i=Ot(e).length,n=Math.floor(i/2),r=0;r<n;)t=e[r],e[r++]=e[--i],e[i]=t;return e},some:function(t){return et(Ot(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return dt.call(Ot(this),t)},subarray:function(t,e){var i=Ot(this),n=i.length,r=a(t,n);return new(T(i,i[kt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,w((void 0===e?n:a(e,n))-r))}},Bt=function(t,e){return Tt(this,gt.call(Ot(this),t,e))},Ht=function(t){Ot(this);var e=Lt(arguments[1],1),i=this.length,n=p(t),r=w(n.length),s=0;if(i<r+e)throw R(St);for(;s<r;)this[e+s]=n[s++]},Wt={entries:function(){return ht.call(Ot(this))},keys:function(){return ut.call(Ot(this))},values:function(){return at.call(Ot(this))}},Rt=function(t,e){return P(t)&&t[Mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return Rt(t,e=u(e,!0))?r(2,t[e]):W(t,e)},Vt=function(t,e,i){return!(Rt(t,e=u(e,!0))&&P(i)&&h(i,"value"))||h(i,"get")||h(i,"set")||i.configurable||h(i,"writable")&&!i.writable||h(i,"enumerable")&&!i.enumerable?H(t,e,i):(t[e]=i.value,t)};_t||(B.f=zt,F.f=Vt),b(b.S+b.F*!_t,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Vt}),x(function(){yt.call({})})&&(yt=vt=function(){return pt.call(this)});var Gt=s({},Ft);s(Gt,Wt),M(Gt,mt,Wt.values),s(Gt,{slice:Bt,set:Ht,constructor:function(){},toString:yt,toLocaleString:Yt}),Dt(Gt,"buffer","b"),Dt(Gt,"byteOffset","o"),Dt(Gt,"byteLength","l"),Dt(Gt,"length","e"),H(Gt,xt,{get:function(){return this[Mt]}}),t.exports=function(t,c,e,s){var f=t+((s=!!s)?"Clamped":"")+"Array",i="get"+t,o="set"+t,p=m[f],a=p||{},n=p&&L(p),r=!p||!k.ABV,u={},h=p&&p[q],d=function(t,r){H(t,r,{get:function(){return t=r,(e=this._d).v[i](t*c+e.o,Pt);var t,e},set:function(t){return e=r,i=t,n=this._d,s&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void n.v[o](e*c+n.o,i,Pt);var e,i,n},enumerable:!0})};r?(p=e(function(t,e,i,n){_(t,p,f,"_d");var r,s,o,a,u=0,h=0;if(P(e)){if(!(e instanceof J||(a=A(e))==G||a==U))return Mt in e?Xt(p,e):jt.call(p,e);r=e,h=Lt(i,c);var l=e.byteLength;if(void 0===n){if(l%c)throw R(St);if((s=l-h)<0)throw R(St)}else if(l<(s=w(n)*c)+h)throw R(St);o=s/c}else o=S(e),r=new J(s=o*c);for(M(t,"_d",{b:r,o:h,l:s,e:o,v:new Q(r)});u<o;)d(t,u++)}),h=p[q]=C(Gt),M(h,"constructor",p)):x(function(){p(1)})&&x(function(){new p(-1)})&&j(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=e(function(t,e,i,n){var r;return _(t,p,f),P(e)?e instanceof J||(r=A(e))==G||r==U?void 0!==n?new a(e,Lt(i,c),n):void 0!==i?new a(e,Lt(i,c)):new a(e):Mt in e?Xt(p,e):jt.call(p,e):new a(S(e))}),$(n!==Function.prototype?O(a).concat(O(n)):O(a),function(t){t in p||M(p,t,a[t])}),p[q]=h,v||(h.constructor=p));var l=h[mt],g=!!l&&("values"==l.name||null==l.name),y=Wt.values;M(p,bt,!0),M(h,Mt,f),M(h,wt,!0),M(h,kt,p),(s?new p(1)[xt]==f:xt in h)||H(h,xt,{get:function(){return f}}),u[f]=p,b(b.G+b.W+b.F*(p!=a),u),b(b.S,f,{BYTES_PER_ELEMENT:c}),b(b.S+b.F*x(function(){a.of.call(p,1)}),f,{from:jt,of:Nt}),Z in h||M(h,Z,c),b(b.P,f,Ft),N(f),b(b.P+b.F*Ct,f,{set:Ht}),b(b.P+b.F*!g,f,Wt),v||h.toString==yt||(h.toString=yt),b(b.P+b.F*x(function(){new p(1).slice()}),f,{slice:Bt}),b(b.P+b.F*(x(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!x(function(){h.toLocaleString.call([1,2])})),f,{toLocaleString:Yt}),D[f]=g?l:y,v||g||M(h,mt,y)}}else t.exports=function(){}},function(t,e,i){var s=i(126),n=i(0),r=i(56)("metadata"),o=r.store||(r.store=new(i(129))),a=function(t,e,i){var n=o.get(t);if(!n){if(!i)return;o.set(t,n=new s)}var r=n.get(e);if(!r){if(!i)return;n.set(e,r=new s)}return r};t.exports={store:o,map:a,has:function(t,e,i){var n=a(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=a(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){a(i,n,!0).set(t,e)},keys:function(t,e){var i=a(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){n(n.S,"Reflect",t)}}},function(t,e,i){var n=i(36)("meta"),r=i(4),s=i(15),o=i(8).f,a=0,u=Object.isExtensible||function(){return!0},h=!i(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,n,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!s(t,n)&&l(t),t}}},function(t,e){t.exports=!1},function(t,e,i){var n=i(6)("unscopables"),r=Array.prototype;null==r[n]&&i(12)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(107),r=i(78);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(25),r=Math.max,s=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):s(t,e)}},function(t,e,n){var r=n(1),s=n(108),o=n(78),a=n(77)("IE_PROTO"),u=function(){},h="prototype",l=function(){var t,e=n(75)("iframe"),i=o.length;for(e.style.display="none",n(79).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[h][o[i]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(u[h]=r(t),i=new u,u[h]=null,i[a]=t):i=l(),void 0===e?i:s(i,e)}},function(t,e,i){var n=i(107),r=i(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(2),r=i(8),s=i(7),o=i(6)("species");t.exports=function(t){var e=n[t];s&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var f=i(20),p=i(119),d=i(91),g=i(1),y=i(9),v=i(93),m={},x={};(e=t.exports=function(t,e,i,n,r){var s,o,a,u,h=r?function(){return t}:v(t),l=f(i,n,e?2:1),c=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(d(h)){for(s=y(t.length);c<s;c++)if((u=e?l(g(o=t[c])[0],o[1]):l(t[c]))===m||u===x)return u}else for(a=h.call(t);!(o=a.next()).done;)if((u=p(a,l,o.value,e))===m||u===x)return u}).BREAK=m,e.RETURN=x},function(t,e,i){var r=i(13);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},function(t,e,i){var n=i(8).f,r=i(15),s=i(6)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){var o=i(0),n=i(24),a=i(3),u=i(81),r="["+u+"]",s=RegExp("^"+r+r+"*"),h=RegExp(r+r+"*$"),l=function(t,e,i){var n={},r=a(function(){return!!u[t]()||"​"!="​"[t]()}),s=n[t]=r?e(c):u[t];i&&(n[i]=s),o(o.P+o.F*r,"String",n)},c=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,i){var n=i(4);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=u(n),a=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var l=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var c=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};var f={markers:!1,lineColor:"black",lineStyle:1,flip:!1,label:"",lineWidth:1,trackMouse:!1,trackMouseLabel:!1,trackMouseLabelRouding:1,lineToZero:!1,selectableOnClick:!1,overflowX:!1,overflowY:!1},p=function(t){function s(t,e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,i,o.extend(!0,{},f,n)));return r.selectionType="unselected",r._type="line",o.mapEventEmission(r.options,r),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth},r.styles.selected={lineWidth:3},r.shown=!0,r.data=[],r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupLines=document.createElementNS(r.graph.ns,"g"),r.domMarker=document.createElementNS(r.graph.ns,"path"),r.domMarker.style?r.domMarker.style.cursor="pointer":r.domMarker.style={cursor:"pointer"},r.additionalData={},r.marker=document.createElementNS(r.graph.ns,"circle"),r.marker.setAttribute("fill","black"),r.marker.setAttribute("r",3),r.marker.setAttribute("display","none"),r.markerLabel=document.createElementNS(r.graph.ns,"text"),r.markerLabelSquare=document.createElementNS(r.graph.ns,"rect"),r.markerLabelSquare.setAttribute("fill","white"),r.domMarkerHover={},r.domMarkerSelect={},r.markerHovered=0,r.groupMarkerSelected=document.createElementNS(r.graph.ns,"g"),r.markerPoints={},r.lines=[],r.groupMain.appendChild(r.groupLines),r.groupMain.appendChild(r.marker),r.groupMain.appendChild(r.groupMarkerSelected),r.groupMain.appendChild(r.markerLabelSquare),r.groupMain.appendChild(r.markerLabel),r.independantMarkers=[],r.initExtended1&&r.initExtended1(),r.groupLines.addEventListener("click",function(t){r.options.selectableOnClick&&(r.isSelected()?r.graph.unselectSerie(r):r.graph.selectSerie(r))}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,a.default),l(s,[{key:"postInit",value:function(){this.extendStyles()}},{key:"setOptions",value:function(t){return this.applyLineStyles(),this}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}},{key:"select",value:function(t){return t=t||"selected",this.selected="unselected"!==t,this.selectionType=t,this.applyLineStyles(),this.applyLineStyle(this.getSymbolForLegend()),c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"select",this).call(this,t),this}},{key:"unselect",value:function(){return this.selected=!1,c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"unselect",this).call(this),this.select("unselected")}},{key:"getSymbolForLegend",value:function(){var t=this._getSymbolForLegendContainer();if(this.lineForLegend)this.applyLineStyle(this.lineForLegend);else{var e=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(e),e.setAttribute("x1",5),e.setAttribute("x2",25),e.setAttribute("y1",0),e.setAttribute("y2",0),e.setAttribute("cursor","pointer"),this.lineForLegend=e,t.appendChild(this.lineForLegend)}return c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"getSymbolForLegend",this).call(this),this.lineForLegend}},{key:"degrade",value:function(t){return this.degradationPx=t,this}},{key:"drawInit",value:function(t){var e=this;try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var i=this.getXAxis(),n=this.graph.getDrawingWidth()*(i.getDataMax()-i.getDataMin())/(i.getCurrentMax()-i.getCurrentMin()),r=this.waveform.selectAggregatedData(n);if(r instanceof Promise)return r.then(function(){e.draw(t)}),!1;if(!1===r)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(t){if(!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"draw",this).call(this),!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.lookForMaxima=!0,this.lookForMinima=!1,this.pos0=this.getYAxis().getPos(0),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertLinesGroup()}for(var e in this.domMarkerHover)this.toggleMarker(e.split(","),!1,!0);for(var e in this.domMarkerSelect)this.toggleMarker(e.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var t,n=this,e=this.waveform,i=void 0,r=void 0,s=!1,o=!1,a=void 0,u=void 0,h=void 0,l=void 0,c=this.getXAxis(),f=this.getYAxis(),p=c.getCurrentMin(),d=f.getCurrentMin(),g=c.getCurrentMax(),y=f.getCurrentMax();if(e){t=e.getData(!0);var v=void 0,m=void 0,x=void 0,b=void 0,k=void 0,_=void 0,M=void 0,w=void 0,S=e.getShift(),A=e.getScale(),P=!1,C=!1,L=void 0,O=this.isMonotoneous(),E=0,T=e.getLength();if(this.currentLine="",e.isXMonotoneous()){if(e.isXMonotoneousAscending())try{E=e.getIndexFromX(p,!0)||0,T=e.getIndexFromX(g,!0)}catch(t){T=e.getLength()}else try{E=e.getIndexFromX(g,!0)||0,T=e.getIndexFromX(p,!0)}catch(t){T=e.getLength()}(T+=2)>t.length&&(T=t.length)}for(;E<T;E+=1)if(i=e.getX(E,!0),r=t[E]*A+S,i==i&&r==r){if(!this.options.overflowX&&i<p&&s<p||!this.options.overflowX&&g<i&&g<s||(!this.options.overflowY&&r<d&&o<d||!this.options.overflowY&&y<r&&y<o)&&!this.options.lineToZero)s=i,o=r,C=!0;else if(this.counter2=E,h=this.getX(i),l=this.getY(r),h!=a||l!=u)if(h==h&&l==l){if(P=O?!this.options.overflowY&&(r<d||y<r):!this.options.overflowX&&(i<p||g<i)||!this.options.overflowY&&(r<d||y<r),this.options.lineToZero){if(P=i<p||g<i)continue}else if(P||C){!1!==s&&!1!==o||C?(L=[],m=r-(v=(i-p)/(i-s))*(r-o),b=r-(x=(i-g)/(i-s))*(r-o),_=i-(k=(r-d)/(r-o))*(i-s),w=i-(M=(r-y)/(r-o))*(i-s),v<1&&0<v&&!1!==m&&m<y&&d<m&&L.push([p,m]),x<1&&0<x&&!1!==b&&b<y&&d<b&&L.push([g,b]),k<1&&0<k&&!1!==_&&_<g&&p<_&&L.push([_,d]),M<1&&0<M&&!1!==w&&w<g&&p<w&&L.push([w,y]),0<L.length?P?C?2==L.length&&(this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(this.getX(L[1][0]),this.getY(L[1][1]),L[0][0],L[0][1],!1,!1,!1)):(1<L.length&&(console.error("Programmation error. Please e-mail me."),console.log(L,w,_,b,m,r,d,y,o)),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1)):(1<L.length&&(console.error("Programmation error. Please e-mail me."),console.log(L,w,_,b,m,r,d,y,o)),this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(h,l,s,o,!1,!1,!0)):P||this._addPoint(h,l,s,o,E,!1,!1)):(a=h,u=l,s=i,o=r),a=h,u=l,s=i,o=r,C=P;continue}this._addPoint(h,l,i,r,E,!1,!0),a=h,u=l,s=i,o=r}else 0<this.counter&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var X=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(X),E=0,T=X.children.length;E<T;E++)X.children[E].setAttribute("stroke","transparent"),X.children[E].setAttribute("stroke-width","25px"),X.children[E].setAttribute("pointer-events","stroke");this._trackerDom=X,this.groupMain.addEventListener("mousemove",function(t){var e=n.graph._getXY(t),i=n.handleMouseMove(!1,!1);n._trackingCallback(n,i,e.x,e.y)}),this.groupMain.addEventListener("mouseleave",function(t){n._trackingOutCallback(n)})}return this}}},{key:"kill",value:function(){c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"kill",this).call(this)}},{key:"_addPoint",value:function(t,e,i,n,r,s,o){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||s?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&(console.log(r,i,n,t,e),this.errorAddPoint(r,i,n,t,e)),this.counter++)}},{key:"_createLine",value:function(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}},{key:"applyLineStyles",value:function(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),this.getFillColor()?t.setAttribute("fill",this.getFillColor()):t.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(t,e){var i=t.zoom||1,n=(e=e||0,[]);switch(t.type){case 2:n=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:n=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:n=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:n=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return n.join(" ");if(n){for(var r=0,s=n.length;r<s;r++)"number"==h(n[r])&&(n[r]*=i+e);return n.join(" ")}}},{key:"searchIndexByPxXY",value:function(t,e){for(var i,n,r,s=!1,o=!1,a=(this._xDataToUse,0),u=this.waveform.getLength();a<u;a+=1)n=this.waveform.getX(a),r=this.waveform.getY(a),i=Math.pow(this.getX(n)-t,2)+Math.pow(this.getY(r)-e,2),(!s||i<s)&&(s=i,o=a);return o}},{key:"searchClosestValue",value:function(t,e){if(this.waveform){var i=void 0;try{i=this.waveform.getIndexFromXY(t,e,void 0,void 0,this.getXAxis().getRelPx(1),this.getYAxis().getRelPx(1))}catch(t){throw console.error(t),new Error("Error while finding the closest index")}if(isNaN(i)||!1===i)return!1;var n={},r=void 0;return r=t>this.waveform.getX(i)?-1:0,Object.assign(n,{indexMin:i+r,indexMax:i+r+1,indexClosest:i,xMin:this.waveform.getX(i+r),xMax:this.waveform.getX(i+r+1),yMin:this.waveform.getY(i+r),yMax:this.waveform.getY(i+r+1),xClosest:this.waveform.getX(i),yClosest:this.waveform.getY(i),xExact:t}),n}}},{key:"handleMouseMove",value:function(t,e,i){var n,r=t||this.getXAxis().getMouseVal(),s=i||this.getYAxis().getMouseVal(),o=this.searchClosestValue(r,s);if(o)return o.xMax==o.xMin&&(n=o.yMin),(!e||!this.options.trackMouse||null!=o.xMin)&&{xBefore:o.xMin,xAfter:o.xMax,yBefore:o.yMin,yAfter:o.yMax,trueX:o.xExact,indexClosest:o.indexClosest,interpolatedY:n,xClosest:o.xClosest,yClosest:o.yClosest}}},{key:"getMax",value:function(t,e){var i,n,r,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=-1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return-1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,n=r;n<=s;n+=2)l=Math.max(l,this.data[i][n+1]);return l}},{key:"getMin",value:function(t,e){var i,n,r,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return 1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,n=r;n<=s;n+=2)l=Math.min(l,this.data[i][n+1]);return l}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"setLineStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected",i=arguments[2];return this.styles[e]=this.styles[e]||{},this.styles[e].lineStyle=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineStyle",value:function(t){return this.getStyle(t).lineStyle}},{key:"getLineDashArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(t).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[t].lineStyle}this.styleHasChanged(t)}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[t]||this.styles.unselected}},{key:"extendStyles",value:function(){for(var t in this.styles){var e=this.styles[t];e&&(this.styles[t]=o.extend(!0,{},this.styles.unselected,e))}}},{key:"extendStyle",value:function(t,e){var i=this.styles[t];this.styles[t]=o.extend(!0,{},this.styles[e||"unselected"],i||{}),this.styleHasChanged(t)}},{key:"setLineWidth",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineWidth=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineWidth",value:function(t){return this.getStyle(t).lineWidth||1}},{key:"setLineColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineColor=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}},{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineColor",value:function(t){return this.getStyle(t).lineColor||"black"}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor||void 0}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}}]),s}();o.mix(p,s.default),e.default=p,t.exports=e.default},r=[t,e,i(5),i(73),i(102)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n=i(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var r=i(21),s=i(6)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:o?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function d(t){return!!(t&&t.indexOf&&-1<t.indexOf("px"))&&parseInt(t.replace("px",""))}var n=function(){function r(t,e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==(void 0===t?"undefined":s(t))?(this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy):(this.x=t,this.y=e,this.dx=i,this.dy=n)}return i(r,[{key:"duplicate",value:function(){return new r(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(t,e,i,n){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,n)}},{key:"_compute",value:function(t,e,i,n){var r=this._relativeTo;if(r)var s=r._compute(t,e,i,n);var o,a={x:!1,y:!1};for(var u in e||(e=t.getXAxis()),i||(i=t.getYAxis()),a){var h="x"==u?e:i,l=this[u],c=this["d"+u];if(void 0===l&&(void 0!==c&&void 0===r||void 0===r)){if("x"==u){if(void 0===c)continue;a[u]=r?r[u]:0}else if(void 0!==this.x&&n)if(!1!==d(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),a[u]=0;else try{if(!(p=n.searchClosestValue(this.x)))throw new Error("Could not find y position for x = "+this.x+' on serie "'+n.getName()+'". Returning 0 for y.');a[u]=n.getY(p.yClosest)}catch(t){console.error(t),a[u]=0}}else void 0!==l&&(a[u]=this.getPx(l,h));if(void 0!==c){var f=void 0!==l||null==s||null==s[u]?a[u]:s[u];if("y"==u&&s&&void 0!==s.x&&null==s.y){if(!n)throw new Error("Error. No serie exists. Cannot find y value");var p;(p=n.searchClosestValue(r.x))&&(f=n.getY(p.yMin))}f||(f=0),!1!==(o=d(c))?a[u]=f+o:!1!==(o=this._parsePercent(c))?a[u]=f+this._getPositionPx(o,!0,h,t):h&&(a[u]=f+h.getRelPx(c))}}return a}},{key:"_getPositionPx",value:function(t,e,i,n){var r;return!1!==(r=d(t))?r:!1!==(r=this._parsePercent(t))?r/100*(e?n.getDrawingWidth():n.getDrawingHeight()):i?i.getPos(t):void 0}},{key:"_parsePercent",value:function(t){return!!(t&&t.indexOf&&-1<t.indexOf("%"))&&t}},{key:"getDeltaPx",value:function(t,e){var i;return!1!==(i=d(t))?i+"px":e.getRelPx(t)+"px"}},{key:"deltaPosition",value:function(t,e,i){var n,r,s=this[t="y"==t?"y":"x"],o=this["d"+t];if(void 0!==s)!1!==(n=d(s))?!1!==(r=d(e))?this[t]=n+r+"px":this[t]=n+i.getRelPx(e)+"px":(s=this.getValPosition(s,i),!1!==(r=d(e))?this[t]=s+i.getRelVal(r):this[t]=s+e);else if(void 0!==o){if("y"==t&&void 0===s&&!this._relativeTo)return;!1!==(n=d(o))?!1!==(r=d(e))?this["d"+t]=n+r+"px":this["d"+t]=n+i.getRelPx(e)+"px":(o=this.getValPosition(o,i),!1!==(r=d(e))?this["d"+t]=o+i.getRelVal(r):this["d"+t]=o+e)}}},{key:"getValPosition",value:function(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}},{key:"getPx",value:function(t,e,i){var n,r;if("function"==typeof t)return t(e,i);if(!1!==(n=d(t)))return n;if(!1!==(n=this._parsePercent(t)))return n;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(i)return e.getRelPx(t);if(r=t,!isNaN(parseFloat(r))&&isFinite(r))return e.getPos(t)}}},{key:"getPxRel",value:function(t,e){return this.getPx(t,e,!0)}},{key:"relativeTo",value:function(t){return this._relativeTo=r.check(t),this}}],[{key:"check",value:function(t,e){if(t instanceof r)return t;var i=new r(t);if(t&&t.relativeTo){var n=e(t.relativeTo);n&&i.relativeTo(n)}return i}}]),r}();e.default=n,t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(){}var n=i.prototype;function s(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function r(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,e){var i,n=this.getListenersAsObject(t),r="object"===(void 0===e?"undefined":a(e));for(i in n)n.hasOwnProperty(i)&&-1===s(n[i],e)&&n[i].push(r?e:{listener:e,once:!1});return this},n.on=r("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=r("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(i=s(r[n],e))&&r[n].splice(i,1);return this},n.off=r("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,r,s=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":a(e))||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?s.call(this,n,r):o.call(this,n,r));return this},n.removeEvent=function(t){var e,i=void 0===t?"undefined":a(t),n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=r("removeEvent"),n.emitEvent=function(t,e){var i,n,r,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].length;n--;)!0===(i=s[r][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=r("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.default=i,t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaveformHash=t.Waveform=void 0;var l=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e),r=o(i),s=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),c=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;u(this,a),this.xOffset=e,this.xScale=i,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.BELOW=a.BELOW,this.ABOVE=a.ABOVE,this.BOX=a.BOX,this.BAR=a.BAR,this.setData(t)}return h(a,[{key:"setData",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(t[0])){var i=[],n=[];t.forEach(function(t){i.push(t[0]),n.push(t[1])}),this.setXWaveform(i),t=n}var r=this._makeArray(t.length),s=!1,o=this.isNaNAllowed();return t.map(function(t,e){o||t[0]==t[0]&&t[1]==t[1]||(s=!0),r[e]=t}),s&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(r),e&&this.setXWaveform(e),this}},{key:"getY",value:function(t,e){return e&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this.data[t]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(t){if(!(t instanceof a)){if(!Array.isArray(t))throw"Cannot set X waveform. Data is not a valid array.";t=new a(t)}return this.xdata=t,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var t=new a,e=0;e<this.getLength();e+=1)t.append(this.getX(e));return t}},{key:"rescaleX",value:function(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn("NaN values are not allowed by the new constructor ("+t.name+") while it was allowed by the previous one ("+this._typedArrayClass.name+")"),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this.data&&this._setData(t.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}},{key:"isNaNAllowed",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Array||t==Float32Array||t==Float64Array}},{key:"isUnsigned",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}},{key:"prepend",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.prepend(null,t):null!==t?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,t)):this.xOffset-=this.xScale,this.data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"append",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.append(null,t):null!==t&&(this.xdata=this.getXWaveform(),this.xdata.append(null,t)),this.monotoneous&&(e>this.data[this.data.y]&&!1===this.getMonotoneousAscending()?this.monotoneous=!1:e<this.data[this.data.y]&&!0===this.getMonotoneousAscending()&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,e==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this.data[0]),this.data.push(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"concat",value:function(t){return this.xdata||(this.xdata=this.getXWaveform()),t.xdata||(t.xdata=t.getXWaveform()),this.data=this.data.concat(t.data),this.xdata.data=this.xdata.data.concat(t.xdata.data),this.checkMonotonicity(),this.xdata.checkMonotonicity(),this.computeXMinMax(),this}},{key:"_makeArray",value:function(t){var e=this.getTypedArrayClass();return e?new e(t):new Array(t)}},{key:"_setData",value:function(t){var e=t.length,i=1,n=t[1]>t[0],r=t[0],s=t[0];for(isNaN(r)&&(r=Number.MAX_VALUE),isNaN(s)&&(s=-Number.MAX_VALUE),this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&n!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(r=Math.min(t[i],r),s=Math.max(t[i],s));this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this.data=t,this.minY=r,this.maxY=s,this.checkMinMaxErrorBars(),this.computeXMinMax()}},{key:"checkMinMaxErrorBars",value:function(){var t=this.minY,e=this.maxY,i=0,n=this.getLength();if(this.hasErrorBars()){for(i=0;i<n;i++)this.data[i]==this.data[i]&&(t=Math.min(t,this.data[i]-this.getMaxError(i,"below")),e=Math.max(e,this.data[i]+this.getMaxError(i,"above")));this.minY=t,this.maxY=e}else this.minY=t,this.maxY=e}},{key:"computeXMinMax",value:function(){if(this.data)if(this.xdata)this.minX=this.xdata.getMin(),this.maxX=this.xdata.getMax();else{var t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round,n=void 0;n=e&&this.dataInUse?this.dataInUse.y:this.data;var r;return r=this.getIndexFromData(t,n,this.data.getMonotoneousAscending(),i),e&&this.dataInUse&&"aggregateY"==this.dataInUseType?r-r%4:r}},{key:"getIndexFromX",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round,n=void 0;e&&this.dataInUse?n=this.dataInUse.x:this.xdata&&(n=this.xdata.getData());var r=void 0;return r=this.hasXWaveform()?this.xdata.getIndexFromData(t,n,this.xdata.getMonotoneousAscending(),i):Math.max(0,Math.min(this.getLength()-1,i((t-this.xOffset)/this.xScale))),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?r-r%4:r}},{key:"getIndexFromXY",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.round,r=arguments[4],s=arguments[5],o=void 0,a=void 0;i&&this.dataInUse?(o=this.dataInUse.x,a=this.dataInUse.y):this.xdata&&(o=this.xdata.data,a=this.data);var u=void 0;if(this.isXMonotoneous()){if(this.getXMin()>t||this.getXMax()<t)return!1;u=this.hasXWaveform()?this.xdata.getIndexFromData(t,o,this.xdata.getMonotoneousAscending(),n):Math.max(0,Math.min(this.getLength()-1,n((t-this.xOffset)/this.xScale)))}else{if(isNaN(e))return;u=this.getIndexFromDataXY(t,o,e,a,r,s)}return i&&this.dataInUse&&"aggregateX"==this.dataInUseType?u-u%4:u}},{key:"getIndexFromDataXY",value:function(t,e,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),function(t,e,i,n){for(var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,o=Number.MAX_VALUE,a=void 0,u=-1,h=0,l=i.length;h<l;h++)(a=Math.pow((t-i[h])*r,2)+Math.pow((e-n[h])*s,2))<o&&(u=h,o=a);return u}(t,i/=this.getScale(),e,n,r,s)}},{key:"getIndexFromData",value:function(t,e,i,n){if(!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return t-=this.getShift(),v(t/=this.getScale(),e,!i)}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getXMax",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getMaxX",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataMaxX",value:function(){return this.maxX}},{key:"getDataMinX",value:function(){return this.minX}},{key:"getDataMaxY",value:function(){return this.maxY}},{key:"getDataMaxY",value:function(){return this.minY}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(t){return t&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.shift=t,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.scale=t,this}},{key:"setXShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform&&this.getXWaveform().setShift(t),this}},{key:"getXShift",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform&&this.getXWaveform().setScale(t),this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data.length}},{key:"getDataToUseFlat",value:function(){var t=void 0,e=0,i=void 0;if(this.dataInUse){t=this.dataInUse.x.length,i=new Array(2*t).fill(0);for(var n=0;n<t;n+=1)i[e]=this.dataInUse.x[n],i[e+1]=this.dataInUse.y[n],e+=2}else{t=this.getLength(),i=new Array(2*t).fill(0);for(n=0;n<t;n+=1)i[e+1]=this.data[n],i[e]=this.getX(n),e+=2}return i}},{key:"fit",value:function(n){var r=this;return new Promise(function(e,t){var i=new s.default(l.extend({},{dataY:r,dataX:r.getXWaveform(),done:function(t){e(t)},waveform:new a},n));i.init(),i.fit()})}},{key:"getX",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}},{key:"getXRaw",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]:this.xdata?this.xdata.data[t]:t}},{key:"_integrateP",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if(t=Math.round(t),(e=Math.round(e))<t){var i=t;t=e,e=i}for(var n=e-t+1,r=0,s=0,o=void 0,a=this.getData();t<=e;t++)a.length-1>t&&(s+=o=this.getX(t+1)-this.getX(t),r+=a[t]*o);return[r,n,s]}},{key:"integrateP",value:function(t,e){return this._integrateP(t,e)[0]}},{key:"integrate",value:function(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}},{key:"average",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(t,e)}},{key:"mean",value:function(){return this.average()}},{key:"stddev",value:function(){for(var t=0,e=0,i=this.mean(),n=0;n<this.getLength();n++)t+=Math.pow(this.getY(n)-i,2),e++;return Math.pow(t/e,.5)}},{key:"getAverageP",value:function(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}},{key:"getAverageX",value:function(t,e){var i=this._integrateX(t,e);return i[0]/i[2]}},{key:"checkMonotonicity",value:function(){for(var t=1,e=this.getData(),i=this.data.length,n=e[1]>e[0];t<i;t++)if(e[t]!==e[t-1]&&n!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(t){return(t||this.data).reverse(),this.xdata&&this.xdata.invert(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),this}},{key:"resampleForDisplay",value:function(t){var e=0;this.requireXMonotonicity();var i=!1,n=this.getDataY(),r={x:[],y:[]},s=[],o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0,f=void 0,p=!1,d=0,g=void 0,y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){var v=t.minX;t.minX=t.maxX,t.maxX=v}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(i=!0,e=y);i?0<e:e<y;i?e--:e++)if(g=this.getX(e),t.minX>g)d=e;else if(f=t.xPosition(g),p)if(Math.abs(f-c)>t.resampleToPx||e==y||0==e||isNaN(n[e])){var m=(l+g)/2;if(r.x.push(m),r.y.push(o/h),s.push(m,a,u),void 0!==t.maxX&&g>t.maxX)break;p=!1}else o+=n[e],h++,a=Math.min(a,n[e]),u=Math.max(u,n[e]);else{for(d?(r.x.push(g),r.y.push(n[d])):d=e;isNaN(n[e]);)i?e--:e++;o=a=u=n[d],h=1,c=f,l=g,p=!(d=0)}return this.dataInUseType="resampled",this.dataInUse=r,s}},{key:"interpolate",value:function(t){var e=this.getDataY(),i=void 0;if(this.xdata){var n=this.xdata.getData();try{i=v(t,n,!this.xdata.getMonotoneousAscending())}catch(t){return NaN}return n[i]==t?e[i]:(t-n[i])/(n[i+1]-n[i])*(e[i+1]-e[i])+e[i]}i=(t-this.xOffset)/this.xScale;var r=Math.floor(i);return(i-r)*(e[r+1]-e[r])+e[r]}},{key:"interpolateIndex_X",value:function(t){this.getDataY();if(this.xdata){var e=this.xdata.getData(),i=Math.floor(t);return(t-i)*(e[i+1]-e[i])+e[i]}}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():0<this.xScale}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(t){return this._arithmetic(t,g)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(t){return this._arithmetic(t,f)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function(t){var e=Math.log(t);this.data.map(function(t){return Math.log(t)/e})}},{key:"add",value:function(t){return this._arithmetic(t,p)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(t){return this._arithmetic(t,d)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(t){for(var e=0;e<this.getLength();e++)this.data[e]=t(this.getY(e),this.getX(e));return this._setData(this.data),this}},{key:"_arithmetic",value:function(t,e){return t instanceof a?this._waveArithmetic(t,e):"number"==typeof t?this._numberArithmetic(t,e):void 0}},{key:"_numberArithmetic",value:function(t,e){var i=0,n=this.getLength();if(e==f){for(;i<n;i++)this.data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==g){for(;i<n;i++)this.data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==p){for(;i<n;i++)this.data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==d){for(;i<n;i++)this.data[i]-=t;this.minY-=t,this.maxY-=t}return this}},{key:"_waveArithmetic",value:function(e,i){var n=this,t=this.getDataY(),r=0,s=this.getLength();if(this.requireXMonotonicity(),e.requireXMonotonicity(),this.xdata&&e.xdata){var o=new Set,a=this.xdata.data,u=e.xdata.data;for(r=0;r<a.length;r++)o.add(a[r]);for(r=0;r<u.length;r++)o.add(u[r]);var h=Array.from(o.values()).sort(),l=h.map(function(t){return i==f?n.interpolate(t)*e.interpolate(t):i==g?n.interpolate(t)/e.interpolate(t):i==p?n.interpolate(t)+e.interpolate(t):i==d?n.interpolate(t)-e.interpolate(t):void 0});this._setData(l),this.xdata._setData(h)}else{if(i==f)for(;r<s;r++)t[r]*=e.interpolate(this.getX(r));else if(i==g)for(;r<s;r++)t[r]/=e.interpolate(this.getX(r));else if(i==p)for(;r<s;r++)t[r]+=e.interpolate(this.getX(r));else if(i==d)for(;r<s;r++)t[r]-=e.interpolate(this.getX(r));this._setData(t)}return this}},{key:"aggregate",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=t.toUpperCase();var i=function(t){var e=1;for(;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=(0,r.default)({minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:i,direction:t}).then(function(t){e._dataAggregated=t.aggregates,e._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(t){if(t<2)return!1;var e=function(t){t--;var e=2;for(;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType="aggregate"+this._dataAggregationDirection,void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(t){var e=new a;return e._setData(this.getDataY().slice()),e.rescaleX(this.xOffset,this.xShift),e.setShift(this.getShift()),e.setScale(this.getScale()),this.xdata?(t?e.setXWaveform(this.xdata.duplicate()):e.setXWaveform(this.xdata),e.setXShift(this.getXShift()),e.setXScale(this.getXScale())):(e.xOffset=this.xOffset,e.xScale=this.xScale),e}},{key:"subrangeX",value:function(t,e){if(this.xdata){for(var i=new a,n=0,r=this.data.length;n<r;n++)this.data[n]>=t&&this.data[n]<e&&i.append(this.dataX[n],this.data[n]);return i}var s=this.getIndexFromX(t),o=this.getIndexFromX(o);return(new a).setData(this.data.slice(s,o)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(t,e,i){this.getIndexFromX(t);var n=this.getIndexFromX(t+e),r=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(r,n,i)}},{key:"findLocalMinMaxIndex",value:function(t,e,i){var n=void 0;e<t&&(n=e,e=t,t=n);var r=void 0,s=void 0;if("max"==i){r=Number.NEGATIVE_INFINITY;for(var o=t;o<=e;o++)this.getY(o)>r&&(r=this.getY(o),s=o)}else{r=Number.POSITIVE_INFINITY;for(o=t;o<=e;o++)this.getY(o)<r&&(r=this.getY(o),s=o)}return s!=t&&s!=e&&this.getX(s)}},{key:"warn",value:function(t){console&&console.warn(t)}},{key:"setUnit",value:function(t){return this.unit=t,this}},{key:"setXUnit",value:function(t){return this.hasXWaveform()&&this.xdata.setUnit(t),this.xunit=t,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return 0<this.getXUnit().length}},{key:"hasUnit",value:function(){return 0<this.getUnit().length}},{key:"findLevels",value:function(t,e){for(var i,n=(e=l.extend({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],r=[],s=0;i=this.findLevel(t,l.extend(!0,{},e,{rangeP:[n,e.rangeP[1]]}));)if(r.push(i),n=Math.ceil(i),1e3<++s)return;return r}},{key:"findLevel",value:function(t,e){var i,n,r,s,o,a;(e=l.extend({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var u=e.box;for(u%2==0&&u++,"descending"==e.direction?(r=e.rangeP[1],o=e.rangeP[0],a=-1):(r=e.rangeP[0],o=e.rangeP[1],a=1);;r+=a){if("descending"==e.direction){if(r<o)break}else if(o<r)break;if(!(r<e.rangeP[0]+(u-1)/2)){if(r>e.rangeP[1]-(u-1)/2)break;if(i=this.getAverageP(r-(u-1)/2,r+(u-1)/2),void 0!==n){if(t<=i&&n){if(n=!1,"ascending"==e.edge||"both"==e.edge)for(var h=r+(u-1)/2;r-(u-1)/2<=h;h--)if(this.data[h]>=t&&this.data[h-1]<=t)switch(e.rounding){case"before":return h-1;case"after":return h;case"interpolate":return y(t,this.data[h],this.data[h-1],h,h-1)}}else if(i<=t&&!n&&(n=!0,"descending"==e.edge||"both"==e.edge))for(s=r+(u-1)/2;r-(u-1)/2<=s;s--)if(this.data[s]<=t&&this.data[s-1]>=t)switch(e.rounding){case"before":return s-1;case"after":return s;case"interpolate":return y(t,this.data[s],this.data[s-1],s,s-1)}}else n=i<t}}}},{key:"normalize",value:function(t){var e=void 0,i=void 0,n=void 0,r=void 0,s=void 0,o=void 0;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),r=this.data[0],o=1;o<this.getLength();o++)this.data[o]>r&&(r=this.data[o]);for(o=0;o<this.getLength();o++)this.data[o]/=r/e}else if("sum1"==t){for(o=i=0;o<this.getLength();o++)i+=this.data[o];for(o=0;o<this.getLength();o++)this.data[o]/=i}else if("max1min0"==t){for(r=this.data[0],n=this.data[0],o=1;o<this.getLength();o++)this.data[o]>r?r=this.data[o]:this.data[o]<n&&(n=this.data[o]);for(s=1/(r-n),o=0;o<this.getLength();o++)this.data[o]=(this.data[o]-n)*s}this.setData(this.data)}},{key:"filterNaN",value:function(){for(var t=this.data.length-1;0<=t;t--)isNaN(this.data[t])&&(this.data=this.data.splice(t,1),this.xdata&&this.xdata.data.splice(t,1))}},{key:"filterInfinity",value:function(){for(var t=this.data.length-1;0<=t;t--)isFinite(this.data[t])||(this.data=this.data.splice(t,1),this.xdata&&this.xdata.data.splice(t,1))}},{key:"setErrorBarX",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBar(t),this}},{key:"setErrorBarXBelow",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBarBelow(t),this}},{key:"setErrorBarXAbove",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBarAbove(t),this}},{key:"setErrorBoxX",value:function(t){t instanceof a||(t=new this.constructor(t));var e=this.getXWaveform();return e.setErrorBoxAbove(t),e.setErrorBoxBelow(t),this}},{key:"setErrorBoxXBelow",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBoxBelow(t),this}},{key:"setErrorBoxXAbove",value:function(t){return t instanceof a||(t=new this.constructor(t)),this.getXWaveform().setErrorBoxAbove(t),this}},{key:"setErrorBar",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.nb++,this.errors.bars.below=t,this.errors.bars.above=t,e&&this._setData(this.data)}},{key:"setErrorBarBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.bars.below=t,e&&this._setData(this.data)}},{key:"setErrorBarAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.bars.above=t,e&&this._setData(this.data)}},{key:"setErrorBox",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=t,this.errors.boxes.below=t,e&&this._setData(this.data)}},{key:"setErrorBoxBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new this.constructor(t)),this.errors.nb++,this.errors.boxes.below=t,e&&this._setData(this.data)}},{key:"setErrorBoxAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t instanceof a||(t=new a(t)),this.errors.boxes.above=t,e&&this._setData(this.data)}},{key:"getMaxError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE;return Math.max(this.getMaxErrorType(t,e,a.BOX),this.getMaxErrorType(t,e,a.BAR))}},{key:"getMaxErrorType",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BOX,n=void 0;if(i==a.BOX)n=this.errors.boxes;else{if(i!=a.BAR)throw"Unknown type of error";n=this.errors.bars}var r=void 0;return(r=n[e])||(e==a.ABOVE?n[e]==a.BELOW&&(r=n.below):n[e]==a.ABOVE&&(r=n.above)),r?r.getY(t):0}},{key:"getErrorBarXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BAR)}},{key:"getErrorBarXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BOX)}},{key:"getErrorBoxXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BOX)}},{key:"getErrorBarYBelow",value:function(t){return this.getError(t,a.BELOW,a.BAR)}},{key:"getErrorBarYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxYBelow",value:function(t){return this.getError(t,a.BELOW,a.BOX)}},{key:"getErrorBoxYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BOX)}},{key:"getErrorX",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR;return!!this.hasXWaveform()&&this.xdata.getError(t,e,i)}},{key:"getError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR)==a.BAR?this.errors.bars:this.errors.boxes;if(!i)return!1;var n=void 0;return(n=e==a.ABOVE?i.above:i.below)?n.getY(t):void 0}},{key:"hasErrorBars",value:function(){return 0<this.errors.nb||this.hasXWaveform()&&0<this.xdata.errors.nb}}]),a}();c.BELOW=Symbol(),c.ABOVE=Symbol(),c.BOX=Symbol(),c.BAR=Symbol();var f=Symbol(),p=Symbol(),d=Symbol(),g=Symbol();function y(t,e,i,n,r){return(t-e)/(i-e)*(r-n)+n}function v(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e[e.length-1]<e[0],n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=0,s=e.length-1,o=void 0,a=0,u=1;if(!i&&(e[0]>t||e[s]<t)||i&&(e[0]<t||e[s]>t))throw new Error("Target "+t+" is not in the stack");if(e[r]==t)return r;if(e[s]==t)return s;for(console.log("start");;){if(100<++a)throw new Error("Error loop");for(o=Math.floor((r+s)/2),console.log(o,r,s);isNaN(e[o]);){if(o>=e.length-1)return e.length-1;if(o<=0)return 0;o+=u}if(console.log(o),e[o]==t)return o;if(console.log("No lucky match"),o==r||o==s)return console.log("Boundary match"),n?Math.abs(e[o]-e[r])<Math.abs(e[o]-e[s])?(console.log("a"),r):(console.log("b"),s):o;if(e[o]<t)i?s=o:r=o;else{if(!(e[o]>t))return!1;i?r=o:s=o}u*=-1}}var m=function(t){function e(){return u(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c),h(e,[{key:"hasXWaveform",value:function(){return!1}},{key:"setXWaveform",value:function(t){this.xdata=t}},{key:"getYFromX",value:function(t){var e=this.xdata.indexOf(t);if(-1==e)throw"Cannot find key "+t;return this.data[e]}},{key:"getY",value:function(t){return this.data[t]}},{key:"getX",value:function(t){return this.xdata[t]}},{key:"hasXUnit",value:function(){return!1}},{key:"errorNotImplemented",value:function(){throw console.trace(),"Not available in hash waveform"}},{key:"subrangeX",value:function(){this.errorNotImplemented()}},{key:"duplicate",value:function(){this.errorNotImplemented()}},{key:"aggregate",value:function(){this.errorNotImplemented()}},{key:"_waveArithmetic",value:function(){this.errorNotImplemented()}},{key:"interpolateIndex_X",value:function(t){this.errorNotImplemented()}},{key:"getXMonotoneousAscending",value:function(){this.errorNotImplemented()}},{key:"isXMonotoneousAscending",value:function(){this.errorNotImplemented()}},{key:"interpolate",value:function(){this.errorNotImplemented()}},{key:"resampleForDisplay",value:function(){this.errorNotImplemented()}},{key:"isXMonotoneous",value:function(){this.errorNotImplemented()}},{key:"rescaleX",value:function(){this.errorNotImplemented()}},{key:"getXMin",value:function(){}},{key:"getXMax",value:function(){}},{key:"computeXMinMax",value:function(){}},{key:"setData",value:function(t){this.data=Object.values(t),this.xdata=Object.keys(t),this._setData()}},{key:"_setData",value:function(){this.minY=Math.min.apply(Math,a(this.data)),this.maxY=Math.max.apply(Math,a(this.data)),console.log(this.errors),this.checkMinMaxErrorBars()}}]),e}();t.Waveform=c,t.WaveformHash=m},r=[e,i(5),i(352),i(139)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n=i(19),r=i(2),s="__core-js_shared__",o=r[s]||(r[s]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(33)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var u=i(16),h=i(9),l=i(38);t.exports=function(a){return function(t,e,i){var n,r=u(t),s=h(r.length),o=l(i,s);if(a&&e!=e){for(;o<s;)if((n=r[o++])!=n)return!0}else for(;o<s;o++)if((a||o in r)&&r[o]===e)return a||o||0;return!a&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(21);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(4),r=i(21),s=i(6)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},function(t,e,i){var s=i(6)("iterator"),o=!1;try{var n=[7][s]();n.return=function(){o=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var n=[7],r=n[s]();r.next=function(){return{done:i=!0}},n[s]=function(){return r},t(n)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(1);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var a=i(12),u=i(13),h=i(3),l=i(24),c=i(6);t.exports=function(e,t,i){var n=c(e),r=i(l,n,""[e]),s=r[0],o=r[1];h(function(){var t={};return t[n]=function(){return 7},7!=""[e](t)})&&(u(String.prototype,e,s),a(RegExp.prototype,n,2==t?function(t,e){return o.call(t,this,e)}:function(t){return o.call(t,this)}))}},function(t,e,i){var r=i(1),s=i(11),o=i(6)("species");t.exports=function(t,e){var i,n=r(t).constructor;return void 0===n||null==(i=r(n)[o])?e:s(i)}},function(t,e,i){var n=i(2).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var v=i(2),m=i(0),x=i(13),b=i(44),k=i(32),_=i(43),M=i(42),w=i(4),S=i(3),A=i(61),P=i(45),C=i(82);t.exports=function(n,t,e,i,r,s){var o=v[n],a=o,u=r?"set":"add",h=a&&a.prototype,l={},c=function(t){var i=h[t];x(h,t,"delete"==t?function(t){return!(s&&!w(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!w(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!w(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof a&&(s||h.forEach&&!S(function(){(new a).entries().next()}))){var f=new a,p=f[u](s?{}:-0,1)!=f,d=S(function(){f.has(1)}),g=A(function(t){new a(t)}),y=!s&&S(function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)});g||(((a=t(function(t,e){M(t,a,n);var i=C(new o,t,a);return null!=e&&_(e,r,i[u],i),i})).prototype=h).constructor=a),(d||y)&&(c("delete"),c("has"),r&&c("get")),(y||p)&&c(u),s&&h.clear&&delete h.clear}else a=i.getConstructor(t,n,r,u),b(a.prototype,e),k.NEED=!0;return P(a,n),l[n]=a,m(m.G+m.W+m.F*(a!=o),l),s||i.setStrong(a,n,r),a}},function(t,e,i){for(var n,r=i(2),s=i(12),o=i(36),a=o("typed_array"),u=o("view"),h=!(!r.ArrayBuffer||!r.DataView),l=h,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(n=r[f[c++]])?(s(n.prototype,a,!0),s(n.prototype,u,!0)):l=!1;t.exports={ABV:h,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,i){"use strict";t.exports=i(33)||!i(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(2)[t]})},function(t,e,i){"use strict";var n=i(0);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var n=i(0),o=i(11),a=i(20),u=i(43);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,r,s=arguments[1];return o(this),(e=void 0!==s)&&o(s),null==t?new this:(i=[],e?(n=0,r=a(s,arguments[2],2),u(t,!1,function(t){i.push(r(t,n++))})):u(t,!1,i.push,i),new this(i))}})}},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=h(i),l=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),a=h(r),c=h(s);function h(t){return t&&t.__esModule?t:{default:t}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var p=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var d={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},g=new Map,y=function(t){function h(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));for(var r in n._creation=l.guid(),n._drawn=!1,t!==Object(t)||t instanceof HTMLElement?"string"==typeof t?t=document.getElementById(t):"number"==typeof t.length&&(t=t[0]):(i=e,e=t,t=null),n.options=l.extend({},d,e),function(){this.dom=document.createElementNS(y.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttributeTo(this.dom,{xmlns:y.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{l.setAttributeTo(this.dom,{"data-jsgraph-version":"v2.1.11"})}catch(t){}this.defs=document.createElementNS(y.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(y.ns,"g"),this.rectEvent=document.createElementNS(y.ns,"rect"),l.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(y.ns,"text"),this.setTitle(this.options.title),l.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(y.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(y.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(y.ns,"g"),this.groupPrimaryGrids=document.createElementNS(y.ns,"g"),this.groupSecondaryGrids=document.createElementNS(y.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(y.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(y.ns,"clipPath"),this.clip.setAttribute("id","_clipplot"+this._creation),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(y.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow"+this._creation),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var t,e=document.createElementNS(y.ns,"path");e.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(e),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(y.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_"+this.getId()),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8"),(t=document.createElementNS(y.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","8"),t.setAttribute("x2","6"),t.setAttribute("y2","0"),t.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(t),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(y.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_"+this.getId()),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6"),(t=document.createElementNS(y.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","0"),t.setAttribute("x2","8"),t.setAttribute("y2","6"),t.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(t),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(y.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline"+this._creation),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var i=document.createElementNS(y.ns,"path");i.setAttribute("d","M 0 -10 L 0 10"),i.setAttribute("stroke","black"),this.vertLineArrow.appendChild(i),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}.bind(n)(),t&&n.setWrapper(t),n.prevented=!1,n.axis={left:[],top:[],bottom:[],right:[]},n.shapes=[],n.shapesLocked=!1,n.plugins={},n.options.pluginAction)n.options.pluginAction.plugin=r,n.options.mouseActions.push(n.options.pluginAction);if(n.selectedShapes=[],n.series=[],n._axesHaveChanged=!0,n.options.hasOwnProperty("padding")&&l.isNumeric(n.options.padding)&&(n.options.paddingTop=n.options.paddingBottom=n.options.paddingLeft=n.options.paddingRight=n.options.padding),n.currentAction=!1,n.ns=h.ns,n.nsxlink=h.nsxlink,i)for(var r in i)for(var s=0,o=i[r].length;s<o;s++)switch(r){case"top":n.getTopAxis(s,i[r][s]);break;case"left":n.getLeftAxis(s,i[r][s]);break;case"right":n.getRightAxis(s,i[r][s]);break;case"bottom":n.getBottomAxis(s,i[r][s])}return n._pluginsInit(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,a.default),p(h,[{key:"setWrapper",value:function(t){if(!t)throw new Error("The wrapper DOM element was not found.");if(!t.appendChild)throw new Error("The wrapper appears to be an invalid HTMLElement");if(t.style["-webkit-user-select"]="none",t.style["-moz-user-select"]="none",t.style["-o-user-select"]="none",t.style["-ms-user-select"]="none",t.style["user-select"]="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width,10),n=parseInt(e.height,10);this.setSize(i,n),this._resize()}t.appendChild(this.dom),function(o){if(!o.wrapper)throw"No wrapper exists. Cannot register the events.";o.dom.setAttribute("tabindex",0),o.dom.addEventListener("keydown",function(t){m(o,t,"keydown")}),o.dom.addEventListener("keypress",function(t){m(o,t,"keypress")}),o.dom.addEventListener("keyup",function(t){m(o,t,"keyup")}),o.dom.addEventListener("mousemove",function(t){var e=o._getXY(t);!function(t,e,i,n){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseMove(n);if(t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseMove",[t,e,i,n]))return;var r;if(t._applyToAxes("handleMouseMove",[e-t.options.paddingLeft,n],!0,!1),t._applyToAxes("handleMouseMove",[i-t.options.paddingTop,n],!1,!0),!t.activePlugin&&t.options.trackingLine&&t.options.trackingLine.enable&&t.options.trackingLine.snapToSerie&&"common"==t.options.trackingLine.mode){var s=t.options.trackingLine.snapToSerie;if(r=s.handleMouseMove(!1,!0),t.trackingObject)if(r){t.trackingObject.show(),t.trackingObject.getPosition(0).x=r.xClosest,t.trackingObject.getPosition(1).x=r.xClosest,t.trackingObject.redraw();var e=s.getXAxis().getPx(r.xClosest)+t.options.paddingLeft}else t.trackingObject.hide();var o=t.options.trackingLine.series;if(o||(o=t.getSeries().map(function(t){return{serie:t,withinPx:20,withinVal:-1}})),!r)return;t._trackingLegend=b(t,o,e,i,t._trackingLegend,t.options.trackingLine.textMethod?t.options.trackingLine.textMethod:M,r.xClosest)}if(t.options.onMouseMoveData){for(var a={},u=0;u<t.series.length;u++)a[t.series[u].getName()]=t.series[u].handleMouseMove(!1,!0);t.options.onMouseMoveData.call(t,n,a)}x(t,n,[t,e,i,n],"onMouseMove")}(o,e.x,e.y,t)}),o.dom.addEventListener("mouseleave",function(t){var e;(e=o).options.handleMouseLeave&&e.options.handleMouseLeave.call(e)}),o.groupEvent.addEventListener("mousedown",function(t){if(o.focus(),3!=t.which&&!t.ctrlKey){var e=o._getXY(t);!function(t,e,i,n){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,t._pluginExecute(t.activePlugin,"onMouseDown",[t,e,i,n]);t.activePlugin&&(t.activePlugin=!1);x(t,n,[t,e,i,n],"onMouseDown")}(o,e.x,e.y,t)}}),o.dom.addEventListener("mouseup",function(t){o.emit("mouseUp",t);var e=o._getXY(t);!function(t,e,i,n){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(n),t.activePlugin=!1;t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,n]),t.activePlugin=!1}(o,e.x,e.y,t)}),o.wrapper.addEventListener("mouseup",function(t){t.stopPropagation()}),o.dom.addEventListener("dblclick",function(t){o.emit("dblClick",t);var e,i,n,r,s=o._getXY(t);e=o,i=s.x,n=s.y,x(e,r=t,[i,n,r],"onDblClick")}),o.groupEvent.addEventListener("click",function(t){if(3!=t.which&&!t.ctrlKey){var e,i,n,r,s=o._getXY(t);o.prevent(!1)||(e=o,i=s.x,n=s.y,r=t,e.emit("click",[e,i,n,r]),x(e,r,[i,n,r],"onClick"),r.target.jsGraphIsShape||e.prevent(!1)||!e.options.shapesUnselectOnClick||e.unselectShapes())}}),o.groupEvent.addEventListener("mousewheel",function(t){var e=t.wheelDeltaY||t.wheelDelta||-t.deltaY,i=o._getXY(t);return A(o,e,i.x,i.y,t),!1}),o.groupEvent.addEventListener("wheel",function(t){var e=o._getXY(t),i=t.wheelDeltaY||t.wheelDelta||-t.deltaY;return A(o,i,e.x,e.y,t),!1})}(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(t,e){return this.options[t]=e,this}},{key:"setTitle",value:function(t){this.options.title=t,this.domTitle.textContent=t}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(t,e){var i,n,r,s;if(this.width&&this.height)return this.sizeSet?!t||e||(s=(r=this)._axesHaveChanged,r._axesHaveChanged=!1,s)||(n=(i=this)._sizeChanged,i._sizeChanged=!1,n)?(this.executeRedrawSlaves(),function(r){var s={top:[],bottom:[],left:[],right:[]},o={top:[],bottom:[],left:[],right:[]};r._painted=!0,r._applyToAxes(function(t,e){if(t.isShown()){if(t.showGroup(),!t.floating){var i=v(t.getSpan(),o[e]);t.setLevel(i),s[e][i]=Math.max(t.getAxisPosition(),s[e][i]||0)}}else t.hideGroup()},!1,!0,!1);var a=s.top.reduce(function(t,e){return t+e},0),u=s.bottom.reduce(function(t,e){return t+e},0);r.drawingSpaceHeight=r.getDrawingHeight()-a-u,[s.top,s.bottom].map(function(n){n.reduce(function(t,e,i){return n[i]=t+e,t+e},0)}),r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(s[e][t.getLevel()])},!1,!0,!1),r._applyToAxes(function(t,e){if(t.isShown()?t.showGroup():t.hideGroup(),t.setMinPx(a),t.setMaxPx(r.getDrawingHeight(!0)-u),!t.floating){var i=t.linkedToAxis?0:t.draw();if(t.isShown()){var n=v(t.getSpan(),o[e]);t.setLevel(n),t.options.forcedWidth?s[e][n]=t.options.forcedWidth:(s[e][n]=Math.max(i,s[e][n]||0),n<s[e].length-1&&(s[e][n]+=10))}}},!1,!1,!0);var i=l.extend(!0,{},s);r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&(i[e][t.getLevel()]=Math.max(s[e][t.getLevel()],t.equalizePosition(s[e][t.getLevel()])))},!1,!1,!0);var n=(s=i).left.reduce(function(t,e){return t+e},0),h=s.right.reduce(function(t,e){return t+e},0);r.drawingSpaceWidth=r.getDrawingWidth()-n-h,[s.left,s.right].forEach(function(n){n.reduce(function(t,e,i){return n[i]=t+e,t+e},0)}),r._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(s[e][t.getLevel()])},!1,!1,!0),r._applyToAxes(function(t,e){t.isShown(),t.setMinPx(n),t.setMaxPx(r.getDrawingWidth(!0)-h),t.floating||t.linkedToAxis||t.draw()},!1,!0,!1),r._applyToAxes(function(t){if(t.floating){var e=t.getFloatingAxis(),i=t.getFloatingValue(),n=e.getPx(i);t.setShift(n),t.linkedToAxis||t.draw()}},!1,!0,!0),S(r,"right",r.getDrawingWidth(!0),r.getDrawingWidth(!0),a,r.getDrawingHeight(!0)-u),S(r,"left",0,0,a,r.getDrawingHeight(!0)-u),S(r,"top",n,r.getDrawingWidth(!0)-h,0,0),S(r,"bottom",n,r.getDrawingWidth(!0)-h,r.getDrawingHeight(!0)-u,r.getDrawingHeight(!0)-u),r.clipRect.setAttribute("y",a),r.clipRect.setAttribute("x",n),r.clipRect.setAttribute("width",r.getDrawingWidth()-n-h),r.clipRect.setAttribute("height",r.getDrawingHeight()-a-u),r.rectEvent.setAttribute("y",a+r.getPaddingTop()),r.rectEvent.setAttribute("x",n+r.getPaddingLeft()),r.rectEvent.setAttribute("width",r.drawingSpaceWidth),r.rectEvent.setAttribute("height",r.drawingSpaceHeight),r.drawingSpaceMinX=n+r.getPaddingLeft(),r.drawingSpaceMinY=a+r.getPaddingTop(),r.drawingSpaceMaxX=r.getDrawingWidth()-h+r.getPaddingLeft(),r.drawingSpaceMaxY=r.getDrawingHeight()-u+r.getPaddingTop(),r._applyToAxes(function(t,e){t.isShown()&&t.drawLines()},!1,!0,!0),r.shift=s,r.redrawShapes()}(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(){this._pluginsExecute("preDraw")}},{key:"draw",value:function(t){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(t,e){this.width=t,e||this._resize()}},{key:"setHeight",value:function(t,e){this.height=t,e||this._resize()}},{key:"resize",value:function(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}},{key:"setSize",value:function(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(t){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(t){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=l.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getNumAxes",value:function(t){return this.axis[t].length}},{key:"getXAxis",value:function(t,e){return 0<this.axis.top.length&&0==this.axis.bottom.length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}},{key:"getYAxis",value:function(t,e){return 0<this.axis.right.length&&0==this.axis.left.length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}},{key:"getTopAxis",value:function(t,e){return w(this,t,e,"top")}},{key:"getBottomAxis",value:function(t,e){return w(this,t,e,"bottom")}},{key:"getLeftAxis",value:function(t,e){return w(this,t,e,"left")}},{key:"getRightAxis",value:function(t,e){return w(this,t,e,"right")}},{key:"setXAxis",value:function(t,e){this.setBottomAxis(t,e)}},{key:"setYAxis",value:function(t,e){this.setLeftAxis(t,e)}},{key:"setLeftAxis",value:function(t,e){e=e||0,this.axis.left[e]&&this.axis.left[e].kill(),this.axis.left[e]=t}},{key:"setRightAxis",value:function(t,e){e=e||0,this.axis.right[e]&&this.axis.right[e].kill(),this.axis.right[e]=t}},{key:"setTopAxis",value:function(t,e){e=e||0,this.axis.top[e]&&this.axis.top[e].kill(),this.axis.top[e]=t}},{key:"setBottomAxis",value:function(t,e){e=e||0,this.axis.bottom[e]&&this.axis.bottom[e].kill(),this.axis.bottom[e]=t}},{key:"killAxis",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.isX()&&(-1<(t=this.axis.bottom.indexOf(e))&&this.axis.bottom.splice(t,1),-1<(t=this.axis.top.indexOf(e))&&this.axis.top.splice(t,1),n||this.series.forEach(function(t){t.getXAxis()==e&&t.kill()})),e.isY()&&(-1<(t=this.axis.left.indexOf(e))&&this.axis.left.splice(t,1),-1<(t=this.axis.right.indexOf(e))&&this.axis.right.splice(t,1),n||this.series.forEach(function(t){t.getYAxis()==e&&t.kill()})),this.axisGroup.removeChild(e.group),this.groupPrimaryGrids.removeChild(e.gridPrimary),this.groupSecondaryGrids.removeChild(e.gridSecondary),i||this.draw(!0)}},{key:"hasXAxis",value:function(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}},{key:"hasYAxis",value:function(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}},{key:"hasTopAxis",value:function(t){return this.hasAxis(t,this.axis.top)}},{key:"hasBottomAxis",value:function(t){return this.hasAxis(t,this.axis.bottom)}},{key:"hasLeftAxis",value:function(t){return this.hasAxis(t,this.axis.left)}},{key:"hasRightAxis",value:function(t){return this.hasAxis(t,this.axis.right)}},{key:"hasAxis",value:function(t,e){for(var i=0,n=e.length;i<n;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(t){return t&&t.setMinMaxToFitSeries(),this}},{key:"setBackgroundColor",value:function(t){return this.rectEvent.setAttribute("fill",t),this}},{key:"getAxisState",value:function(){var t={};for(var e in this.axis)t[e]=this.axis[e].map(function(t){return[t.getCurrentMin(),t.getCurrentMax()]});return t}},{key:"setAxisState",value:function(t){var e,i;for(var n in t)if(this.axis[n])for(e=0,i=t[n].length;e<i;e++)this.axis[n][e]&&(this.axis[n][e].setCurrentMin(t[n][e][0]),this.axis[n][e].setCurrentMax(t[n][e][1]));this.draw()}},{key:"saveAxisState",value:function(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}},{key:"recallAxisState",value:function(t){return this.savedAxisState[t]&&this.recallAxisState(this.savedAxisState[t]),this}},{key:"_applyToAxis",value:function(t){switch(t){case"string":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)this.axis[t][n][e].apply(this.axis[t][n],i)};case"function":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)e.call(this,this.axis[t][n],t,i)};default:throw new Error("You must either execute a function or provide a string that registers a function")}}},{key:"getBoundaryAxis",value:function(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}},{key:"getBoundaryAxisFromSeries",value:function(t,e,i){var n,r,s,o,a,u,h="min"==e,l=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[h?0:1],c=h?1/0:-1/0;for(n=c,a=0,u=(s=this.getSeriesFromAxis(t)).length;a<u;a++)(r=s[a]).isShown()&&(o=r[l](i),n=Math[e](isNaN(n)?c:n,isNaN(o)?c:o));return n}},{key:"getSeriesFromAxis",value:function(t){for(var e=[],i=this.series.length-1;0<=i;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}},{key:"updateDataMinMaxAxes",value:function(t){var e,i,n,r,s=["bottom","top","left","right"];for(i=0,n=s.length;i<n;i++)for(r=this.axis[s[i]].length-1;0<=r;r--){(e=this.axis[s[i]][r]).isShown();var o=this.getBoundaryAxis(this.axis[s[i]][r],"min",t),a=this.getBoundaryAxis(this.axis[s[i]][r],"max",t);isFinite(a)&&e.setMaxValueData(a),isFinite(o)&&e.setMinValueData(o)}}},{key:"_applyToAxes",value:function(t,e,i,n){var r,s=[],o=0;for((i||null==i)&&(s.push("top"),s.push("bottom")),(n||null==n)&&(s.push("left"),s.push("right")),r=s.length;o<r;o++)this._applyToAxis(void 0===t?"undefined":f(t)).call(this,s[o],t,e)}},{key:"findAxesLinkedTo",value:function(e){var i=[];return this._applyToAxes(function(t){t.linkedToAxis&&t.linkedToAxis.axis==e&&i.push(t)},{},e instanceof this.getConstructor("graph.axis.x"),e instanceof this.getConstructor("graph.axis.y")),i}},{key:"_axisHasChanged",value:function(){this._axesHaveChanged=!0}},{key:"newSerie",value:function(t,e,i){var n=void 0;return"object"===(void 0===e?"undefined":f(e))||i||(i=e,e={}),i||(i=h.SERIE_LINE),(n=this.getSerie(t))?n:(n=function(t,e,i,n){var r=t.getConstructor(n,!0);r||"string"!=typeof n||(r=t.getConstructor("graph.serie."+n,!0));{if(!r)return l.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var s=new r(t,e,i);t.appendSerieToDom(s)}return s}(this,t,e,i))?(this.series.push(n),n.postInit(),this.emit("newSerie",n),n):void 0}},{key:"getSerie",value:function(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.series.filter(function(t){return e.include(t.getType())})}},{key:"sortSeries",value:function(t){return"function"!=typeof t||this.series.sort(t),this}},{key:"drawSerie",value:function(t,e){if(!t.draw)throw new Error("Serie has no method draw");t.draw(e)}},{key:"drawSeries",value:function(t){if(this.width&&this.height)for(var e=this.series.length-1;0<=e;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(t,e){"object"!=(void 0===t?"undefined":f(t))&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(t){t.unselect&&(t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t))}},{key:"getShapesOfSerie",value:function(t){for(var e=[],i=this.shapes.length-1;0<=i;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}},{key:"makeToolbar",value:function(t){var e=this.getConstructor("graph.toolbar");return e?this.toolbar=new e(this,t):l.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=arguments[3];if(this.prevent(!1),!n&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;if("object"==(void 0===t?"undefined":f(t))&&(n=e,t=(e=t).type),(e=e||{})._id=l.guid(),!(i="function"==typeof t?t:this.getConstructor("graph.shape."+t)))return l.throwError("No constructor for this shape");var s=new i(this,e);if(!s)return l.throwError("Failed to construct shape.");if(s.type=t,s.graph=this,void 0!==(s._data=e).properties&&s.setProperties(e.properties),s.init(this,r),void 0!==e.props)for(var o in e.props)s.setProp(o,e.props[o]);if(e.position){o=0;for(var a=e.position.length;o<a;o++)s.setPosition(new u.default(e.position[o]),o)}if(void 0!==e.fillColor&&s.setFillColor(e.fillColor),void 0!==e.fillOpacity&&s.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&s.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&s.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&s.setLayer(e.layer),1==e.locked&&s.lock(),1==e.movable&&s.movable(),1==e.selectable&&s.selectable(),1==e.resizable&&s.resizable(),void 0!==e.attributes&&s.setProp("attributes",e.attributes),void 0!==e.handles&&s.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&s.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&s.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach(function(t){var e=t.type,i=t.value;s.addTransform(e,i)}),void 0!==e.highlightOnMouseOver&&s.setProp("highlightOnMouseOver",!0),e.labelEditable&&s.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label){Array.isArray(e.label)||(e.label=[e.label]);for(o=0,a=e.label.length;o<a;o++)s.showLabel(o),s.setLabelText(e.label[o].text,o),s.setLabelPosition(e.label[o].position,o),s.setLabelColor(e.label[o].color||"black",o),s.setLabelSize(e.label[o].size,o),s.setLabelAngle(e.label[o].angle||0,o),s.setLabelBaseline(e.label[o].baseline||"no-change",o),s.setLabelAnchor(e.label[o].anchor||"start",o),s.setLabelBackgroundColor(e.label[o].backgroundColor||"transparent",o),s.setLabelBackgroundOpacity(e.label[o].backgroundOpacity||1,o)}return e.serie&&s.setSerie(this.getSerie(e.serie)),s.createHandles(),s.applyStyle(),this.shapes.push(s),n||this.emit("newShape",s,e),s}},{key:"newPosition",value:function(t){return new(Function.prototype.bind.apply(u.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"redrawShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}},{key:"removeShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(t,e){if(t){if(-1<this.selectedShapes.indexOf(t))return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(0<this.selectedShapes.length&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}},{key:"unselectShapes",value:function(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}},{key:"_removeShape",value:function(t){this.shapes.splice(this.shapes.indexOf(t),1)}},{key:"appendShapeToDom",value:function(t){t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.group)}},{key:"removeShapeFromDom",value:function(t){t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group)}},{key:"appendSerieToDom",value:function(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}},{key:"removeSerieFromDom",value:function(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}},{key:"getLayer",value:function(t,e){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(h.ns,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(h.ns,"g"),this.layers[t][2]=document.createElementNS(h.ns,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var i,n=1;!(i=this.layers[t-n])&&0<=t-n;)n++;i?i.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],i.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==e?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(t){this.bypassHandleMouse=t}},{key:"stopElementMoving",value:function(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var t=["top","bottom","left","right"],e=0;e<4;e++){var i=document.createElementNS(h.ns,"line");i.setAttribute("stroke",this.options.closeColor),i.setAttribute("shape-rendering","crispEdges"),i.setAttribute("stroke-linecap","square"),i.setAttribute("display","none"),this.closingLines[t[e]]=i,this.graphingZone.appendChild(i)}}},{key:"isActionAllowed",value:function(t,e){if(console.log(e.type,t.type,e.shift,t.shiftKey,e),(e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):e.enabled))){if(e.key&&e.key!==t.keyCode){if({backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39}[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}},{key:"forcePlugin",value:function(t){this.forcedPlugin=t}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r in this.plugins)this.plugins[r]&&this.plugins[r][t]&&this.plugins[r][t].apply(this.plugins[r],i)}},{key:"_pluginExecute",value:function(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(t,e,i){"object"!==(void 0===t?"undefined":f(t))&&(t=this.getSerie(t)),"function"==typeof t[e]&&t.apply(t,i)}},{key:"_pluginsInit",value:function(){var t,e,i;for(var n in this.options.plugins)e=n,console.log(e),i=this.options.plugins[n],(t=this.getConstructor("graph.plugin."+e))?(this.plugins[e]=new t(i),l.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):l.throwError('Plugin "'+e+'" has not been registered')}},{key:"getPlugin",value:function(t){var e=this.plugins[t];return e||l.throwError('Plugin "'+t+'" has not been loaded or properly registered')}},{key:"hasPlugin",value:function(t){return!!this.plugins[t]}},{key:"triggerEvent",value:function(){var t=arguments[0];if("function"==typeof this.options[t])return this.options[t].apply(this,arguments)}},{key:"makeLegend",value:function(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):l.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(t),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(){this.options.zAxis=l.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var e=this;this.zAxis||(this.zAxis={g:document.createElementNS(h.ns,"g"),l:document.createElementNS(h.ns,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var t=this.options.zAxis.xAxis,i=this.options.zAxis.yAxis,n=t.getMinPx(),r=i.getMinPx(),s=t.getZProj(this.options.zAxis.maxZ),o=i.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",n),this.zAxis.l.setAttribute("x2",n+s),this.zAxis.l.setAttribute("y1",r),this.zAxis.l.setAttribute("y2",r+o),this.updateDataMinMaxAxes(!0);var a=this.series.map(function(t){return[t.getZPos(),t]});a.sort(function(t,e){return e[0]-t[0]});var u=0;a.forEach(function(t){t[1].setLayer(u),e.appendSerieToDom(t[1]),u++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}},{key:"contextListen",value:function(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(t){var e=this.prevented;return-1!=t&&(this.prevented=null==t||t),e}},{key:"_getXY",value:function(t){var e=t.clientX,i=t.clientY,n=this.offsetCached||l.getOffset(this.wrapper);return{x:e-=n.left,y:i-=n.top}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){l.setAttributeTo(this.graphingZone,{transform:"translate("+this.options.paddingLeft+", "+this.options.paddingTop+")"}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var t=this;return function(){return t.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var t=this;return function(){return t.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var t=this;return function(){return t.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var t=this;return function(){return t.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var t=this;return function(){return t.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var t=this;return function(){return t.drawingSpaceMaxY}}},{key:"trackingLine",value:function(t){var e=this,i=this;if("boolean"!=typeof t){if(t&&(this.options.trackingLine=t),t.series=t.series||[],t.enable=void 0===t.enable||!!t.enable,"individual"==t.mode?t.series&&(Array.isArray(t.series)||("all"==t.series?t.series=this.series.map(function(t){return{serie:t}}):t.series=[t.series]),t.series.forEach(function(t){if("object"!==f(t.serie)){if("object"!==(void 0===t?"undefined":f(t)))throw new Error("Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }");t.serie=e.getSerie(t.serie)}t.serie&&i.addSerieToTrackingLine(t.serie,t)})):t.series.forEach(function(t){t.serie.disableTracking()}),!t.noLine)return this.trackingObject||(this.trackingObject=this.newShape("line",l.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},t.trackingLineShapeOptions))),this.trackingObject.draw(),this.trackingObject}else this.options.trackingLine&&(this.options.trackingLine.enable=t)}},{key:"addSerieToTrackingLine",value:function(i,r){var s=this;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.forEach(function(t,e){t.serie==i&&s.options.trackingLine.series.splice(e,1)}),this.options.trackingLine.series.push(Object.assign({serie:i},r)),i.enableTracking(function(t,e,i,n){s.options.trackingLine.enable&&e&&(s.trackingObject&&(s.trackingObject.show(),s.trackingObject.getPosition(0).x=e.trueX,s.trackingObject.getPosition(1).x=e.trueX,s.trackingObject.redraw()),t._trackingLegend=b(s,{serie:t},i,n,t._trackingLegend,r.textMethod?r.textMethod:M,e.trueX),t._trackingLegend&&(t._trackingLegend.style.display="block"))},function(t){s.trackingObject&&s.trackingObject.hide(),t.trackingShape&&t.trackingShape.hide(),t._trackingLegend&&(t._trackingLegend.style.display="none"),t._trackingLegend=b(s,{serie:t},!1,!1,t._trackingLegend,!1,!1)})}},{key:"setKatexRenderer",value:function(t){this._katexRenderer=t}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(t,e){if(this._katexRenderer){e?e.removeChild(e.firstChild):e=document.createElementNS(h.ns,"foreignObject");var i=document.createElement("div");return e.appendChild(i),this._katexRenderer(t,i),e}return!1}},{key:"exportToSchema",value:function(){var t=this,e={};e.title=this.options.title,e.width=this.getWidth(),e.height=this.getHeight();var i=[],s={x:[],y:[]};["top","bottom","left","right"].map(function(e){if(!t.axis[e])return{};i=i.concat(t.axis[e].map(function(t){return{type:e,label:t.options.label,unit:t.options.unit,min:t.options.forcedMin,max:t.options.forcedMax,flip:t.options.flipped}})),"top"==e||"bottom"==e?s.x=s.x.concat(t.axis[e]):s.y=s.y.concat(t.axis[e])}),e.axis=i;var o=function(t,e){var i=[];switch(t.getType()){case h.SERIE_LINE:for(var n=0;n<t.data.length;n++)for(var r=0;r<t.data[n].length-1;r+=2)i.push(t.data[n][r+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)]);break;case h.SERIE_SCATTER:for(r=0;r<t.data.length-1;r+=2)i.push(t.data[n+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)])}return i};return e.data=[].concat(this.series.map(function(t){var e=[],i=[];if(t.getType()==h.SERIE_LINE)for(var n in t.styles){i.push({styleName:n,color:t.styles[n].lineColor,lineWidth:t.styles[n].lineWidth,lineStyle:t.styles[n].lineStyle});var r={styleName:n,styles:[]};e.push(r),r.styles=r.styles.concat((t.styles[n].markers||[]).map(function(t){return{shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}}))}return{label:t.getLabel(),id:t.getName(),type:function(t){switch(t){case h.SERIE_BAR:return"bar";case h.SERIE_LINE_COLORED:return"color";case h.SERIE_SCATTER:return"scatter";default:case h.SERIE_LINE:return"line"}}(t.getType()),x:o(t,!0),y:o(t,!1),xAxis:s.x.indexOf(t.getXAxis()),yAxis:s.y.indexOf(t.getYAxis()),style:e,lineStyle:i}})),e}}],[{key:"fromJSON",value:function(t,e){return(0,c.default)(h,t,e)}},{key:"registerConstructor",value:function(t,e){if(g.has(t))return l.throwError("Constructor "+e+" already exists.");g.set(t,e)}},{key:"getConstructor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return g.has(t)?g.get(t):!e&&l.throwError('Constructor "'+t+"\" doesn't exist")}},{key:"newWaveform",value:function(){return new(Function.prototype.bind.apply(o.Waveform,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveform",value:function(){return new(Function.prototype.bind.apply(o.Waveform,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"newWaveformHash",value:function(){return new(Function.prototype.bind.apply(o.WaveformHash,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveformHash",value:function(){return new(Function.prototype.bind.apply(o.WaveformHash,[null].concat(Array.prototype.slice.call(arguments))))}}]),h}();function v(t,e){for(var i=0,n=e.length;i<n;i++){for(var r=!0,s=0,o=e[i].length;s<o;s++)t[0]<e[i][s][0]&&t[1]<e[i][s][0]||t[0]>e[i][s][1]&&t[1]>e[i][s][1]||(r=!1);if(r)return e[i].push(t),i}return e.push([t]),e.length-1}function m(t,e,i){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,i,[t,e]);!function(t,e,i,n){var r,s,o=t.options.keyActions;for(r=0,s=o.length;r<s;r++){if(o[r].plugin){if(t.forcedPlugin==o[r].plugin||t.isActionAllowed(e,o[r]))return o[r].options&&i.push(o[r].options),t.activePlugin=o[r].plugin,t._pluginExecute(o[r].plugin,n,i),e.preventDefault(),e.stopPropagation()}else if(o[r].callback&&t.isActionAllowed(e,o[r]))return o[r].options&&i.push(o[r].options),e.preventDefault(),e.stopPropagation(),o[r].callback.apply(t,i);o[r].removeSelectedShape&&t.isActionAllowed(e,o[r])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map(function(t){t.kill(o[r].keepInDom)}))}}(t,e,[t,e],i)}function x(t,e,i,n){var r,s,o=t.options.mouseActions,a=!1;for(r=0,s=o.length;r<s;r++)if(o[r].plugin){if(t.forcedPlugin==o[r].plugin||t.isActionAllowed(e,o[r])){o[r].options&&i.push(o[r].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=o[r].plugin),t._pluginExecute(o[r].plugin,n,i),a=!0;continue}}else{if(o[r].callback&&t.isActionAllowed(e,o[r])){o[r].options&&i.push(o[r].options),o[r].callback.apply(t,i),a=!0;continue}if(o[r].series){var u;"all"===o[r].series&&(u=t.series),Array.isArray(o[r].series)||(u=[u]),o[r].options&&i.push(o[r].options);for(;0<u.length;r++)t._serieExecute(u[r],n,i);a=!0;continue}}return a}y.prototype.getConstructor=y.getConstructor;var b=function(o,t,a,e,u,h,l){var i=!1;Array.isArray(t)||(t=[t]);var n,r,c=[];if(!u&&o.options.trackingLine.legend&&(i=!0,n=o,(r=document.createElement("div")).setAttribute("class","trackingLegend"),r.style.position="absolute",r.style.borderRadius="4px",r.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",r.style.border="2px solid #333333",r.style.backgroundColor="rgba(255, 255, 255, 0.5 )",r.style.pointerEvents="none",r.style.paddingTop="5px",r.style.paddingBottom="5px",r.style.paddingLeft="10px",r.style.paddingRight="10px",n.getWrapper().insertBefore(r,n.getDom()),u=r),t.map(function(t){var e=t.serie.handleMouseMove(l,!1);if(!e||!h)return t.serie.trackingShape&&t.serie.trackingShape.hide(),u;if(0<t.withinPx&&1e-14<Math.abs(a-o.options.paddingLeft-t.serie.getXAxis().getPx(e.xClosest))-t.withinPx||0<t.withinVal&&Math.abs(t.serie.getXAxis().getVal(a-o.options.paddingLeft)-e.xClosest)-t.withinVal>t.serie.getXAxis().getVal(a-o.options.paddingLeft)/1e5)t.serie.trackingShape&&t.serie.trackingShape.hide();else{c[t.serie.getName()]={yValue:e.yClosest,xValue:e.xClosest,serie:t,index:e};var i=void 0;if(i=o.options.trackingLine&&o.options.trackingLine.serieShape?o.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:[3*t.serie.getLineWidth()+"px"],ry:[3*t.serie.getLineWidth()+"px"]}},t.serie.trackingShape||(t.serie.trackingShape=o.newShape(i.shape,{fillColor:t.serie.getLineColor(),strokeColor:"White",strokeWidth:t.serie.getLineWidth()},!0,i.properties).setSerie(t.serie).forceParentDom(t.serie.groupMain).draw(),i.onCreated&&i.onCreated(t.serie.trackingShape),t.serie.trackingShape.on("changed",function(){i.onChanged&&i.onChanged(t.serie.trackingShape)})),t.serie.trackingShape.show(),t.serie.trackingShape.getPosition(0).x=e.xClosest,i.magnet){var n,r=i.magnet,s=r.within;r.withinPx&&(s=t.serie.getXAxis().getRelVal(r.withinPx)),(n=t.serie.findLocalMinMax(e.xClosest,s,r.mode))&&(t.serie.trackingShape.getPosition(0).x=n)}t.serie.trackingShape.redraw()}}),o.options.trackingLine.legend){if(0!=Object.keys(c).length&&h){"none"==u.style.display||i?k(o,u,a,e,!0):_(o,u,a,e),u.style.display="block";var s=h(c,l,a,e);u.innerHTML=s}else u.style.display="none";return u}},k=function(t,i,n,r,e){var s=Date.now(),o=i.offsetHeight,a=parseInt(i.style.marginLeft.replace("px","")||0,10),u=parseInt(i.style.marginTop.replace("px","")||0,10);if(n=n>t.getWidth()/2?n-n%10-20-i.offsetWidth:n-n%10+30,r=r-r%10+o/2,e)return i.style.marginLeft=n+"px",void(i.style.marginTop=r+"px");window.requestAnimationFrame(function t(){var e=(Date.now()-s)/200;1<e&&(e=1),i.style.marginLeft=(n-a)*e+a+"px",i.style.marginTop=(r-u)*e+u+"px",e<1&&window.requestAnimationFrame(t)})},_=l.debounce(k,50);var M=function(t){var e="";for(var i in t)e+=t[i].serie.serie.getName()+": "+t[i].serie.serie.getYAxis().valueToHtml(t[i].yValue);return e};function w(t,e,i,n){i=i||{};var r,s={def:{x:t.getConstructor("graph.axis.x"),y:t.getConstructor("graph.axis.y")},time:{x:t.getConstructor("graph.axis.x.time")},bar:{x:t.getConstructor("graph.axis.x.bar")}};switch(i.type){case"time":var o=s.time;break;case"bar":o=s.bar;break;case"broken":o=s.broken;break;default:o=s.def}switch(n){case"top":case"bottom":r=o.x;break;case"left":case"right":r=o.y;break;default:return}return"object"==(void 0===(e=e||0)?"undefined":f(e))&&(i=e,e=0),t.axis[n][e]||(t.axis[n][e]=new r(t,n,i),t.axis[n][e].init(t,i)),t.axis[n][e]}function S(t,e,i,n,r,s){if(!1!==t.options.close){var o=0;t.axis[e].map(function(t){t.isDisplayed()&&!t.floating&&o++}),!0!==t.options.close&&!t.options.close[e]||0!=o?t.closingLines[e].setAttribute("display","none"):(t.closingLines[e].setAttribute("display","block"),t.closingLines[e].setAttribute("x1",i),t.closingLines[e].setAttribute("x2",n),t.closingLines[e].setAttribute("y1",r),t.closingLines[e].setAttribute("y2",s))}}function A(t,e,i,n,r){x(t,r,[e,r,i,n],"onMouseWheel")&&(r.preventDefault(),r.stopPropagation())}y.SERIE_LINE=Symbol(),y.SERIE_SCATTER=Symbol(),y.SERIE_CONTOUR=Symbol(),y.SERIE_BAR=Symbol(),y.SERIE_BOX=Symbol(),y.SERIE_ZONE=Symbol(),y.SERIE_LINE_COLORED=Symbol(),y.SERIE_ZONE=Symbol(),y.SERIE_DENSITYMAP=Symbol(),y.SERIE_LINE_3D=Symbol(),y.SERIE_ZONE_3D=Symbol(),y.TICKS_OUTSIDE=Symbol(),y.TICKS_INSIDE=Symbol(),y.TICKS_CENTERED=Symbol(),y.ns="http://www.w3.org/2000/svg",y.nsxlink="http://www.w3.org/1999/xlink",e.default=y,t.exports=e.default},r=[t,e,i(53),i(5),i(54),i(348),i(55)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=u(n),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var l={lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridColor:"#f0f0f0",secondaryGridColor:"#f0f0f0",primaryGridWidth:1,secondaryGridWidth:1,hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1,highestMax:void 0,lowestMin:void 0,labelValue:""},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),h(e,[{key:"init",value:function(t,e,i){var r=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=t,this.options=a.extend(!0,{},l,i,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(t){t.preventDefault();var e=r.graph._getXY(t);r.handleMouseMoveLocal(e.x,e.y,t);for(var i=0,n=r.series.length;i<n;i++)r.series[i].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(t){t.preventDefault();var e=r.graph._getXY(t);r.addLabel(r.getVal(e.x-r.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.gridSecondary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.graph._axisHasChanged(this)}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(t){return this.options.display=!!t,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(t,e){return t||e.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(t,e){this.graph.killAxis(this,t,e)}},{key:"setLineAt",value:function(t){return this.options.lineAt=t,this}},{key:"adaptTo",value:function(t,e,i,n){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:n},this.adapt()):this.options.adaptTo=!1,this}},{key:"adapt",value:function(){if(this.options.adaptTo){var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.currentAxisMin&&void 0!==t.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.currentAxisMin=this.options.forcedMin:this.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())),this.currentAxisMin==e&&(this.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());var n=!1!==this.options.forcedMin?this.options.forcedMin:this.currentAxisMin;this.currentAxisMax=(e-n)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+n}else{!1!==this.options.forcedMax?this.currentAxisMax=this.options.forcedMax:this.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.currentAxisMax==e&&(this.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());n=!1!==this.options.forcedMax?this.options.forcedMax:this.currentAxisMax;this.currentAxisMin=(e-n)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+n}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(t){this.options.axisDataSpacing.min=t}},{key:"setAxisDataSpacingMax",value:function(t){this.options.axisDataSpacing.max=t}},{key:"setMinPx",value:function(t){this.minPx=t,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(t){this.maxPx=t,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return!1!==this.options.forcedMin?this.options.forcedMin:isNaN(this.options.lowestMin)?this.dataMin:Math.max(this.options.lowestMin,this.dataMin)}},{key:"getMaxValue",value:function(){return!1!==this.options.forcedMax?this.options.forcedMax:isNaN(this.options.highestMax)?this.dataMax:Math.min(this.options.highestMax,this.dataMax)}},{key:"setMinValueData",value:function(t){this.dataMin=t,isNaN(this.getCurrentMin())}},{key:"setMaxValueData",value:function(t){this.dataMax=t,isNaN(this.getCurrentMax())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"setLowestMin",value:function(t){this.options.lowestMin=t,this.graph._axisHasChanged(this)}},{key:"forceMin",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"setHighestMax",value:function(t){this.options.highestMax=t,this.graph._axisHasChanged(this)}},{key:"forceMax",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(t){this.options.nbTicksPrimary=t}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(t){return this.options.nbTicksSecondary=t,this}},{key:"handleMouseMove",value:function(t){this.mouseVal=this.getVal(t)}},{key:"handleMouseWheel",value:function(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i),this.graph.draw()}},{key:"zoom",value:function(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}},{key:"_doZoomVal",value:function(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}},{key:"_doZoom",value:function(t,e,i,n,r){i=void 0!==i?i:this.getVal(t),n=void 0!==n?n:this.getVal(e);return this.setCurrentMin(Math.min(i,n)),this.setCurrentMax(Math.max(i,n)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,r||this.emit("zoom",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(t,e,i){var n=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":var r,s=void 0,o=void 0,a=void 0,u=!1;for(s=0,r=this.unitModificationTimeTicks.length;s<r;s++){for(o=0,a=this.unitModificationTimeTicks[s][1].length;o<a;o++)if(n<this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]){u=!0;break}if(u)break}d=s!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]:1;break;default:var h=Math.floor(Math.log(n)/Math.log(10)),l=n*Math.pow(10,-h);this.decimals=-h;for(var c=[1,2,5,10],f=!1,p=c.length-1;0<=p;p--)(!f||Math.abs(c[p]-l)<Math.abs(f-l))&&(f=c[p]);var d=f*Math.pow(10,h)}var g=i/d;return[d,g,t/e]}},{key:"setMinMaxToFitSeries",value:function(t){var e=this.getInterval();return this.options.logScale?(this.setCurrentMin(Math.max(1e-50,.9*this.getMinValue())),this.setCurrentMax(Math.max(1e-50,1.1*this.getMaxValue()))):(this.setCurrentMin(this.getMinValue()),this.setCurrentMax(this.getMaxValue()),!1===this.getForcedMin()&&this.setCurrentMin(this.getCurrentMin()-this.options.axisDataSpacing.min*e),!1===this.getForcedMax()&&this.setCurrentMax(this.getCurrentMax()+this.options.axisDataSpacing.max*e)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.currentAxisMin==this.currentAxisMax?this.options.logScale?this.currentAxisMin/10:this.currentAxisMin-1:this.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.currentAxisMax==this.currentAxisMin?this.options.logScale?10*this.currentAxisMax:this.currentAxisMax+1:this.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||t<this.options.lowestMin||void 0===t))&&(t=this.getMinValue()),this.currentAxisMin=t,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||t>this.options.highestMax||void 0===t))&&(t=this.getMaxValue()),this.currentAxisMax=t,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var e=this;void 0!==this.currentAxisMin&&void 0!==this.currentAxisMax||this.setMinMaxToFitSeries(!0);var t=Math.abs(this.getMaxPx()-this.getMinPx()),i=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="";var n=void 0;if(this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var r=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?(r+=n,this.preunitTspan.innerHTML=n,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),r+=" "+n+" "+this.options.unit):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),r+=" \\cdot 10^"+this.scientificExponent+" "+this.options.unit),this.katexElement=this.graph.renderWithKatex(r,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=n,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)s=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;var s=this.drawLinkedToAxisTicksWrapper(t,i)}else if(this.options.logScale)s=this.drawLogTicks();else var s=this.drawLinearTicksWrapper(t,i);return this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary),this.graph.findAxesLinkedTo(this).forEach(function(t){t.linkedToAxis&&(t.setMinPx(e.getMinPx()),t.setMaxPx(e.getMaxPx()),t.draw())}),s}},{key:"drawLines",value:function(){var i=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(t,e){!isNaN(t)&&i.getCurrentMin()<=t&&i.getCurrentMax()>=t?i._lines[e]=i._drawLine(t,i._lines[e]):i._hideLine(i._lines[e])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f";default:return""}}},{key:"drawLinearTicksWrapper",value:function(t,e){var i=void 0;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this.drawTicks(i,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(t){this.options.primaryTickUnit=t,this.decimals=Math.max(0,Math.round(-Math.log(t)/Math.log(10)))}},{key:"forcePrimaryTickUnitMax",value:function(t){this.options.maxPrimaryTickUnit=t}},{key:"forcePrimaryTickUnitMin",value:function(t){this.options.minPrimaryTickUnit=t}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(t){this.options.ticklabelratio=t}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}},{key:"drawTicks",value:function(t,e){var i,n,r,s=t,o=this.getCurrentMin(),a=this.getCurrentMax(),u=0;for(e&&(i=s/e),n=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-o)/s)*s:Math.floor(o/s)*s,this.incrTick=t;n<=a&&!(1e3<++u);){if(e){r=n+i,this.subIncrTick=r;for(var h=0;r<n+s&&!(100<++h);)r<o||a<r||this.drawTickWrapper(r,!1,Math.abs(r-n-s/2)<1e-4?2:3),r+=i}n<o||a<n||this.drawTickWrapper(n,!0,1),n+=t}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){var i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}i=this.ticks[t][this.currentTick[t]];return this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}},{key:"nextTickLabel",value:function(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}e=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}},{key:"removeUselessTicks",value:function(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}},{key:"removeUselessTickLabels",value:function(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(t,e,i,n,r){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+="M "+e+" "+n+" L "+i+" "+r)}},{key:"setGridLineStyle",value:function(t,e){var i;t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity()),(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e);e=Math.max(t,e);i<1e-50&&(i=1e-50),20<Math.log(i)-Math.log(e)&&(e=Math.pow(10,20*Math.log(i)));var n={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);var r,s=0==i?0:Math.floor(Math.log(i)/Math.log(10));for(i=1;(r=i*Math.pow(10,s))<e;)1==i&&t<r&&this.drawTickWrapper(r,!0,1,n),10==i?(i=1,s++):(1!=i&&t<r&&this.drawTickWrapper(r,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(t,e,i,n){this.drawTick(t,i,n)}},{key:"linkToAxis",value:function(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(t,e){var i,n,r,s,o=this.linkedToAxis,a=0;o.deltaPx||(o.deltaPx=10);do{if(i=o.scalingFunction(o.axis.getVal(a+this.getMinPx())),o.decimals&&(this.decimals=o.decimals),!(n=this.drawTick(i,1,{},a+this.getMinPx())))throw console.error(i,a,this.getMinPx()),new Error("Unable to draw tick. Please report the test-case");if(r=8*String(n[1].textContent).length,(s=5*Math.round(r/5))>o.deltaPx)return o.deltaPx=s,void this.drawLinkedToAxisTicksWrapper(t,e);a+=o.deltaPx}while(a<t)}},{key:"getPos",value:function(t){return this.getPx(t)}},{key:"getPx",value:function(t){if(this.options.logScale){if(t<0)return;return t=(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(t){return Math.round(10*this.getPx(t))/10}},{key:"getVal",value:function(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(t){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return t=this.modifyUnit(t,this.options.unitModification);var e=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=0<e?t.toFixed(e):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=" "+this.options.unit),t)}},{key:"valueToHtml",value:function(t,e,i){var n,r=this.valueToText(t);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?r+=n:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(r+="x10",r+="<sup>"+this.scientificExponent+"</sup>"),this.options.unit&&!i&&(r+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),r}},{key:"getModifiedValue",value:function(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}},{key:"modifyUnit",value:function(t,e){var i,n="",r=this.incrTick;switch(e){case"time":var s=this.getModifiedValue(this.getMaxValue()),o=[[60,"min"],[3600,"h"],[86400,"d"]];if(s<3600?i=0:s<86400?i=1:s<2592e3&&(i=2),!o[i])return!1;for(t/=o[i][0],n=(a=Math.floor(t))+o[i][1],i--;r<1*o[i+1][0]&&-1<i;)t=(t-a)*o[i+1][0]/o[i][0],n+=" "+(a=Math.round(t))+o[i][1],i--;break;case"time:min.sec":t/=60;var a=Math.floor(t),u=""+Math.round(60*(t-a));n=a+"."+(u=1==u.length?"0"+u:u)}return n}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(t){this.options.exponentialFactor=t}},{key:"setExponentialLabelFactor",value:function(t){this.options.exponentialLabelFactor=t}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setLabel",value:function(t){return this.options.label=t,this}},{key:"setLabelFont",value:function(t){return this.options.labelFont=t,this}},{key:"getLabel",value:function(){return this.options.label}},{key:"setSpan",value:function(t,e){return this.options.span=[t,e],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(t){return this._level=t,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(t){this.shift=t}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(t){switch(t){case 3:case"outside":case s.default.TICKS_OUTSIDE:t=3;break;case 2:case"centered":case s.default.TICKS_CENTERED:t=2;break;case 1:case"inside":case s.default.TICKS_INSIDE:default:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;default:case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}},{key:"setPrimaryGrid",value:function(t){return this.options.primaryGrid=t,this}},{key:"setSecondaryGrid",value:function(t){return this.options.secondaryGrid=t,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setColor",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"black";return this.options.axisColor=t,this.options.primaryTicksColor=t,this.options.secondaryTicksColor=t,this.options.ticksLabelColor=t,this.options.primaryGridColor=t,this.options.secondaryGridColor=t,this.options.labelColor=t,this}},{key:"setAxisColor",value:function(t){return this.options.axisColor=t,this}},{key:"getAxisColor",value:function(){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(t){return this.options.tickLabelOffset=t,this}},{key:"setPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor=t,this}},{key:"getPrimaryTicksColor",value:function(){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor=t,this}},{key:"getSecondaryTicksColor",value:function(){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(e){return this.options.ticksLabelColor=e,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(t){t.setAttribute("fill",e)}),this}},{key:"getTicksLabelColor",value:function(){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(t){return this.options.primaryGridOpacity=t,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(t){return this.options.secondaryGridOpacity=t,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(t){return this.options.primaryGridDasharray=t,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(t){return this.options.secondaryGridDasharray=t,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(t){return this.options.labelColor=t,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e);else{var n=Math.round(Math.log(e)/Math.log(10)),r=Math.floor(e*Math.pow(10,-n));t.textContent=1!=r?r+"x10":"10";var s=document.createElementNS(this.graph.ns,"tspan");s.textContent=n,s.setAttribute("font-size","0.7em"),s.setAttribute("dy",-5),t.appendChild(s)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(t){return this.options.unit=t,this}},{key:"setUnitInTicks",value:function(t){return this.options.unitInTicks=t,this}},{key:"setUnitWrapper",value:function(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}},{key:"setUnitDecade",value:function(t){return this.options.unitDecade=t,this}},{key:"setScientific",value:function(t){return this.options.scientificScale=t,this}},{key:"setScientificScaleExponent",value:function(t){return this.options.scientificScaleExponent=t,this}},{key:"setEngineering",value:function(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}},{key:"getEngineeringExponent",value:function(t){return t-=0<t?t%3:(3- -t%3)%3}},{key:"setLogScale",value:function(t){return this.options.logScale=t,this}},{key:"isZoomed",value:function(){return!(this.currentAxisMin==this.getMinValue()||this.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=t,this}},{key:"zoomLock",set:function(t){this._zoomLocked=t},get:function(){return this._zoomLocked||!1}}]),e}();c.prototype.getValue=c.prototype.getVal,c.prototype.getDeltaPx=c.prototype.getRelPx,e.default=c,t.exports=e.default},r=[t,e,i(71),i(54),i(5)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i);var n={makeBarY:function(t,e,i){if(t&&void 0!==i){var n=u.isNumeric(i.width)?i.width:10;return" V "+t+" m -"+n/2+" 0 h "+n+" m -"+n/2+" 0 V "+e+" "}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return" m 5 0 V "+t+" h -10 V "+e+" m 5 0 "},makeBarX:function(t,e,i){if(t&&void 0!==i){var n=u.isNumeric(i.width)?i.width:10;return" H "+t+" m 0 -"+n/2+" v "+n+" m 0 -"+n/2+" H "+e+" "}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return" v 5 H "+t+" v -10 H "+e+" v 5 "},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle:function(){var t,e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=[],r=[["y","top","bottom"],["x","left","right"]];n={};"string"==typeof i&&(i={});for(var s=0,o=r.length;s<o;s++){i.all&&(i[r[s][1]]=u.extend(!0,{},i.all),i[r[s][2]]=u.extend(!0,{},i.all)),i[r[s][0]]&&(i[r[s][1]]=u.extend(!0,{},i[r[s][0]]),i[r[s][2]]=u.extend(!0,{},i[r[s][0]]));for(var a=1;a<=2;a++)i[r[s][a]]&&(n[r[s][a]]=i[r[s][a]],(t=n[r[s][a]]).dom=document.createElementNS(e.graph.ns,"path"),t.dom.setAttribute("fill",t.fillColor||"none"),t.dom.setAttribute("stroke",t.strokeColor||"black"),t.dom.setAttribute("stroke-opacity",t.strokeOpacity||1),t.dom.setAttribute("fill-opacity",t.fillOpacity||1),t.dom.setAttribute("stroke-width",t.strokeWidth||1),e.groupMain.appendChild(t.dom))}return console.log(n),n},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,n,r){var s=void 0;this.errorbarStyle&&((s=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=" M "+n+" "+r,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-s),n,this.errorbarStyle.left)),(s=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=" M "+n+" "+r,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+s),n,this.errorbarStyle.right)),(s=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=" M "+n+" "+r,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-s),r,this.errorbarStyle.bottom)),(s=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=" M "+n+" "+r,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+s),r,this.errorbarStyle.top))),this.errorboxStyle&&((s=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=" M "+n+" "+r,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-s),n,this.errorboxStyle.left)),(s=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=" M "+n+" "+r,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+s),n,this.errorboxStyle.right)),(s=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=" M "+n+" "+r,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-s),r,this.errorboxStyle.bottom)),(s=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=" M "+n+" "+r,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+s),r,this.errorboxStyle.top)))},errorAddPointBarChart:function(t,e,i,n){var r;this.error&&(r=this.error[t])&&this.doErrorDraw("y",r,e,n,i,n)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};e.default=n,t.exports=e.default},r=[t,e,i(5)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=i)&&s.__esModule?s:{default:s},a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n);var u=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var h={redrawShapesAfterDraw:!1},l=function(t){function s(t,e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments));return r.options=a.extend(!0,{},h,n,i),r.graph=t,r.name=e,r.groupMain=document.createElementNS(r.graph.ns,"g"),r._symbolLegendContainer=document.createElementNS(r.graph.ns,"g"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o.default),u(s,[{key:"postInit",value:function(){}},{key:"draw",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(t){t.redraw()}),this.emit("draw")}},{key:"setData",value:function(t,e,i){if(t instanceof r.Waveform)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(t,e){return[]}},{key:"clearData",value:function(){return this.setData(new r.Waveform),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(t){this.options=t||{}}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"kill",value:function(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").hidePeakPicking(),this}},{key:"show",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").showPeakPicking(),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(t){return(t=this.getXAxis().getPx(t))-t%.2}},{key:"getY",value:function(t){return(t=this.getYAxis().getPx(t))-t%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}},{key:"_checkY",value:function(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(t){if(!(t instanceof r.Waveform))throw console.trace(),console.error(t),new Error("Cannot assign waveform to serie. Waveform is not of the proper Waveform instance");return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1",5),t.setAttribute("x2",25),t.setAttribute("y1",0),t.setAttribute("y2",0),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}},{key:"_getSymbolForLegendContainer",value:function(){return this._symbolLegendContainer}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(t){return this.options.flip=t,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(t){var e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"styleHasChanged",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(t){return this._changedStyles=this._changedStyles||{},this._changedStyles[t||"unselected"]}},{key:"dataHasChanged",value:function(t){return this._dataHasChanged=void 0===t||t,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}},{key:"getInfo",value:function(t,e){return(this.infos||{})[t]}},{key:"setAdditionalData",value:function(t){return this.additionalData=t,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(){return this.selected=!0,this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(t,e){return this._tracker=!0,this._trackingCallback=t,this._trackingOutCallback=e,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this._trackingCallback=null,this}},{key:"allowTrackingLine",value:function(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"excludeFromLegend",value:function(){return this._excludedFromLegend=!0,this}},{key:"includeInLegend",value:function(){return this._excludedFromLegend=!1,this}},{key:"setDataIndices",value:function(t,e){this.categoryIndices=t,this.nbCategories=e}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}}]),s}();e.default=l,t.exports=e.default},r=[t,e,i(54),i(5),i(55)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n=i(4),r=i(2).document,s=n(r)&&n(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var n=i(2),r=i(19),s=i(33),o=i(106),a=i(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var n=i(56)("keys"),r=i(36);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(2).document;t.exports=n&&n.documentElement},function(t,e,r){var i=r(4),n=r(1),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=r(20)(Function.call,r(17).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return s(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:s}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var s=i(4),o=i(80).set;t.exports=function(t,e,i){var n,r=e.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&s(n)&&o&&o(t,n),t}},function(t,e,i){"use strict";var r=i(25),s=i(24);t.exports=function(t){var e=String(s(this)),i="",n=r(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var u=i(25),h=i(24);t.exports=function(a){return function(t,e){var i,n,r=String(h(t)),s=u(e),o=r.length;return s<0||o<=s?a?"":void 0:(i=r.charCodeAt(s))<55296||56319<i||s+1===o||(n=r.charCodeAt(s+1))<56320||57343<n?a?r.charAt(s):i:a?r.slice(s,s+2):n-56320+(i-55296<<10)+65536}}},function(t,e,i){"use strict";var x=i(33),b=i(0),k=i(13),_=i(12),M=i(47),w=i(88),S=i(45),A=i(18),P=i(6)("iterator"),C=!([].keys&&"next"in[].keys()),L="values",O=function(){return this};t.exports=function(t,e,i,n,r,s,o){w(i,e,n);var a,u,h,l=function(t){if(!C&&t in d)return d[t];switch(t){case"keys":case L:return function(){return new i(this,t)}}return function(){return new i(this,t)}},c=e+" Iterator",f=r==L,p=!1,d=t.prototype,g=d[P]||d["@@iterator"]||r&&d[r],y=g||l(r),v=r?f?l("entries"):y:void 0,m="Array"==e&&d.entries||g;if(m&&(h=A(m.call(new t)))!==Object.prototype&&h.next&&(S(h,c,!0),x||"function"==typeof h[P]||_(h,P,O)),f&&g&&g.name!==L&&(p=!0,y=function(){return g.call(this)}),x&&!o||!C&&!p&&d[P]||_(d,P,y),M[e]=y,M[c]=O,r)if(a={values:f?y:l(L),keys:s?y:l("keys"),entries:v},o)for(u in a)u in d||k(d,u,a[u]);else b(b.P+b.F*(C||p),e,a);return a}},function(t,e,i){"use strict";var n=i(39),r=i(35),s=i(45),o={};i(12)(o,i(6)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:r(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(60),r=i(24);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(6)("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[n]=!1,!"/./"[e](i)}catch(t){}}return!0}},function(t,e,i){var n=i(47),r=i(6)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[r]===t)}},function(t,e,i){"use strict";var n=i(8),r=i(35);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(52),r=i(6)("iterator"),s=i(47);t.exports=i(19).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||s[n(t)]}},function(t,e,i){var n=i(237);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var a=i(10),u=i(38),h=i(9);t.exports=function(t){for(var e=a(this),i=h(e.length),n=arguments.length,r=u(1<n?arguments[1]:void 0,i),s=2<n?arguments[2]:void 0,o=void 0===s?i:u(s,i);r<o;)e[r++]=t;return e}},function(t,e,i){"use strict";var n=i(34),r=i(122),s=i(47),o=i(16);t.exports=i(87)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var n,r,s,o=i(20),a=i(112),u=i(79),h=i(75),l=i(2),c=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,y=0,v={},m="onreadystatechange",x=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){x.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++y]=function(){a("function"==typeof t?t:Function(t),e)},n(y),y},p=function(t){delete v[t]},"process"==i(21)(c)?n=function(t){c.nextTick(o(x,t,1))}:g&&g.now?n=function(t){g.now(o(x,t,1))}:d?(s=(r=new d).port2,r.port1.onmessage=b,n=o(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n=m in h("script")?function(t){u.appendChild(h("script"))[m]=function(){u.removeChild(this),x.call(t)}}:function(t){setTimeout(o(x,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){var a=i(2),u=i(97).set,h=a.MutationObserver||a.WebKitMutationObserver,l=a.process,c=a.Promise,f="process"==i(21)(l);t.exports=function(){var i,n,r,t=function(){var t,e;for(f&&(t=l.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?r():n=void 0,t}}n=void 0,t&&t.enter()};if(f)r=function(){l.nextTick(t)};else if(!h||a.navigator&&a.navigator.standalone)if(c&&c.resolve){var e=c.resolve(void 0);r=function(){e.then(t)}}else r=function(){u.call(a,t)};else{var s=!0,o=document.createTextNode("");new h(t).observe(o,{characterData:!0}),r=function(){o.data=s=!s}}return function(t){var e={fn:t,next:void 0};n&&(n.next=e),i||(i=e,r()),n=e}}},function(t,e,i){"use strict";var r=i(11);function n(t){var i,n;this.promise=new t(function(t,e){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=t,n=e}),this.resolve=r(i),this.reject=r(n)}t.exports.f=function(t){return new n(t)}},function(t,e,i){"use strict";var n=i(2),r=i(7),s=i(33),o=i(67),a=i(12),u=i(44),h=i(3),l=i(42),c=i(25),f=i(9),p=i(131),d=i(40).f,g=i(8).f,y=i(95),v=i(45),m="ArrayBuffer",x="DataView",b="prototype",k="Wrong index!",_=n[m],M=n[x],w=n.Math,S=n.RangeError,A=n.Infinity,P=_,C=w.abs,L=w.pow,O=w.floor,E=w.log,T=w.LN2,X="byteLength",D="byteOffset",j=r?"_b":"buffer",N=r?"_l":X,I=r?"_o":D;function Y(t,e,i){var n,r,s,o=new Array(i),a=8*i-e-1,u=(1<<a)-1,h=u>>1,l=23===e?L(2,-24)-L(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===A?(r=t!=t?1:0,n=u):(n=O(E(t)/T),t*(s=L(2,-n))<1&&(n--,s*=2),2<=(t+=1<=n+h?l/s:l*L(2,1-h))*s&&(n++,s/=2),u<=n+h?(r=0,n=u):1<=n+h?(r=(t*s-1)*L(2,e),n+=h):(r=t*L(2,h-1)*L(2,e),n=0));8<=e;o[c++]=255&r,r/=256,e-=8);for(n=n<<e|r,a+=e;0<a;o[c++]=255&n,n/=256,a-=8);return o[--c]|=128*f,o}function F(t,e,i){var n,r=8*i-e-1,s=(1<<r)-1,o=s>>1,a=r-7,u=i-1,h=t[u--],l=127&h;for(h>>=7;0<a;l=256*l+t[u],u--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;0<a;n=256*n+t[u],u--,a-=8);if(0===l)l=1-o;else{if(l===s)return n?NaN:h?-A:A;n+=L(2,e),l-=o}return(h?-1:1)*n*L(2,l-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function H(t){return[255&t]}function W(t){return[255&t,t>>8&255]}function R(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return Y(t,52,8)}function V(t){return Y(t,23,4)}function G(t,e,i){g(t[b],e,{get:function(){return this[i]}})}function U(t,e,i,n){var r=p(+i);if(r+e>t[N])throw S(k);var s=t[j]._b,o=r+t[I],a=s.slice(o,o+e);return n?a:a.reverse()}function Z(t,e,i,n,r,s){var o=p(+i);if(o+e>t[N])throw S(k);for(var a=t[j]._b,u=o+t[I],h=n(+r),l=0;l<e;l++)a[u+l]=h[s?l:e-l-1]}if(o.ABV){if(!h(function(){_(1)})||!h(function(){new _(-1)})||h(function(){return new _,new _(1.5),new _(NaN),_.name!=m})){for(var q,K=(_=function(t){return l(this,_),new P(p(t))})[b]=P[b],J=d(P),Q=0;J.length>Q;)(q=J[Q++])in _||a(_,q,P[q]);s||(K.constructor=_)}var $=new M(new _(2)),tt=M[b].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(M[b],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else _=function(t){l(this,_,m);var e=p(t);this._b=y.call(new Array(e),0),this[N]=e},M=function(t,e,i){l(this,M,x),l(t,_,x);var n=t[N],r=c(e);if(r<0||n<r)throw S("Wrong offset!");if(n<r+(i=void 0===i?n-r:f(i)))throw S("Wrong length!");this[j]=t,this[I]=r,this[N]=i},r&&(G(_,X,"_l"),G(M,"buffer","_b"),G(M,X,"_l"),G(M,D,"_o")),u(M[b],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(U(this,4,t,arguments[1]))},getUint32:function(t){return B(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,H,e)},setUint8:function(t,e){Z(this,1,t,H,e)},setInt16:function(t,e){Z(this,2,t,W,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,W,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,R,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,R,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,z,e,arguments[2])}});v(_,m),v(M,x),a(M[b],o.VIEW,!0),e[m]=_,e[x]=M},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var r=function(t){function r(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,i));return n.top="top"==e,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),o(r,[{key:"getAxisPosition",value:function(){if(!this.options.display)return 0;var t=void 0;return 0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=1*this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"forceHeight",value:function(t){return this.options.forcedHeight=t,this}},{key:"setShift",value:function(t){this.shift=t,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 "+(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(this.options.tickPosition,10)}},{key:"drawTick",value:function(t,e,i,n){var r,s=this,o=this;if(null!=(r=n||this.getPos(t))&&!isNaN(r)){var a=this.nextTick(e,function(t){t.setAttribute("y1",(o.top?1:-1)*o.tickPx1*o.tickScaling[e]),t.setAttribute("y2",(o.top?1:-1)*o.tickPx2*o.tickScaling[e]),1==e?t.setAttribute("stroke",o.getPrimaryTicksColor()):t.setAttribute("stroke",o.getSecondaryTicksColor())});if(a.setAttribute("x1",r),a.setAttribute("x2",r),this.nextGridLine(1==e,r,r,0,this.graph.getDrawingHeight()),1==e){var u=this.nextTickLabel(function(t){t.setAttribute("y",(o.top?-1:1)*((1==o.options.tickPosition?8:20)+(o.top?10:0))+s.options.tickLabelOffset),t.setAttribute("text-anchor","middle"),"black"!==o.getTicksLabelColor()&&t.setAttribute("fill",o.getTicksLabelColor()),t.style.dominantBaseline="hanging"});u.setAttribute("x",r),this.setTickContent(u,t,i)}return[a,u]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var t=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),t}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#horionzalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#horionzalsplit_"+this.graph.getId()+")":"")}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftX}}]),r}();e.default=r,t.exports=e.default},r=[t,e,i(72)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=u(n),a=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var l=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var c=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};var f={markers:!0,markerStyles:{unselected:{default:{shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"}},selected:{default:{r:4}}}},p=function(t){function s(t,e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,i,o.extend(!0,{},f,n)));return r._type="scatter",o.mapEventEmission(r.options,r),r.shapes=[],r.shapesDetails=[],r.shapes=[],r.groupMarkers=document.createElementNS(r.graph.ns,"g"),r.groupMain.appendChild(r.groupMarkers),r.selectedStyleGeneral={},r.selectedStyleModifiers={},r.groupMarkers.addEventListener("mouseenter",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(r.options.selectMarkerOnHover&&r.selectMarker(e,"selected"),r.emit("mouseOverMarker",e,r.waveform.getX(e),r.waveform.getY(e)))},!0),r.groupMarkers.addEventListener("mouseout",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(r.options.selectMarkerOnHover&&r.selectMarker(e,"unselected"),r.emit("mouseOutMarker",e,r.waveform.getX(e),r.waveform.getY(e)))}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,a.default),l(s,[{key:"setDataCategory",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=t[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;this._checkY(o.y.getMaxY()),this._checkY(o.y.getMinY())}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupMarkers.firstChild;)this.groupMarkers.removeChild(this.groupMarkers.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.markers){var t=c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_getSymbolForLegendContainer",this).call(this);this.shapeLegend||(this.shapeLegend=this._makeMarker(t,this.options.markerStyles.unselected.default),t.appendChild(this.shapeLegend));var e=this.getMarkerStyle("unselected",-1,!0);for(var i in e[-1])"shape"!=i&&this.shapeLegend.setAttribute(i,e[-1][i]);return t}}},{key:"setMarkerStyle",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof e&&(i=e,e=!1),this.options.markerStyles[i]=this.options.markerStyles[i]||{},this.options.markerStyles[i].all=t,this.options.markerStyles[i].modifiers=e,this.styleHasChanged(i),this}},{key:"draw",value:function(t){if((t||this.hasDataChanged()||this.hasStyleChanged("unselected"))&&this.options.markers){var e=void 0,i=void 0,n=void 0,r="category"==this.getXAxis().getType(),s=[];if(this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupMarkers),n=0,this.hasErrors()&&this.errorDrawInit(),r){for(var o=0;n<this.data.length;n++)if(this.categoryIndices.hasOwnProperty(this.data[n].x)){this.error;for(var a=0,u=this.data[n].y.getLength();a<u;a++)i=this.getY(this.data[n].y.getY(a)),e=this.getX(a/(u-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[n].x]+.1/this.nbCategories),a++,this.shapesDetails[o]=this.shapesDetails[o]||[],this.shapesDetails[o][0]=e,this.shapesDetails[o][1]=i,s.push(o),o++}}else for(;n<this.waveform.getLength();n++)this.waveform.getX(n)<this.getXAxis().getCurrentMin()||this.waveform.getX(n)>this.getXAxis().getCurrentMax()||this.waveform.getY(n)<this.getYAxis().getCurrentMin()||this.waveform.getY(n)>this.getYAxis().getCurrentMax()?this.shapes[n]&&(this.shapes[n].setAttribute("display","none"),this.shapes[n]._hidden=!0):(this.shapes[n]&&this.shapes[n]._hidden&&(this.shapes[n].setAttribute("display","initial"),this.shapes[n]._hidden=!1),e=this.getX(this.waveform.getX(n)),i=this.getY(this.waveform.getY(n)),this.hasErrors()&&this.errorAddPoint(n,this.waveform.getX(n),this.waveform.getY(n),e,i),this.shapesDetails[n]=this.shapesDetails[n]||[],this.shapesDetails[n][0]=e,this.shapesDetails[n][1]=i,s.push(n));this.hasErrors()&&this.errorDraw(),this.applyMarkerStyle(this.selectionType||"unselected",s),this.keys=s,this.groupMain.appendChild(this.groupMarkers)}}},{key:"_makeMarker",value:function(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}},{key:"getMarkerStyle",value:function(t,e,i){t=t||"unselected";var n,r,s,o,a={};"number"==typeof e?n=[e]:Array.isArray(e)&&(n=e),this.options.markerStyles[t]||(t="unselected");var u=this.options.markerStyles[t].all;u||(u=this.options.markerStyles[t].default),"function"==typeof u&&(u=u());var h=this.options.markerStyles[t].default?this.options.markerStyles[t].default:this.options.markerStyles.unselected.default;u=Object.assign({},h,u);for(var l=0,c=n.length;l<c;l++){if(e=n[l],r=this.shapes[e],(s=this.options.markerStyles[t].modifiers)&&("function"==typeof s||s[e])){if("function"==typeof s){if(!1===(o=s(this.waveform.getX(e),this.waveform.getY(e),e,r,u)))continue}else s[e]&&(o=s[e]);a[e]=Object.assign({},u,o)}else a[e]=void 0!==u?u:this.options.markerStyles[t].default;if(a[e]||(a[e]=u),!r){if(!a[e].shape)throw console.error(o),'No shape was defined with the style "'+o+'".';var f=document.createElementNS(this.graph.ns,"g");f.setAttribute("data-shapeid",e),this.shapes[e]=this._makeMarker(f,a[e]),this.groupMarkers.appendChild(f),r=this.shapes[e]}i||this.shapesDetails[e][0]!=this.shapesDetails[e][0]||this.shapesDetails[e][1]!=this.shapesDetails[e][1]||r.parentNode.setAttribute("transform","translate("+this.shapesDetails[e][0]+", "+this.shapesDetails[e][1]+")")}return a}},{key:"applyMarkerStyle",value:function(t,e,i){var n,r,s=this.getMarkerStyle(t,e,i);for(n in s)for(r in s[n])"shape"!==r&&this.shapes[n]&&(s[n][r]?this.shapes[n].setAttribute(r,s[n][r]):this.shapes[n].removeAttribute(r))}},{key:"unselectMarker",value:function(t){this.selectMarker(t,!1)}},{key:"selectMarker",value:function(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectMarkers(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyMarkerStyle(i,t,!0);else{var n=this.shapesDetails[t][2];this.shapesDetails[t][2]=!1;var r=this.getMarkerStyle(n,t,!0);for(var s in r[t])this.shapes[t].removeAttribute(s);this.applyMarkerStyle("unselected",t,!0)}}}},{key:"select",value:function(t){this.selectionType=t,this.applyMarkerStyle(this.selectionType||"selected",this.keys),c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"select",this).call(this,t)}},{key:"unselect",value:function(){this.selectionType="unselected",this.applyMarkerStyle(this.selectionType||"unselected",this.keys),c(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"unselect",this).call(this)}},{key:"setMarkers",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.options.markers=t,this}},{key:"showMarkers",value:function(){if(!this.options.markers)return this.options.markers=!0,this.groupMarkers.setAttribute("display","initial"),this.shapeLegend&&this.shapeLegend.setAttribute("display","initial"),this}},{key:"hideMarkers",value:function(){if(this.options.markers)return this.options.markers=!1,this.groupMarkers.setAttribute("display","none"),this.shapeLegend&&this.shapeLegend.setAttribute("display","none"),this}},{key:"getUsedCategories",value:function(){return"object"==h(this.data[0])?this.data.map(function(t){return t.x}):[]}}]),s}();o.mix(p,s.default),e.default=p,t.exports=e.default},r=[t,e,i(5),i(73),i(74)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||s.deltaPosition("y",i,this.getYAxis())),this.moving&&(console.log(this._data),o.x&&!this._data.noX&&o.deltaPosition("x",e,this.getXAxis()),o.y&&!this._data.noY&&o.deltaPosition("y",i,this.getYAxis()),a.x&&!this._data.noX&&a.deltaPosition("x",e,this.getXAxis()),a.y&&!this._data.noY&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var u=this._data.forcedCoords;void 0!==u.y&&("function"==typeof u.y?a.y=o.y=u.y(this):(a.y=u.y,o.y=u.y)),void 0!==u.x&&("function"==typeof u.x?a.x=o.x=u.x(this):(a.x=u.x,o.x=u.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),(this.rectEvent.jsGraphIsShape=this).group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}]),i}();e.default=o,t.exports=e.default},r=[t,e,i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(xta,yta){var zta;zta=function(){return this}();try{zta=zta||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(zta=window)}xta.exports=zta},function(t,e,i){t.exports=!i(7)&&!i(3)(function(){return 7!=Object.defineProperty(i(75)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(6)},function(t,e,i){var o=i(15),a=i(16),u=i(57)(!1),h=i(77)("IE_PROTO");t.exports=function(t,e){var i,n=a(t),r=0,s=[];for(i in n)i!=h&&o(n,i)&&s.push(i);for(;e.length>r;)o(n,i=e[r++])&&(~u(s,i)||s.push(i));return s}},function(t,e,i){var o=i(8),a=i(1),u=i(37);t.exports=i(7)?Object.defineProperties:function(t,e){a(t);for(var i,n=u(e),r=n.length,s=0;s<r;)o.f(t,i=n[s++],e[i]);return t}},function(t,e,i){var n=i(16),r=i(40).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(n(t))}},function(t,e,i){"use strict";var f=i(37),p=i(58),d=i(51),g=i(10),y=i(50),r=Object.assign;t.exports=!r||i(3)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=r({},t)[i]||Object.keys(r({},e)).join("")!=n})?function(t,e){for(var i=g(t),n=arguments.length,r=1,s=p.f,o=d.f;r<n;)for(var a,u=y(arguments[r++]),h=s?f(u).concat(s(u)):f(u),l=h.length,c=0;c<l;)o.call(u,a=h[c++])&&(i[a]=u[a]);return i}:r},function(t,e,i){"use strict";var s=i(11),o=i(4),a=i(112),u=[].slice,h={};t.exports=Function.bind||function(e){var i=s(this),n=u.call(arguments,1),r=function(){var t=n.concat(u.call(arguments));return this instanceof r?function(t,e,i){if(!(e in h)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";h[e]=Function("F,a","return new F("+n.join(",")+")")}return h[e](t,i)}(i,t.length,t):a(i,t,e)};return o(i.prototype)&&(r.prototype=i.prototype),r}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(2).parseInt,r=i(46).trim,s=i(81),o=/^[-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(o.test(i)?16:10))}:n},function(t,e,i){var n=i(2).parseFloat,r=i(46).trim;t.exports=1/n(i(81)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(21);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(4),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var s=i(84),n=Math.pow,o=n(2,-52),a=n(2,-23),u=n(2,127)*(2-a),h=n(2,-126);t.exports=Math.fround||function(t){var e,i,n=Math.abs(t),r=s(t);return n<h?r*(n/h/a+1/o-1/o)*h*a:u<(i=(e=(1+a/o)*n)-(e-n))||i!=i?r*(1/0):r*i}},function(t,e,i){var s=i(1);t.exports=function(e,t,i,n){try{return n?t(s(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&s(r.call(e)),t}}},function(t,e,i){var l=i(11),c=i(10),f=i(50),p=i(9);t.exports=function(t,e,i,n,r){l(e);var s=c(t),o=f(s),a=p(s.length),u=r?a-1:0,h=r?-1:1;if(i<2)for(;;){if(u in o){n=o[u],u+=h;break}if(u+=h,r?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=u:u<a;u+=h)u in o&&(n=e(n,o[u],u,s));return n}},function(t,e,i){"use strict";var h=i(10),l=i(38),c=i(9);t.exports=[].copyWithin||function(t,e){var i=h(this),n=c(i.length),r=l(t,n),s=l(e,n),o=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===o?n:l(o,n))-s,n-r),u=1;for(s<r&&r<s+a&&(u=-1,s+=a-1,r+=a-1);0<a--;)s in i?i[r]=i[s]:delete i[r],r+=u,s+=u;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(7)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(62)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(1),r=i(4),s=i(99);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=s.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var n=i(127),r=i(48);t.exports=i(66)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var o=i(8).f,a=i(39),u=i(44),h=i(20),l=i(42),c=i(43),n=i(87),r=i(122),s=i(41),f=i(7),p=i(32).fastKey,d=i(48),g=f?"_s":"size",y=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,s,i,n){var r=t(function(t,e){l(t,r,s,"_i"),t._t=s,t._i=a(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&c(e,i,t[n],t)});return u(r.prototype,{clear:function(){for(var t=d(this,s),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=d(this,s),i=y(e,t);if(i){var n=i.n,r=i.p;delete e._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),e._f==i&&(e._f=n),e._l==i&&(e._l=r),e[g]--}return!!i},forEach:function(t){d(this,s);for(var e,i=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(d(this,s),t)}}),f&&o(r.prototype,"size",{get:function(){return d(this,s)[g]}}),r},def:function(t,e,i){var n,r,s=y(t,e);return s?s.v=i:(t._l=s={i:r=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[g]++,"F"!==r&&(t._i[r]=s)),t},getEntry:y,setStrong:function(t,i,e){n(t,i,function(t,e){this._t=d(t,i),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},e?"entries":"values",!e,!0),s(i)}}},function(t,e,i){"use strict";var n=i(127),r=i(48);t.exports=i(66)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var s,n=i(27)(0),o=i(13),r=i(32),a=i(110),u=i(130),h=i(4),l=i(3),c=i(48),f="WeakMap",p=r.getWeak,d=Object.isExtensible,g=u.ufstore,y={},v=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},m={get:function(t){if(h(t)){var e=p(t);return!0===e?g(c(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,f),t,e)}},x=t.exports=i(66)(f,v,m,u,!0,!0);l(function(){return 7!=(new x).set((Object.freeze||Object)(y),7).get(y)})&&(a((s=u.getConstructor(v,f)).prototype,m),r.NEED=!0,n(["delete","has","get","set"],function(n){var t=x.prototype,r=t[n];o(t,n,function(t,e){if(h(t)&&!d(t)){this._f||(this._f=new s);var i=this._f[n](t,e);return"set"==n?this:i}return r.call(this,t,e)})}))},function(t,e,i){"use strict";var o=i(44),a=i(32).getWeak,r=i(1),u=i(4),h=i(42),l=i(43),n=i(27),c=i(15),f=i(48),s=n(5),p=n(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return s(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,n,r){var s=t(function(t,e){h(t,s,i,"_i"),t._t=i,t._i=d++,t._l=void 0,null!=e&&l(e,n,t[r],t)});return o(s.prototype,{delete:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).has(t):e&&c(e,this._i)}}),s},def:function(t,e,i){var n=a(r(e),!0);return!0===n?g(t).set(e,i):n[t._i]=i,t},ufstore:g}},function(t,e,i){var n=i(25),r=i(9);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(40),r=i(58),s=i(1),o=i(2).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(s(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var d=i(59),g=i(4),y=i(9),v=i(20),m=i(6)("isConcatSpreadable");t.exports=function t(e,i,n,r,s,o,a,u){for(var h,l,c=s,f=0,p=!!a&&v(a,u,3);f<r;){if(f in n){if(h=p?p(n[f],f,i):n[f],l=!1,g(h)&&(l=void 0!==(l=h[m])?!!l:d(h)),l&&0<o)c=t(e,i,h,y(h.length),c,o-1)-1;else{if(9007199254740991<=c)throw TypeError();e[c]=h}c++}f++}return c}},function(t,e,i){var l=i(9),c=i(83),f=i(24);t.exports=function(t,e,i,n){var r=String(f(t)),s=r.length,o=void 0===i?" ":String(i),a=l(e);if(a<=s||""==o)return r;var u=a-s,h=c.call(o,Math.ceil(u/o.length));return h.length>u&&(h=h.slice(0,u)),n?h+r:r+h}},function(t,e,i){var u=i(37),h=i(16),l=i(51).f;t.exports=function(a){return function(t){for(var e,i=h(t),n=u(i),r=n.length,s=0,o=[];s<r;)l.call(i,e=n[s++])&&o.push(a?[e,i[e]]:i[e]);return o}}},function(t,e,i){var n=i(52),r=i(137);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(43);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-n)/(i-e)+n}},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),n=function(){function e(t){u(this,e),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(t.dataY),this.setXData(t.dataX),this.setWeight(t.weight),this.setInitialParams(t.params),t.subsetIndex&&this.setSubset.apply(this,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.subsetIndex)),this.setFunction(t.function),t.progress&&this.hookIteration(t.progress),this.options=t}return i(e,[{key:"setYData",value:function(t){this.data=t}},{key:"setXData",value:function(t){this.dataX=t}},{key:"setWeight",value:function(t){this.weight=t}},{key:"setInitialParams",value:function(t){var e=this;this.parms=t,this.parms=this.parms.map(function(t){return"function"==typeof t?t(e.data,e.dataX):t}),this.NPARMS=t.length}},{key:"setSubset",value:function(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}},{key:"hookIteration",value:function(i){var n=this;this._hookIteration=function(t){var e=n.buildFit(t,200);i(e)}}},{key:"setFunction",value:function(t){this._func=t}},{key:"init",value:function(){var e=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(t){return new Array(e.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {"+this.parms.join()+"};"),new r(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {"+this.parms.join()+"};"),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(t,e){return this._func(t,e)}},{key:"computeResiduals",value:function(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}},{key:"log",value:function(t){this.options.log&&console.log(t)}},{key:"nudge",value:function(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(var n=0;n<this.NPARMS;n++)t[n]=n==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var r=0;r<this.NPTS;r++)this.jac[r][i]=this.getResidualElement(r);for(n=0;n<this.NPARMS;n++)t[n]=n==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(r=0;r<this.NPTS;r++)this.jac[r][i]-=this.getResidualElement(r);for(r=0;r<this.NPTS;r++)this.jac[r][i]*=e;for(n=0;n<this.NPARMS;n++)t[n]=n==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(t){return this.resid[t]}},{key:"getJacobianElement",value:function(t,e){return this.jac[t][e]}},{key:"buildFit",value:function(t,i){var e=void 0;if(i){var n=this.dataX.getMin(this._from,this._to),r=this.dataX.getMax(this._from,this._to);e=new Array(i).fill(0).map(function(t,e){return e*(r-n)/(i-1)+n})}else e=this.arrX;for(var s=new Array(e.length),o=0,a=e.length;o<a;o++)s[o]=this.func(e[o],this.parms);var u=this.options.waveform;return u.setData(s,e),u}}]),e}(),r=function(){function a(t,e,i,n){var r=this;u(this,a),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=t,this.nadj=e,this.npts=i,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(r.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(r.nadj)}),this.lambda=this.LAMBDAZERO;for(var s=0,o=!1;o=this.bLMiter(),n&&n(this.myH.params),!o&&++s<this.LMITER;);}return i(a,[{key:"bLMiter",value:function(){for(var t=0;t<this.nadj;t++)this.delta[t]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= "+this.sos),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(t=0;t<this.nadj;t++)for(var e=this.beta[t]=0;e<this.npts;e++)this.beta[t]-=this.myH.getResidualElement(e)*this.myH.getJacobianElement(e,t);for(t=0;t<this.nadj;t++)for(var i=0;i<this.nadj;i++)for(e=this.alpha[i][t]=0;e<this.npts;e++)this.alpha[i][t]+=this.myH.getJacobianElement(e,i)*this.myH.getJacobianElement(e,t);var n=0;do{for(t=0;t<this.nadj;t++)for(i=0;i<this.nadj;i++)this.amatrix[i][t]=this.alpha[i][t]+(i==t?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(t=0;t<this.nadj;t++)for(i=this.delta[t]=0;i<this.nadj;i++)this.delta[t]+=this.amatrix[i][t]*this.beta[i];if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((n=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var r=0;r<this.nadj;r++)this.delta[r]*=-1;if(this.myH.nudge(this.delta),n<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return n>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(t,e){var i,n,r,s,o,a,u=1,h=new Array(100),l=new Array(100);for(o=0;o<e;o++){for(i=0,r=o;r<e;r++)for(s=o;s<e;s++)Math.abs(i)<=Math.abs(t[r][s])&&(i=t[r][s],h[o]=r,l[o]=s);if(0==i)return 0;if(o<(r=h[o]))for(s=0;s<e;s++)n=t[o][s],t[o][s]=t[r][s],t[r][s]=-n;if(o<(s=l[o]))for(r=0;r<e;r++)n=t[r][o],t[r][o]=t[r][s],t[r][s]=-n;for(r=0;r<e;r++)r!=o&&(t[r][o]=-t[r][o]/i);for(r=0;r<e;r++)for(s=0;s<e;s++)r!=o&&s!=o&&(t[r][s]+=t[r][o]*t[o][s]);for(s=0;s<e;s++)s!=o&&(t[o][s]/=i);t[o][o]=1/i,u*=i}for(a=0;a<e;a++){if((o=e-a-1)<(s=h[o]))for(r=0;r<e;r++)n=t[r][o],t[r][o]=-t[r][s],t[r][s]=n;if(o<(r=l[o]))for(s=0;s<e;s++)n=t[o][s],t[o][s]=-t[r][s],t[r][s]=n}return u}}]),a}();e.default=n,t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var r=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,i));return n.leftright=e,n.left="left"==e,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),o(r,[{key:"forceWidth",value:function(t){return this.options.forcedWidth=t,this}},{key:"setAxisPosition",value:function(t){this.shiftPosition=t}},{key:"getAxisPosition",value:function(){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"draw",this).apply(this,arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t}},{key:"equalizePosition",value:function(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}},{key:"drawTick",value:function(t,e,i,n){var r,s=this,o=void 0,a=void 0;null==(r=n||this.getPos(t))||isNaN(r)||((o=this.nextTick(e,function(t){t.setAttribute("x1",(s.left?1:-1)*s.tickPx1*s.tickScaling[e]),t.setAttribute("x2",(s.left?1:-1)*s.tickPx2*s.tickScaling[e]),1==e?t.setAttribute("stroke",s.getPrimaryTicksColor()):t.setAttribute("stroke",s.getSecondaryTicksColor())})).setAttribute("y1",r),o.setAttribute("y2",r),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),r,r),1==e&&((a=this.nextTickLabel(function(t){t.setAttribute("x",s.tickMargin+s.options.tickLabelOffset),"black"!==s.getTicksLabelColor()&&t.setAttribute("fill",s.getTicksLabelColor()),s.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})).setAttribute("y",r),this.setTickContent(a,t,i),String(a.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=a,this.longestTick[1]=String(a.textContent).length)))}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(t){this.label.setAttribute("transform","translate("+t+", "+Math.abs(this.getMaxPx()+this.getMinPx())/2+") rotate(-90)")}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#verticalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#verticalsplit_"+this.graph.getId()+")":"")}},{key:"setShift",value:function(t){if(this.shift=t,this.shift&&this.graph.getWidth()){var e=this.shift;e=this.floating?e:this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform","translate( "+e+" 0 )"),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}},{key:"scaleToFitAxis",value:function(t,e,i,n,r,s){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(n)&&(n=t.getCurrentMax()),void 0===r&&(r=!0),void 0===s&&(s=!0),"number"==typeof e&&(n=i,i=e,e=!1);for(var o=-1/0,a=1/0,u=0,h=0,l=this.graph.series.length;h<l;h++)this.graph.series[h].isShown()&&this.graph.series[h]!=e&&this.graph.series[h].getXAxis()==t&&this.graph.series[h].getYAxis()===this&&(u++,o=s?Math.max(o,this.graph.series[h].getMax(i,n)):0,a=r?Math.min(a,this.graph.series[h].getMin(i,n)):0);if(0==u)this.setMinMaxToFitSeries();else{a=r?a:this.getCurrentMin();var c=(o=s?o:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,o+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,o)}return this}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftY}}]),r}();e.default=r,t.exports=e.default},r=[t,e,i(72)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?n(this,!0,!0):this.minX},getMaxX:function(t){return t?n(this,!0,!1):this.maxX},getMinY:function(t){return t?n(this,!1,!0):this.minY},getMaxY:function(t){return t?n(this,!1,!1):this.maxY}};function n(t,e,i){var n=void 0,r=void 0,s=void 0,o=void 0,a=void 0,u=t.getWaveforms(),h=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;for(n=0,r=d.getLength(),s=d.getData();n<r;n+=1)o=e?t.getXAxis().getVal(t.getX(d.getX(n,!0))):t.getYAxis().getVal(t.getY(s[n])),a=0==n?o:i?Math.min(a,o):Math.max(a,o)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}return a}e.default=i,t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,s,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=(n=i)&&n.__esModule?n:{default:n};var u=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var r=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return n.selectionType="unselected",n.id=(0,o.guid)(),n.groupZones=document.createElementNS(n.graph.ns,"g"),n.lineZone=document.createElementNS(n.graph.ns,"path"),n.lineZone.setAttribute("stroke","black"),n.lineZone.setAttribute("stroke-width","1px"),n.groupMain.appendChild(n.groupZones),n.groupZones.appendChild(n.lineZone),n.applyLineStyle(n.lineZone),n.styleHasChanged(),n.clip=document.createElementNS(n.graph.ns,"clipPath"),n.clipId=(0,o.guid)(),n.clip.setAttribute("id",n.clipId),n.graph.defs.appendChild(n.clip),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,a.default),u(r,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),u(r,[{key:"setWaveform",value:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.waveforms=i,this.waveforms=this.waveforms.map(function(t){return t instanceof s.Waveform?t:new s.Waveform(t)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(t){e.minX=Math.min(t.getXMin(),e.minX),e.maxX=Math.max(t.getXMin(),e.maxX),e.minY=Math.min(t.getMin(),e.minY),e.maxY=Math.max(t.getMax(),e.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(t,e){return this.waveforms=[t,e.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;var e=0,i=0,n=0,r=0,s=0,o="",a=void 0,u=!1,h=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),l=this.getXAxis().getCurrentMax(),c=this.getYAxis().getCurrentMin(),f=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var p=!0,d=!1,g=void 0;try{for(var y,v=this.waveforms[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;for(s=0;s<m.getLength();s+=1)if(e=m.getX(s,!0),(i=m.getY(s,!0))[s]<c?r=this.getY(c):i[s]>f&&(r=this.getY(f)),e==e)if(i==i)r=this.getY(i),n=this.getX(e),e<h||l<e?a=[e,i[s],n,r]:(u&&(o+=" M "+n+", "+this.getY(m.getMinY())+" ",u=!1),0<o.length&&(o+=" L "),a?(o+=a[2]+","+a[3]+" ",a=!1):o+=n+","+r+" ");else{if(0==o.length)continue;o+="L "+n+", "+this.getY(m.getMinY()),u=!0}}}catch(t){d=!0,g=t}finally{try{!p&&v.return&&v.return()}finally{if(d)throw g}}""!==o?this.lineZone.setAttribute("d","M "+o+" z"):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(t){return this.options.lineWidth=t,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(t){return this.options.lineColor=t,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(t){return this.options.fillColor=t,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),r}();e.default=r,t.exports=e.default},r=[t,e,i(55),i(5),i(74)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(r=n)&&r.__esModule?r:{default:r};var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var h=function(t){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,o.default),u(n,[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=(void 0===t?"undefined":a(t))&&(t={}),t.type||(t.type="corners"),t.type){case"sides":s.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var e=0;for(var i in t.sides)t.sides[i]&&e++;this._createHandles(e,"g").map(function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)});e=1;for(var i in t.sides)t.sides[i]&&(this.handles[i]=this["handle"+e],this.sides[e]=i,e++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createHandles",this).call(this),this}}},{key:"applyPosition",value:function(){var t,e,i,n,r=this.computePosition(0),s=this.computePosition(1);return r.x<s.x?(t=r.x,i=s.x-r.x):(t=s.x,i=r.x-s.x),r.y<s.y?(e=r.y,n=s.y-r.y):(e=s.y,n=r.y-s.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=n,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",n),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){var s=this.getProp("handles");if(this.moving||this.handleSelected){var o=this.getPosition(0),a=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),o.x,o.y,a.x,a.y;if(this.moving)o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(s.type){case"seamlessX":switch(this.handleSelected){case 1:o.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":o.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":o.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(o.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform","translate(-10) translate("+t.x+")"),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform","translate(-10)  translate("+e.x+")"),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate("+this.currentX+" "+(this.currentY+this.currentH/2)+")"),this.handles.right&&this.handles.right.setAttribute("transform","translate( "+(this.currentX+this.currentW)+" "+(this.currentY+this.currentH/2)+")"),this.handles.top&&this.handles.top.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+this.currentY+")"),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+(this.currentY+this.currentH)+")");break;case"corners":default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}]),n}();e.default=h,t.exports=e.default},r=[t,e,i(5),i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){i(145),t.exports=i(347)},function(t,e,i){"use strict";(function(t){if(i(146),i(343),i(344),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,i){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:i})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,i(104))},function(t,e,i){i(147),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161),i(162),i(163),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(227),i(228),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(96),i(251),i(252),i(123),i(253),i(254),i(255),i(256),i(257),i(126),i(128),i(129),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),t.exports=i(19)},function(t,e,i){"use strict";var n=i(2),o=i(15),r=i(7),s=i(0),a=i(13),u=i(32).KEY,h=i(3),l=i(56),c=i(45),f=i(36),p=i(6),d=i(106),g=i(76),y=i(148),v=i(59),m=i(1),x=i(4),b=i(16),k=i(23),_=i(35),M=i(39),w=i(109),S=i(17),A=i(8),P=i(37),C=S.f,L=A.f,O=w.f,E=n.Symbol,T=n.JSON,X=T&&T.stringify,D="prototype",j=p("_hidden"),N=p("toPrimitive"),I={}.propertyIsEnumerable,Y=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),H=Object[D],W="function"==typeof E,R=n.QObject,z=!R||!R[D]||!R[D].findChild,V=r&&h(function(){return 7!=M(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=C(H,e);n&&delete H[e],L(t,e,i),n&&t!==H&&L(H,e,n)}:L,G=function(t){var e=F[t]=M(E[D]);return e._k=t,e},U=W&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Z=function(t,e,i){return t===H&&Z(B,e,i),m(t),e=k(e,!0),m(i),o(F,e)?(i.enumerable?(o(t,j)&&t[j][e]&&(t[j][e]=!1),i=M(i,{enumerable:_(0,!1)})):(o(t,j)||L(t,j,_(1,{})),t[j][e]=!0),V(t,e,i)):L(t,e,i)},q=function(t,e){m(t);for(var i,n=y(e=b(e)),r=0,s=n.length;r<s;)Z(t,i=n[r++],e[i]);return t},K=function(t){var e=I.call(this,t=k(t,!0));return!(this===H&&o(F,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,j)&&this[j][t])||e)},J=function(t,e){if(t=b(t),e=k(e,!0),t!==H||!o(F,e)||o(B,e)){var i=C(t,e);return!i||!o(F,e)||o(t,j)&&t[j][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=O(b(t)),n=[],r=0;i.length>r;)o(F,e=i[r++])||e==j||e==u||n.push(e);return n},$=function(t){for(var e,i=t===H,n=O(i?B:b(t)),r=[],s=0;n.length>s;)!o(F,e=n[s++])||i&&!o(H,e)||r.push(F[e]);return r};W||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),i=function(t){this===H&&i.call(B,t),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),V(this,e,_(1,t))};return r&&z&&V(H,e,{configurable:!0,set:i}),G(e)})[D],"toString",function(){return this._k}),S.f=J,A.f=Z,i(40).f=w.f=Q,i(51).f=K,i(58).f=$,r&&!i(33)&&a(H,"propertyIsEnumerable",K,!0),d.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!W,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=P(p.store),nt=0;it.length>nt;)g(it[nt++]);s(s.S+s.F*!W,"Symbol",{for:function(t){return o(Y,t+="")?Y[t]:Y[t]=E(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!W,"Object",{create:function(t,e){return void 0===e?M(t):q(M(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),T&&s(s.S+s.F*(!W||h(function(){var t=E();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(x(e)||void 0!==t)&&!U(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!U(e))return e}),n[1]=e,X.apply(T,n)}}),E[D][N]||i(12)(E[D],N,E[D].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,i){var a=i(37),u=i(58),h=i(51);t.exports=function(t){var e=a(t),i=u.f;if(i)for(var n,r=i(t),s=h.f,o=0;r.length>o;)s.call(t,n=r[o++])&&e.push(n);return e}},function(t,e,i){var n=i(0);n(n.S,"Object",{create:i(39)})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(7),"Object",{defineProperty:i(8).f})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(7),"Object",{defineProperties:i(108)})},function(t,e,i){var n=i(16),r=i(17).f;i(26)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){var n=i(10),r=i(18);i(26)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(10),r=i(37);i(26)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){i(26)("getOwnPropertyNames",function(){return i(109).f})},function(t,e,i){var n=i(4),r=i(32).onFreeze;i(26)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4),r=i(32).onFreeze;i(26)("seal",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4),r=i(32).onFreeze;i(26)("preventExtensions",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){var n=i(4);i(26)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(t,e,i){var n=i(4);i(26)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(t,e,i){var n=i(4);i(26)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(t,e,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(110)})},function(t,e,i){var n=i(0);n(n.S,"Object",{is:i(164)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var n=i(0);n(n.S,"Object",{setPrototypeOf:i(80).set})},function(t,e,i){"use strict";var n=i(52),r={};r[i(6)("toStringTag")]="z",r+""!="[object z]"&&i(13)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(0);n(n.P,"Function",{bind:i(111)})},function(t,e,i){var n=i(8).f,r=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in r||i(7)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(4),r=i(18),s=i(6)("hasInstance"),o=Function.prototype;s in o||i(8).f(o,s,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(0),r=i(113);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(0),r=i(114);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(2),r=i(15),s=i(21),o=i(82),l=i(23),a=i(3),u=i(40).f,h=i(17).f,c=i(8).f,f=i(46).trim,p="Number",d=n[p],g=d,y=d.prototype,v=s(i(39)(y))==p,m="trim"in String.prototype,x=function(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var i,n,r,s=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var o,a=e.slice(2),u=0,h=a.length;u<h;u++)if((o=a.charCodeAt(u))<48||r<o)return NaN;return parseInt(a,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(v?a(function(){y.valueOf.call(i)}):s(i)!=p)?o(new g(x(e)),i,d):x(e)};for(var b,k=i(7)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;k.length>_;_++)r(g,b=k[_])&&!r(d,b)&&c(d,b,h(g,b));(d.prototype=y).constructor=d,i(13)(n,p,d)}},function(t,e,i){"use strict";var n=i(0),h=i(25),l=i(115),c=i(83),r=1..toFixed,s=Math.floor,o=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",p=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*o[i],o[i]=n%1e7,n=s(n/1e7)},d=function(t){for(var e=6,i=0;0<=--e;)i+=o[e],o[e]=s(i/t),i=i%t*1e7},g=function(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==o[t]){var i=String(o[t]);e=""===e?i:e+c.call("0",7-i.length)+i}return e},y=function(t,e,i){return 0===e?i:e%2==1?y(t,e-1,i*t):y(t*t,e/2,i)};n(n.P+n.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(3)(function(){r.call({})})),"Number",{toFixed:function(t){var e,i,n,r,s=l(this,f),o=h(t),a="",u="0";if(o<0||20<o)throw RangeError(f);if(s!=s)return"NaN";if(s<=-1e21||1e21<=s)return String(s);if(s<0&&(a="-",s=-s),1e-21<s)if(i=(e=function(t){for(var e=0,i=t;4096<=i;)e+=12,i/=4096;for(;2<=i;)e+=1,i/=2;return e}(s*y(2,69,1))-69)<0?s*y(2,-e,1):s/y(2,e,1),i*=4503599627370496,0<(e=52-e)){for(p(0,i),n=o;7<=n;)p(1e7,0),n-=7;for(p(y(10,n,1),0),n=e-1;23<=n;)d(1<<23),n-=23;d(1<<n),p(1,1),d(2),u=g()}else p(0,i),p(1<<-e,0),u=g()+c.call("0",o);return u=0<o?a+((r=u.length)<=o?"0."+c.call("0",o-r)+u:u.slice(0,r-o)+"."+u.slice(r-o)):a+u}})},function(t,e,i){"use strict";var n=i(0),r=i(3),s=i(115),o=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(t){var e=s(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(0),r=i(2).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isInteger:i(116)})},function(t,e,i){var n=i(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(0),r=i(116),s=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&s(t)<=9007199254740991}})},function(t,e,i){var n=i(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(0),r=i(114);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(0),r=i(113);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(0),r=i(117),s=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+s(t-1)*s(t+1))}})},function(t,e,i){var n=i(0),r=Math.asinh;n(n.S+n.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(0),r=i(84);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(0),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(0),r=i(85);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(0);n(n.S,"Math",{fround:i(118)})},function(t,e,i){var n=i(0),u=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,r=0,s=0,o=arguments.length,a=0;s<o;)a<(i=u(arguments[s++]))?(r=r*(n=a/i)*n+1,a=i):r+=0<i?(n=i/a)*n:i;return a===1/0?1/0:a*Math.sqrt(r)}})},function(t,e,i){var n=i(0),r=Math.imul;n(n.S+n.F*i(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n;return 0|r*s+((65535&i>>>16)*s+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log1p:i(117)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{sign:i(84)})},function(t,e,i){var n=i(0),r=i(85),s=Math.exp;n(n.S+n.F*i(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(0),r=i(85),s=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(s(t)+s(-t))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(0),s=i(38),o=String.fromCharCode,r=String.fromCodePoint;n(n.S+n.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,r=0;r<n;){if(e=+arguments[r++],s(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(0),o=i(16),a=i(9);n(n.S,"String",{raw:function(t){for(var e=o(t.raw),i=a(e.length),n=arguments.length,r=[],s=0;s<i;)r.push(String(e[s++])),s<n&&r.push(String(arguments[s]));return r.join("")}})},function(t,e,i){"use strict";i(46)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(86)(!0);i(87)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(0),r=i(86)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),o=i(9),a=i(89),u="endsWith",h=""[u];n(n.P+n.F*i(90)(u),"String",{endsWith:function(t){var e=a(this,t,u),i=1<arguments.length?arguments[1]:void 0,n=o(e.length),r=void 0===i?n:Math.min(o(i),n),s=String(t);return h?h.call(e,s,r):e.slice(r-s.length,r)===s}})},function(t,e,i){"use strict";var n=i(0),r=i(89);n(n.P+n.F*i(90)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,i){var n=i(0);n(n.P,"String",{repeat:i(83)})},function(t,e,i){"use strict";var n=i(0),r=i(9),s=i(89),o="startsWith",a=""[o];n(n.P+n.F*i(90)(o),"String",{startsWith:function(t){var e=s(this,t,o),i=r(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,i){"use strict";i(14)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(14)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(14)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(14)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,i){"use strict";i(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,i){"use strict";i(14)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,i){"use strict";i(14)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(14)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(14)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(14)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(23);n(n.P+n.F*i(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=s(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(0),r=i(226);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(3),r=Date.prototype.getTime,s=Date.prototype.toISOString,o=function(t){return 9<t?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!n(function(){s.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":9999<t?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"."+(99<e?e:"0"+o(e))+"Z"}:s},function(t,e,i){var n=Date.prototype,r="Invalid Date",s=n.toString,o=n.getTime;new Date(NaN)+""!=r&&i(13)(n,"toString",function(){var t=o.call(this);return t==t?s.call(this):r})},function(t,e,i){var n=i(6)("toPrimitive"),r=Date.prototype;n in r||i(12)(r,n,i(229))},function(t,e,i){"use strict";var n=i(1),r=i(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(0);n(n.S,"Array",{isArray:i(59)})},function(t,e,i){"use strict";var f=i(20),n=i(0),p=i(10),d=i(119),g=i(91),y=i(9),v=i(92),m=i(93);n(n.S+n.F*!i(61)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,r,s=p(t),o="function"==typeof this?this:Array,a=arguments.length,u=1<a?arguments[1]:void 0,h=void 0!==u,l=0,c=m(s);if(h&&(u=f(u,2<a?arguments[2]:void 0,2)),null==c||o==Array&&g(c))for(i=new o(e=y(s.length));l<e;l++)v(i,l,h?u(s[l],l):s[l]);else for(r=c.call(s),i=new o;!(n=r.next()).done;l++)v(i,l,h?d(r,u,[n.value,l],!0):n.value);return i.length=l,i}})},function(t,e,i){"use strict";var n=i(0),r=i(92);n(n.S+n.F*i(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);t<e;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(0),r=i(16),s=[].join;n(n.P+n.F*(i(50)!=Object||!i(22)(s)),"Array",{join:function(t){return s.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(0),r=i(79),h=i(21),l=i(38),c=i(9),f=[].slice;n(n.P+n.F*i(3)(function(){r&&f.call(r)}),"Array",{slice:function(t,e){var i=c(this.length),n=h(this);if(e=void 0===e?i:e,"Array"==n)return f.call(this,t,e);for(var r=l(t,i),s=l(e,i),o=c(s-r),a=new Array(o),u=0;u<o;u++)a[u]="String"==n?this.charAt(r+u):this[r+u];return a}})},function(t,e,i){"use strict";var n=i(0),r=i(11),s=i(10),o=i(3),a=[].sort,u=[1,2,3];n(n.P+n.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!i(22)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),r(t))}})},function(t,e,i){"use strict";var n=i(0),r=i(27)(0),s=i(22)([].forEach,!0);n(n.P+n.F*!s,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(4),r=i(59),s=i(6)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(0),r=i(27)(1);n(n.P+n.F*!i(22)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(27)(2);n(n.P+n.F*!i(22)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(27)(3);n(n.P+n.F*!i(22)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(27)(4);n(n.P+n.F*!i(22)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(120);n(n.P+n.F*!i(22)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(120);n(n.P+n.F*!i(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(57)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(22)(s)),"Array",{indexOf:function(t){return o?s.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(16),s=i(25),o=i(9),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(22)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=r(this),i=o(e.length),n=i-1;for(1<arguments.length&&(n=Math.min(n,s(arguments[1]))),n<0&&(n=i+n);0<=n;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(0);n(n.P,"Array",{copyWithin:i(121)}),i(34)("copyWithin")},function(t,e,i){var n=i(0);n(n.P,"Array",{fill:i(95)}),i(34)("fill")},function(t,e,i){"use strict";var n=i(0),r=i(27)(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)("find")},function(t,e,i){"use strict";var n=i(0),r=i(27)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)(s)},function(t,e,i){i(41)("Array")},function(t,e,i){var n=i(2),s=i(82),r=i(8).f,o=i(40).f,a=i(60),u=i(62),h=n.RegExp,l=h,c=h.prototype,f=/a/g,p=/a/g,d=new h(f)!==f;if(i(7)&&(!d||i(3)(function(){return p[i(6)("match")]=!1,h(f)!=f||h(p)==p||"/a/i"!=h(f,"i")}))){h=function(t,e){var i=this instanceof h,n=a(t),r=void 0===e;return!i&&n&&t.constructor===h&&r?t:s(d?new l(n&&!r?t.source:t,e):l((n=t instanceof h)?t.source:t,n&&r?u.call(t):e),i?this:c,h)};for(var g=function(e){e in h||r(h,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},y=o(l),v=0;y.length>v;)g(y[v++]);(c.constructor=h).prototype=c,i(13)(n,"RegExp",h)}i(41)("RegExp")},function(t,e,i){"use strict";i(123);var n=i(1),r=i(62),s=i(7),o="toString",a=/./[o],u=function(t){i(13)(RegExp.prototype,o,t,!0)};i(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?r.call(t):void 0)}):a.name!=o&&u(function(){return a.call(this)})},function(t,e,i){i(63)("match",1,function(n,r,t){return[function(t){"use strict";var e=n(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,e):new RegExp(t)[r](String(e))},t]})},function(t,e,i){i(63)("replace",2,function(r,s,o){return[function(t,e){"use strict";var i=r(this),n=null==t?void 0:t[s];return void 0!==n?n.call(t,i,e):o.call(String(i),t,e)},o]})},function(t,e,i){i(63)("search",1,function(n,r,t){return[function(t){"use strict";var e=n(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,e):new RegExp(t)[r](String(e))},t]})},function(t,e,i){i(63)("split",2,function(r,s,o){"use strict";var p=i(60),d=o,g=[].push,t="split",y="length";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[y]||2!="ab"[t](/(?:ab)*/)[y]||4!="."[t](/(.?)(.?)/)[y]||1<"."[t](/()()/)[y]||""[t](/.?/)[y]){var v=void 0===/()??/.exec("")[1];o=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!p(t))return d.call(i,t,e);var n,r,s,o,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,h+"g");for(v||(n=new RegExp("^"+f.source+"$(?!\\s)",h));(r=f.exec(i))&&!(l<(s=r.index+r[0][y])&&(u.push(i.slice(l,r.index)),!v&&1<r[y]&&r[0].replace(n,function(){for(a=1;a<arguments[y]-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),1<r[y]&&r.index<i[y]&&g.apply(u,r.slice(1)),o=r[0][y],l=s,u[y]>=c));)f.lastIndex===r.index&&f.lastIndex++;return l===i[y]?!o&&f.test("")||u.push(""):u.push(i.slice(l)),u[y]>c?u.slice(0,c):u}}else"0"[t](void 0,0)[y]&&(o=function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)});return[function(t,e){var i=r(this),n=null==t?void 0:t[s];return void 0!==n?n.call(t,i,e):o.call(String(i),t,e)},o]})},function(t,e,i){"use strict";var n,r,s,o,a=i(33),u=i(2),h=i(20),l=i(52),c=i(0),f=i(4),p=i(11),d=i(42),g=i(43),y=i(64),v=i(97).set,m=i(98)(),x=i(99),b=i(124),k=i(65),_=i(125),M="Promise",w=u.TypeError,S=u.process,A=S&&S.versions,P=A&&A.v8||"",C=u[M],L="process"==l(S),O=function(){},E=r=x.f,T=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[i(6)("species")]=function(t){t(O,O)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),X=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(l,i){if(!l._n){l._n=!0;var n=l._c;m(function(){for(var u=l._v,h=1==l._s,t=0,e=function(t){var e,i,n,r=h?t.ok:t.fail,s=t.resolve,o=t.reject,a=t.domain;try{r?(h||(2==l._h&&I(l),l._h=1),!0===r?e=u:(a&&a.enter(),e=r(u),a&&(a.exit(),n=!0)),e===t.promise?o(w("Promise-chain cycle")):(i=X(e))?i.call(e,s,o):s(e)):o(u)}catch(t){a&&!n&&a.exit(),o(t)}};n.length>t;)e(n[t++]);l._c=[],l._n=!1,i&&!l._h&&j(l)})}},j=function(s){v.call(u,function(){var t,e,i,n=s._v,r=N(s);if(r&&(t=b(function(){L?S.emit("unhandledRejection",n,s):(e=u.onunhandledrejection)?e({promise:s,reason:n}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",n)}),s._h=L||N(s)?2:1),s._a=void 0,r&&t.e)throw t.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(e){v.call(u,function(){var t;L?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},Y=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(i=X(t))?m(function(){var e={_w:n,_d:!1};try{i.call(t,h(F,e,1),h(Y,e,1))}catch(t){Y.call(e,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){Y.call({_w:n,_d:!1},t)}}};T||(C=function(t){d(this,C,M,"_h"),p(t),n.call(this);try{t(h(F,this,1),h(Y,this,1))}catch(t){Y.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(44)(C.prototype,{then:function(t,e){var i=E(y(this,C));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=L?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new n;this.promise=t,this.resolve=h(F,t,1),this.reject=h(Y,t,1)},x.f=E=function(t){return t===C||t===o?new s(t):r(t)}),c(c.G+c.W+c.F*!T,{Promise:C}),i(45)(C,M),i(41)(M),o=i(19)[M],c(c.S+c.F*!T,M,{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!T),M,{resolve:function(t){return _(a&&this===o?C:this,t)}}),c(c.S+c.F*!(T&&i(61)(function(t){C.all(t).catch(O)})),M,{all:function(t){var o=this,e=E(o),a=e.resolve,u=e.reject,i=b(function(){var n=[],r=0,s=1;g(t,!1,function(t){var e=r++,i=!1;n.push(void 0),s++,o.resolve(t).then(function(t){i||(i=!0,n[e]=t,--s||a(n))},u)}),--s||a(n)});return i.e&&u(i.v),e.promise},race:function(t){var e=this,i=E(e),n=i.reject,r=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e,i){"use strict";var n=i(130),r=i(48);i(66)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(0),r=i(67),s=i(100),h=i(1),l=i(38),c=i(9),o=i(4),a=i(2).ArrayBuffer,f=i(64),p=s.ArrayBuffer,d=s.DataView,u=r.ABV&&a.isView,g=p.prototype.slice,y=r.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(a!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,v,{isView:function(t){return u&&u(t)||o(t)&&y in t}}),n(n.P+n.U+n.F*i(3)(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(h(this),t);for(var i=h(this).byteLength,n=l(t,i),r=l(void 0===e?i:e,i),s=new(f(this,p))(c(r-n)),o=new d(this),a=new d(s),u=0;n<r;)a.setUint8(u++,o.getUint8(n++));return s}}),i(41)(v)},function(t,e,i){var n=i(0);n(n.G+n.W+n.F*!i(67).ABV,{DataView:i(100).DataView})},function(t,e,i){i(30)("Int8",1,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Uint8",1,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Uint8",1,function(n){return function(t,e,i){return n(this,t,e,i)}},!0)},function(t,e,i){i(30)("Int16",2,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Uint16",2,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Int32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Uint32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Float32",4,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){i(30)("Float64",8,function(n){return function(t,e,i){return n(this,t,e,i)}})},function(t,e,i){var n=i(0),s=i(11),o=i(1),a=(i(2).Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!i(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=s(t),r=o(i);return a?a(n,e,r):u.call(n,e,r)}})},function(t,e,i){var n=i(0),a=i(39),u=i(11),h=i(1),l=i(4),r=i(3),c=i(111),f=(i(2).Reflect||{}).construct,p=r(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),d=!r(function(){f(function(){})});n(n.S+n.F*(p||d),"Reflect",{construct:function(t,e){u(t),h(e);var i=arguments.length<3?t:u(arguments[2]);if(d&&!p)return f(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var r=i.prototype,s=a(l(r)?r:Object.prototype),o=Function.apply.call(t,s,e);return l(o)?o:s}})},function(t,e,i){var n=i(8),r=i(0),s=i(1),o=i(23);r(r.S+r.F*i(3)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){s(t),e=o(e,!0),s(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(0),r=i(17).f,s=i(1);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(0),r=i(1),s=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(88)(s,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new s(t)}})},function(t,e,i){var o=i(17),a=i(18),u=i(15),n=i(0),h=i(4),l=i(1);n(n.S,"Reflect",{get:function t(e,i){var n,r,s=arguments.length<3?e:arguments[2];return l(e)===s?e[i]:(n=o.f(e,i))?u(n,"value")?n.value:void 0!==n.get?n.get.call(s):void 0:h(r=a(e))?t(r,i,s):void 0}})},function(t,e,i){var n=i(17),r=i(0),s=i(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(s(t),e)}})},function(t,e,i){var n=i(0),r=i(18),s=i(1);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(s(t))}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(0),r=i(1),s=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!s||s(t)}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{ownKeys:i(132)})},function(t,e,i){var n=i(0),r=i(1),s=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return s&&s(t),!0}catch(t){return!1}}})},function(t,e,i){var u=i(8),h=i(17),l=i(18),c=i(15),n=i(0),f=i(35),p=i(1),d=i(4);n(n.S,"Reflect",{set:function t(e,i,n){var r,s,o=arguments.length<4?e:arguments[3],a=h.f(p(e),i);if(!a){if(d(s=l(e)))return t(s,i,n,o);a=f(0)}if(c(a,"value")){if(!1===a.writable||!d(o))return!1;if(r=h.f(o,i)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,u.f(o,i,r)}else u.f(o,i,f(0,n));return!0}return void 0!==a.set&&(a.set.call(o,n),!0)}})},function(t,e,i){var n=i(0),r=i(80);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var n=i(0),r=i(57)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)("includes")},function(t,e,i){"use strict";var n=i(0),r=i(133),s=i(10),o=i(9),a=i(11),u=i(94);n(n.P,"Array",{flatMap:function(t){var e,i,n=s(this);return a(t),e=o(n.length),i=u(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),i(34)("flatMap")},function(t,e,i){"use strict";var n=i(0),r=i(133),s=i(10),o=i(9),a=i(25),u=i(94);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=s(this),i=o(e.length),n=u(e,0);return r(n,e,e,i,0,void 0===t?1:a(t)),n}}),i(34)("flatten")},function(t,e,i){"use strict";var n=i(0),r=i(86)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(134),s=i(65);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padStart:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(134),s=i(65);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padEnd:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(46)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(46)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var n=i(0),r=i(24),s=i(9),o=i(60),a=i(62),u=RegExp.prototype,h=function(t,e){this._r=t,this._s=e};i(88)(h,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):a.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=s(t.lastIndex),new h(n,e)}})},function(t,e,i){i(76)("asyncIterator")},function(t,e,i){i(76)("observable")},function(t,e,i){var n=i(0),u=i(132),h=i(16),l=i(17),c=i(92);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=h(t),r=l.f,s=u(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&c(o,e,i);return o}})},function(t,e,i){var n=i(0),r=i(135)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(0),r=i(135)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(11),o=i(8);i(7)&&n(n.P+i(68),"Object",{__defineGetter__:function(t,e){o.f(r(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(11),o=i(8);i(7)&&n(n.P+i(68),"Object",{__defineSetter__:function(t,e){o.f(r(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&n(n.P+i(68),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=s(t,!0);do{if(e=a(i,n))return e.get}while(i=o(i))}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&n(n.P+i(68),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=s(t,!0);do{if(e=a(i,n))return e.set}while(i=o(i))}})},function(t,e,i){var n=i(0);n(n.P+n.R,"Map",{toJSON:i(136)("Map")})},function(t,e,i){var n=i(0);n(n.P+n.R,"Set",{toJSON:i(136)("Set")})},function(t,e,i){i(69)("Map")},function(t,e,i){i(69)("Set")},function(t,e,i){i(69)("WeakMap")},function(t,e,i){i(69)("WeakSet")},function(t,e,i){i(70)("Map")},function(t,e,i){i(70)("Set")},function(t,e,i){i(70)("WeakMap")},function(t,e,i){i(70)("WeakSet")},function(t,e,i){var n=i(0);n(n.G,{global:i(2)})},function(t,e,i){var n=i(0);n(n.S,"System",{global:i(2)})},function(t,e,i){var n=i(0),r=i(21);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(0),r=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*r}})},function(t,e,i){var n=i(0),s=i(138),o=i(118);n(n.S,"Math",{fscale:function(t,e,i,n,r){return o(s(t,e,i,n,r))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,s=i>>>0;return(e>>>0)+(n>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,s=i>>>0;return(e>>>0)-(n>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{imulh:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n,o=i>>16,a=n>>16,u=(o*s>>>0)+(r*s>>>16);return o*a+(u>>16)+((r*a>>>0)+(65535&u)>>16)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(0),r=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*r}})},function(t,e,i){var n=i(0);n(n.S,"Math",{scale:i(138)})},function(t,e,i){var n=i(0);n(n.S,"Math",{umulh:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n,o=i>>>16,a=n>>>16,u=(o*s>>>0)+(r*s>>>16);return o*a+(u>>>16)+((r*a>>>0)+(65535&u)>>>16)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,i){"use strict";var n=i(0),r=i(19),s=i(2),o=i(64),a=i(125);n(n.P+n.R,"Promise",{finally:function(e){var i=o(this,r.Promise||s.Promise),t="function"==typeof e;return this.then(t?function(t){return a(i,e()).then(function(){return t})}:e,t?function(t){return a(i,e()).then(function(){throw t})}:e)}})},function(t,e,i){"use strict";var n=i(0),r=i(99),s=i(124);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=s(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var n=i(31),r=i(1),s=n.key,o=n.set;n.exp({defineMetadata:function(t,e,i,n){o(t,e,r(i),s(n))}})},function(t,e,i){var n=i(31),s=i(1),o=n.key,a=n.map,u=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=a(s(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var r=u.get(e);return r.delete(i),!!r.size||u.delete(e)}})},function(t,e,i){var n=i(31),r=i(1),s=i(18),o=n.has,a=n.get,u=n.key,h=function(t,e,i){if(o(t,e,i))return a(t,e,i);var n=s(e);return null!==n?h(t,n,i):void 0};n.exp({getMetadata:function(t,e){return h(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var s=i(128),o=i(137),n=i(31),r=i(1),a=i(18),u=n.keys,h=n.key,l=function(t,e){var i=u(t,e),n=a(t);if(null===n)return i;var r=l(n,e);return r.length?i.length?o(new s(i.concat(r))):r:i};n.exp({getMetadataKeys:function(t){return l(r(t),arguments.length<2?void 0:h(arguments[1]))}})},function(t,e,i){var n=i(31),r=i(1),s=n.get,o=n.key;n.exp({getOwnMetadata:function(t,e){return s(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var n=i(31),r=i(1),s=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(t){return s(r(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,e,i){var n=i(31),r=i(1),s=i(18),o=n.has,a=n.key,u=function(t,e,i){if(o(t,e,i))return!0;var n=s(e);return null!==n&&u(t,n,i)};n.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(31),r=i(1),s=n.has,o=n.key;n.exp({hasOwnMetadata:function(t,e){return s(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var n=i(31),r=i(1),s=i(11),o=n.key,a=n.set;n.exp({metadata:function(i,n){return function(t,e){a(i,n,(void 0!==e?r:s)(t),o(e))}}})},function(t,e,i){var n=i(0),r=i(98)(),s=i(2).process,o="process"==i(21)(s);n(n.G,{asap:function(t){var e=o&&s.domain;r(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n=i(0),s=i(2),o=i(19),r=i(98)(),a=i(6)("observable"),u=i(11),h=i(1),l=i(42),c=i(44),f=i(12),p=i(43),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,y(t))},x=function(e,t){h(e),this._c=void 0,this._o=e,e=new b(this);try{var i=t(e),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:u(i),this._c=i)}catch(t){return void e.error(t)}v(this)&&y(this)};x.prototype=c({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var n=g(i.next);if(n)return n.call(i,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var n=g(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var n=g(i.complete);t=n?n.call(i,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var k=function(t){l(this,k,"Observable","_f")._f=u(t)};c(k.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(n){var r=this;return new(o.Promise||s.Promise)(function(t,e){u(n);var i=r.subscribe({next:function(t){try{return n(t)}catch(t){e(t),i.unsubscribe()}},error:e,complete:t})})}}),c(k,{from:function(t){var e="function"==typeof this?this:k,i=g(h(t)[a]);if(i){var n=h(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return r(function(){if(!i){try{if(p(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:k)(function(e){var i=!1;return r(function(){if(!i){for(var t=0;t<n.length;++t)if(e.next(n[t]),i)return;e.complete()}}),function(){i=!0}})}}),f(k.prototype,a,function(){return this}),n(n.G,{Observable:k}),i(41)("Observable")},function(t,e,i){var n=i(2),r=i(0),s=i(65),o=[].slice,a=/MSIE .\./.test(s),u=function(r){return function(t,e){var i=2<arguments.length,n=!!i&&o.call(arguments,2);return r(i?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,e)}};r(r.G+r.B+r.F*a,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(t,e,i){var n=i(0),r=i(97);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(96),r=i(37),s=i(13),o=i(2),a=i(12),u=i(47),h=i(6),l=h("iterator"),c=h("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var y,v=d[g],m=p[v],x=o[v],b=x&&x.prototype;if(b&&(b[l]||a(b,l,f),b[c]||a(b,c,v),u[v]=f,m))for(y in n)b[y]||s(b,y,n[y],!0)}},function(T,t,e){(function(t){!function(t){"use strict";var u,e=Object.prototype,h=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",n=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",o="object"==typeof T,a=t.regeneratorRuntime;if(a)o&&(T.exports=a);else{(a=t.regeneratorRuntime=o?T.exports:{}).wrap=x;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},l={};l[r]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&h.call(v,r)&&(l=v);var m=M.prototype=k.prototype=Object.create(l);_.prototype=m.constructor=M,M.constructor=_,M[s]=_.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},w(S.prototype),S.prototype[n]=function(){return this},a.AsyncIterator=S,a.async=function(t,e,i,n){var r=new S(x(t,e,i,n));return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},w(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(i){var n=[];for(var t in i)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function t(t,e){return s.type="throw",s.arg=i,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],s=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=h.call(r,"catchLoc"),a=h.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:O(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=u),g}}}function x(t,e,i,n){var s,o,a,u,r=e&&e.prototype instanceof k?e:k,h=Object.create(r.prototype),l=new L(n||[]);return h._invoke=(s=t,o=i,a=l,u=c,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var n=A(i,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===c)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;var r=b(s,o,a);if("normal"===r.type){if(u=a.done?d:f,r.arg===g)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u=d,a.method="throw",a.arg=r.arg)}}),h}function b(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function k(){}function _(){}function M(){}function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(a){function u(t,e,i,n){var r=b(a[t],a,e);if("throw"!==r.type){var s=r.arg,o=s.value;return o&&"object"==typeof o&&h.call(o,"__await")?Promise.resolve(o.__await).then(function(t){u("next",t,i,n)},function(t){u("throw",t,i,n)}):Promise.resolve(o).then(function(t){s.value=t,i(s)},n)}n(r.arg)}var e;"object"==typeof t.process&&t.process.domain&&(u=t.process.domain.bind(u)),this._invoke=function(i,n){function t(){return new Promise(function(t,e){u(i,n,t,e)})}return e=e?e.then(t,t):t()}}function A(t,e){var i=t.iterator[e.method];if(i===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,A(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=b(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(h.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:E}}function E(){return{value:u,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,e(104))},function(t,e,i){i(345),t.exports=i(19).RegExp.escape},function(t,e,i){var n=i(0),r=i(346)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(e,i){var n=i===Object(i)?function(t){return i[t]}:i;return function(t){return String(t).replace(e,n)}}},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r,s,o,a,u,h,l,c,f,p,d,g,y,v,m,x,b,k,_,M,w,S,A,P,C,L,O,E,T,X,D,j,N,I,Y,F,B,H,W,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var z=Lt(i),V=Lt(n),G=Lt(r),U=Lt(s),Z=Lt(o),q=Lt(a),K=Lt(u),J=Lt(h),Q=Lt(l),$=Lt(c),tt=Lt(f),et=Lt(p),it=Lt(d),nt=Lt(g),rt=Lt(y),st=Lt(v),ot=Lt(m),at=Lt(x),ut=Lt(b),ht=Lt(k),lt=Lt(_),ct=Lt(M),ft=Lt(w),pt=Lt(S),dt=Lt(A),gt=Lt(P),yt=Lt(C),vt=Lt(L),mt=Lt(O),xt=Lt(E),bt=(Lt(T),Lt(X)),kt=Lt(D),_t=Lt(j),Mt=Lt(N),wt=Lt(I),St=Lt(Y),At=Lt(F),Pt=Lt(B),Ct=Lt(H);Lt(R);function Lt(t){return t&&t.__esModule?t:{default:t}}z.default.registerConstructor("graph.position",V.default),z.default.registerConstructor("graph.axis.x",U.default),z.default.registerConstructor("graph.axis.y",Z.default),z.default.registerConstructor("graph.axis.x.bar",q.default),z.default.registerConstructor("graph.axis.x.time",K.default),z.default.registerConstructor("graph.serie.line",J.default),z.default.registerConstructor("graph.serie.line.3d",Q.default),z.default.registerConstructor("graph.serie.line.color",et.default),z.default.registerConstructor("graph.serie.contour",ot.default),z.default.registerConstructor("graph.serie.bar",$.default),z.default.registerConstructor("graph.serie.box",tt.default),z.default.registerConstructor("graph.serie.scatter",it.default),z.default.registerConstructor("graph.serie.zone",nt.default),z.default.registerConstructor("graph.serie.zone.3d",rt.default),z.default.registerConstructor("graph.serie.densitymap",st.default),z.default.registerConstructor(z.default.SERIE_LINE,J.default),z.default.registerConstructor(z.default.SERIE_LINE_3D,Q.default),z.default.registerConstructor(z.default.SERIE_LINE_COLORED,et.default),z.default.registerConstructor(z.default.SERIE_CONTOUR,ot.default),z.default.registerConstructor(z.default.SERIE_BAR,$.default),z.default.registerConstructor(z.default.SERIE_BOX,tt.default),z.default.registerConstructor(z.default.SERIE_SCATTER,it.default),z.default.registerConstructor(z.default.SERIE_ZONE,nt.default),z.default.registerConstructor(z.default.SERIE_ZONE_3D,rt.default),z.default.registerConstructor(z.default.SERIE_DENSITYMAP,st.default),z.default.registerConstructor("graph.plugin.shape",kt.default),z.default.registerConstructor("graph.plugin.drag",bt.default),z.default.registerConstructor("graph.plugin.zoom",Mt.default),z.default.registerConstructor("graph.plugin.selectScatter",_t.default),z.default.registerConstructor("graph.plugin.timeSerieManager",wt.default),z.default.registerConstructor("graph.plugin.serielinedifference",St.default),z.default.registerConstructor("graph.plugin.serieLineDifference",St.default),z.default.registerConstructor("graph.plugin.axissplitting",At.default),z.default.registerConstructor("graph.plugin.makeTracesDifferent",Pt.default),z.default.registerConstructor("graph.plugin.peakPicking",Ct.default),z.default.registerConstructor("graph.shape",at.default),z.default.registerConstructor("graph.shape.areaundercurve",ut.default),z.default.registerConstructor("graph.shape.arrow",ht.default),z.default.registerConstructor("graph.shape.ellipse",lt.default),z.default.registerConstructor("graph.shape.label",ct.default),z.default.registerConstructor("graph.shape.polyline",ft.default),z.default.registerConstructor("graph.shape.line",pt.default),z.default.registerConstructor("graph.shape.nmrintegral",dt.default),z.default.registerConstructor("graph.shape.html",xt.default),z.default.registerConstructor("graph.shape.peakintegration2d",gt.default),z.default.registerConstructor("graph.shape.rect",yt.default),z.default.registerConstructor("graph.shape.rectangle",yt.default),z.default.registerConstructor("graph.shape.cross",vt.default),z.default.registerConstructor("graph.shape.peakboundariescenter",mt.default),z.default.registerConstructor("graph.legend",G.default),z.default.registerConstructor("graph.waveform",W.Waveform),e.default=z.default,t.exports=e.default},r=[t,e,i(71),i(53),i(353),i(101),i(140),i(354),i(355),i(49),i(356),i(357),i(358),i(359),i(102),i(142),i(360),i(361),i(362),i(28),i(363),i(364),i(382),i(365),i(366),i(103),i(367),i(368),i(143),i(369),i(370),i(371),i(29),i(372),i(373),i(374),i(375),i(376),i(378),i(379),i(380),i(381),i(55),i(139)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=s(i),h=s(n),l=s(r);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(s,t,e){var o=new s(e),a=[];return o.resize(t.width||400,t.height||300),t.axes&&(0,h.default)(s,o,t.axes),t.series&&(Array.isArray(t.series)||(t.series=[t.series]),t.series.forEach(function(t,e){var i=void 0,n=void 0;switch(t.type){case"scatter":i=s.SERIE_SCATTER;break;case"bar":i=s.SERIE_BAR;break;case"box":i=s.SERIE_BOX;break;case"line":default:i=s.SERIE_LINE}switch(t.type){case"bar":n=s.newWaveformHash(),t.data.errors?n.setData(t.data.values):n.setData(t.data);break;default:case"line":case"scatter":(n=s.newWaveform()).setData(t.data.y,t.data.x)}t.data.errors&&(t.data.errors.xBar&&n.setErrorBarX(t.data.errors.xBar),t.data.errors.xBarAbove&&n.setErrorBarXAbove(t.data.errors.xBarAbove),t.data.errors.xBarBelow&&n.setErrorBarXBelow(t.data.errors.xBarBelow),t.data.errors.yBar&&n.setErrorBar(t.data.errors.yBar),t.data.errors.yBarAbove&&n.setErrorBarAbove(t.data.errors.yBarAbove),t.data.errors.yBarBelow&&n.setErrorBarBelow(t.data.errors.yBarBelow),t.data.errors.xBox&&n.setErrorBoxX(t.data.errors.xBox),t.data.errors.xBoxAbove&&n.setErrorBoxXAbove(t.data.errors.xBoxAbove),t.data.errors.xBoxBelow&&n.setErrorBoxXBelow(t.data.errors.xBoxBelow),t.data.errors.yBox&&n.setErrorBox(t.data.errors.yBox),t.data.errors.yBoxAbove&&n.setErrorBoxAbove(t.data.errors.yBoxAbove),t.data.errors.yBoxBelow&&n.setErrorBoxBelow(t.data.errors.yBoxBelow));var r=o.newSerie(t.name||"_serie_"+e,{},i);r.autoAxis(),n.xAxis&&a[n.xAxis]&&r.setXAxis(a[n.xAxis]),n.yAxis&&a[n.yAxis]&&r.setYAxis(a[n.yAxis]),n&&r.setWaveform(n),t.style&&(0,u.default)(s,r,t,i),t.annotations&&t.annotations.forEach(function(t){(0,l.default)(o,t,void 0,a)})})),t.annotations&&t.annotations.forEach(function(t){(0,l.default)(o,t,void 0,a)}),o},t.exports=e.default},r=[t,e,i(349),i(350),i(351)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(r,s,t,o){console.log("sdfdsf");var e=t.style;Array.isArray(e)||(e=[{name:"unselected",style:e}]),e.map(function(t,e){var i=t.name,n=t.style;console.log(n),!n.line||o!=r.SERIE_LINE&&o!=r.SERIE_BAR||(n.line.color&&s.setLineColor(n.line.color,i),n.line.width&&s.setLineWidth(n.line.width,i),n.line.dash&&s.setLineStyle(n.line.dash,i),n.line.fill&&s.setFillColor(n.line.fill,i),n.line.fillOpacity&&s.setFillOpacity&&s.setFillOpacity(n.line.fillOpacity,i)),console.log(n),n.errorBar&&s.setErrorBarStyle(n.errorBar),n.errorBox&&s.setErrorBoxStyle(n.errorBox),!n.marker||o!=r.SERIE_LINE&&o!=r.SERIE_SCATTER||function(t,e){t.showMarkers();var i={},n=[];e.default?(i=e.default,e.modifiers&&(n=e.modifiers)):(i=e,n=[]),t.setMarkerStyle(i,n)}(s,n.marker)})},t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(n,r,s,t,o){Array.isArray(t)||(t=[t]),t.forEach(function(t){var e=void 0;"x"==s?s="bottom":"y"==s&&(s="left"),"bottom"==s||"top"==s?(e="graph.axis.x","category"==t.type&&(e+=".bar")):e="graph.axis.y";var i=new(n.getConstructor(e))(r,s);i.init(r,t),"bottom"==s?r.setBottomAxis(i,r.getNumAxes("bottom")):"top"==s?r.setTopAxis(i,r.getNumAxes("top")):"left"==s?r.setLeftAxis(i,r.getNumAxes("left")):"right"==s&&r.setRightAxis(i,r.getNumAxes("right")),"category"==t.type&&(i.categories=t.categories),t.name&&(o[name]=i)})};e.default=function(t,e,i){var n=[];i.x&&r(t,e,"x",i.x,n),i.y&&r(t,e,"y",i.y,n),i.top&&r(t,e,"top",i.top,n),i.left&&r(t,e,"left",i.left,n),i.bottom&&r(t,e,"bottom",i.bottom,n),i.right&&r(t,e,"right",i.right,n)},t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,i,n){if(e.type){var r=t.newShape(e.type,{},!1,e.properties);e.serie&&r.setSerie(e.serie),e.layer&&r.setLayer(e.layer),e.xAxis&&r.setXAxis(n[e.xAxis]),e.yAxis&&r.setYAxis(n[e.yAxis]),r.draw(),r.redraw()}},t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[t,e],void 0===(s="function"==typeof(n=function(t,e){"use strict";var i;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof URL||void 0===URL.createObjectURL||"undefined"==typeof Blob||"undefined"==typeof Worker)i=function(){};else{var n,r={},s=function(){onmessage=function(e){var t=e.data.data,i=e.data.maxX,n=e.data.minX,r=e.data.maxY,s=e.data.minY,o=e.data.direction,a=e.data.numPoints,u=t.length,h=0,l=-4,c=[],f=[],p=[],d=[],g=void 0,y=void 0,v=void 0,m=void 0,x=void 0,b=void 0,k=void 0;g=e.data.xdata?function(t){return e.data.xdata[t]}:function(t){return t*e.data.xScale+e.data.xOffset};var _={};if("x"==o)for(var M=a/(i-n);h<u;h++){if(y=Math.floor((g(h)-n)*M),c[l]!==y){var w=((c[l+=4]=y)+.5)/M+n;f[l]=w,f[l+1]=w,f[l+2]=w,f[l+3]=w,p[l]=t[h],p[l+1]=t[h],p[l+2]=t[h],p[l+3]=t[h],d[l]=0}p[l+1]=Math.min(t[h],p[l+1]),p[l+2]=Math.max(t[h],p[l+2]),p[l+3]=t[h],d[l]+=t[h]}else for(var S=a/(r-s);h<u;h++){if(y=Math.floor((t[h]-s)*S),c[l]!==y){var A=((c[l+=4]=y)+.5)/S+s;p[l]=A,p[l+1]=A,p[l+2]=A,p[l+3]=A,f[l]=t[h],f[l+1]=t[h],f[l+2]=t[h],f[l+3]=t[h],d[l]=0}f[l+1]=Math.min(g(h),f[l+1]),f[l+2]=Math.max(g(h),f[l+2]),f[l+3]=g(h),d[l]+=g(h)}for(_[a]={x:f,y:p,sums:d},m=p,v=f,x=d;256<a;){if(a/=2,b=[],k=[],l=0,"x"==o)for(h=0,u=m.length-8;h<u;h+=8)k[l]=(v[h]+v[h+4])/2,k[l+1]=k[l],k[l+2]=k[l],k[l+3]=k[l],b[l]=m[h],b[l+1]=Math.min(m[h+1],m[h+5]),b[l+2]=Math.max(m[h+2],m[h+6]),b[l+3]=m[h+7],d[l]=(x[h]+x[h+4])/2,l+=4;else for(h=0,u=m.length-8;h<u;h+=8)b[l]=(m[h]+m[h+4])/2,b[l+1]=b[l],b[l+2]=b[l],b[l+3]=b[l],k[l]=v[h],k[l+1]=Math.min(v[h+1],v[h+5]),k[l+2]=Math.max(v[h+2],v[h+6]),k[l+3]=v[h+7],d[l]=(x[h]+x[h+4])/2,l+=4;_[a]={x:k,y:b,sums:d},m=b,v=k,x=d,d=[]}postMessage({aggregates:_,_queueId:e.data._queueId})}}.toString();s=(s=s.replace(/^\s*function\s*\(\s*\)\s*\{/,"")).replace(/}\s*$/,"");var o=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));(n=new Worker(o)).onmessage=function(t){var e=t.data._queueId;delete t.data._queueId,r[e](t.data),delete r[e]},i=function(t){var e=Date.now();t._queueId=e;var i=new Promise(function(t){r[e]=t});return n.postMessage(t),i}}e.default=i,t.exports=e.default})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n);var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),u={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0},h=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.options=o.extend({},u,e),this.graph=t,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=o.guid(),this.eyeCrossedId=o.guid();var i=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeCrossedId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>'),n=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>');this.svg.appendChild(document.adoptNode(n.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(i.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}return a(r,[{key:"setPosition",value:function(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}},{key:"setDraggable",value:function(t){this.options.movable=t}},{key:"setAutoPosition",value:function(t){if(-1<["bottom","left","top","right"].indexOf(t=t.toLowerCase()))return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"buildLegendBox",value:function(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var n=0,r=t.length;n<r;n++)if(!t[n].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition)e+(s=p(this.groups[n])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0);this.groups[n].setAttribute("transform","translate( "+e+", "+i+")"),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=s.width+10,i+=0):(e=0,i+=16)}var s=p(this.subG);switch(this.width=s.width+this.options.paddingRight+this.options.paddingLeft,this.height=s.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",s.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",s.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=this.graph.getHeight()+"px",this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=this.graph.getWidth()+"px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.position.y="10px",this.alignToY="top",this.alignToX=!1}if(this.autoPosition){switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10;break;case"left":this.graph.options.paddingLeft=this.width+5;break;case"right":this.graph.options.paddingRight=this.width+10;break;case"top":this.graph.options.paddingTop=this.height+14}this.graph.updateGraphingZone(),this.graph.getDrawingHeight(),this.graph.getDrawingWidth()}this.bbox=s}},{key:"calculatePosition",value:function(){var t=s.default.check(this.position),e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&(t.y,t.x,e.y+=this.graph.getPaddingTop(),e.x+=this.graph.getPaddingLeft(),"right"==this.alignToX&&(e.x-=this.width),"bottom"==this.alignToY&&(e.y-=this.height),this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}},{key:"update",value:function(t){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var i=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var n=this.series||this.graph.getSeries();if(0<n.length){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();for(var r=0,e=n.length;r<e;r++)if(!n[r].excludedFromLegend||this.series){var s;if("bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();s=document.createElementNS(i.graph.ns,"g");var o=document.createElementNS(i.graph.ns,"rect");i.subG.appendChild(s),s.appendChild(o),n[r].getSymbolForLegend();var a=n[r]._getSymbolForLegendContainer(),u=n[r].getMarkerForLegend(),h=n[r].getTextForLegend(),l=35;if(this.isHideable()){l+=20;var c=document.createElementNS(i.graph.ns,"use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+(n[r].isShown()?this.eyeId:this.eyeCrossedId)),c.setAttribute("width",15),c.setAttribute("height",15),c.setAttribute("x",35),c.setAttribute("y",-8),c.addEventListener("click",function(t){var e;t.stopPropagation(),n[r].isShown()?(n[r].hide(i.options.hideShapesOnHideSerie),e=i.eyeCrossedId):(n[r].show(i.options.hideShapesOnHideSerie),e=i.eyeId),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e)})}h.setAttribute("transform","translate("+l+", 3)"),h.setAttribute("fill",this.options.color),a&&s.appendChild(a),"scatter"==n[r].getType()&&a.setAttribute("transform","translate( 20, 0 )"),u&&s.appendChild(u),c&&s.appendChild(c),s.appendChild(h);var f=p(s);o.setAttribute("x",f.x),o.setAttribute("y",f.y),o.setAttribute("width",f.width),o.setAttribute("height",f.height),o.setAttribute("fill","none"),o.setAttribute("pointer-events","fill"),(i.groups[r]=s).addEventListener("click",function(t){var e=n[j];e.isShown()&&(i.isSelectable()&&!e.isSelected()?i.graph.selectSerie(e):i.graph.unselectSerie(e),t.preventDefault(),t.stopPropagation())})}this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var e=this,i=this.pos;this.svg.addEventListener("mousedown",function(t){t.stopPropagation(),console.log("down"),e.options.movable&&(i.x=t.clientX,i.y=t.clientY,t.preventDefault(),e.mousedown=!0,e.graph.elementMoving(e),e.rect.setAttribute("display","block"))}),this.svg.addEventListener("click",function(t){t.stopPropagation()}),this.svg.addEventListener("dblclick",function(t){t.stopPropagation()}),this.svg.addEventListener("mousemove",function(t){e.handleMouseMove(t)})}},{key:"handleMouseUp",value:function(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,n=t.clientY-e.y;e.transformX+=i,e.transformY+=n,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform","translate("+t.transformX+", "+t.transformY+")")}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px"),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}},{key:"fixSeriesAdd",value:function(t){this.series=this.series||[],this.series.push(t)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(t){this.options.isSerieHideable=!!t},get:function(){return this.options.isSerieHideable}}]),r}();function p(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}e.default=h,t.exports=e.default},r=[t,e,i(53),i(5)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function n(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.default),o(n,[{key:"draw",value:function(){var t,e=this,i=this._barCategories;if(this.series&&0!=this.series.length||this.autoSeries(),this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var n=0;n<=i.length;n++)this.drawTick(n/i.length,2),n<i.length&&((t=this.nextTickLabel(function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"})).setAttribute("x",this.getPos((n+.5)/i.length)),t.textContent=i[n].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var r,s=this.graph.series[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;o.getXAxis()==this&&t.push(o)}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}return console.log(t),this.setSeries.apply(this,t),this}},{key:"setSeries",value:function(){var i=this;return this.series=arguments,Array.prototype.map.call(this.series,function(t,e){"object"!=(void 0===t?"undefined":s(t))&&(t=i.graph.getSerie(t)),t.setCategoryConfig&&t.setCategoryConfig(e,i._barCategories,i.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var u={},h=0;Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i=!0,n=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;u.hasOwnProperty(a)||(u[a]=1,h+=1),u[a]++,h++}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}}),console.log(u);var t=0;for(var e in u){var i=u[e];u[e]=t,t+=i}var n={};Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i={};e.forEach(function(t){n[t]=n[t]||.5,i[t]=(u[t]+n[t])/h,n[t]++}),t.setDataIndices(i,h)})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(t){return this._barCategories=t,this}}]),n}();e.default=a,t.exports=e.default},r=[t,e,i(101)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r},d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n);var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var m,x,b,k,g=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],_=(m=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,x=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,b=/[^-+\dA-Z]/g,k=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},function(t,e,i){var n=_;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date:"+t);"UTC:"==(e=String(n.masks[e]||e||n.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var r,s,o,a=i?"getUTC":"get",u=t[a+"Date"](),h=t[a+"Day"](),l=t[a+"Month"](),c=t[a+"FullYear"](),f=t[a+"Hours"](),p=t[a+"Minutes"](),d=t[a+"Seconds"](),g=t[a+"Milliseconds"](),y=i?0:t.getTimezoneOffset(),v={d:u,dd:k(u),ddd:n.i18n.dayNames[h],dddd:n.i18n.dayNames[h+7],m:l+1,mm:k(l+1),mmm:n.i18n.monthNames[l],mmmm:n.i18n.monthNames[l+12],yy:String(c).slice(2),yyyy:c,h:f%12||12,hh:k(f%12||12),H:f,HH:k(f),M:p,MM:k(p),s:d,ss:k(d),l:k(g,3),L:k(99<g?Math.round(g/10):g),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:i?"UTC":(String(t).match(x)||[""]).pop().replace(b,""),o:(0<y?"-":"+")+k(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][3<u%10?0:(u%100-u%10!=10)*u%10],W:(r=t,s=a,o=new Date(r[s+"FullYear"](),0,1),Math.ceil(((r-o)/864e5+o[s+"Day"]()+1)/7))};return e.replace(m,function(t){return t in v?v[t]:t.slice(1,t.length-1)})});function a(t,e){return Math.round(t/e)*e}function y(t,e){switch(e.unit){case"s":t.setSeconds(a(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(a(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(a(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(a(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(a(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function v(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function M(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var n={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},r=document.createElementNS(t.graph.ns,"line");switch(r.setAttribute("stroke","black"),r.setAttribute("y1",0),e){case 2:r.setAttribute("y2",6),n.text.setAttribute("y",15),n.line=r,n.group.appendChild(n.line);break;default:case 1:r.setAttribute("y2",20),n.text.setAttribute("y",10),n.line1=r,n.line2=r.cloneNode(),n.group.appendChild(n.line1),n.group.appendChild(n.line2)}return n.text.setAttribute("text-anchor","middle"),n.text.setAttribute("dominant-baseline","middle"),n.group.appendChild(n.text),t.getWrapper(e).appendChild(n.group),t.groups[e][i]=n}function w(t,e,i){for(;i<t.groups[e].length;i++)h(t.groups[e][i])}function h(t){t.group.setAttribute("display","none")}function S(t,e,i,n,r,s,o){switch(t){case 2:if(s<n||r<s)return void h(e);e.line.setAttribute("x1",s),e.line.setAttribute("x2",s),e.text.setAttribute("x",s),e.text.textContent=i;break;default:case 1:var a=Math.max(n,Math.min(r,s)),u=Math.max(n,Math.min(r,o));if(isNaN(u)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",u),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",u),e.text.setAttribute("x",(a+u)/2);8*i.length>u-a;)if(1==(i=i.substr(0,i.length-2)+".").length){i="";break}e.text.textContent=i}}_.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},_.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var u=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),o(n,[{key:"init",value:function(t,e){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"init",this).call(this,t,e),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var i=document.createElementNS(t.ns,"rect");i.setAttribute("fill","#c0c0c0"),i.setAttribute("stroke","#808080"),i.setAttribute("height","20"),i.setAttribute("x","0"),i.setAttribute("y","0"),this.rect=i,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),null!=this.currentAxisMin&&null!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t,e=this.maxPx-this.minPx,i=this.getCurrentInterval()/e,n=this.getCurrentMax(),r=this.getCurrentMin();if(this.rect.setAttribute("width",e),this.rect.setAttribute("x",this.minPx),!n||!r)return 0;for(l=0;l<g.length;l++)if(g[l].threshold>i){t=g[l];break}t||(t=g[g.length-1]);var s,o,a,u,h,l,c,f,p=0;for(p=1;p<=2;p++){if(!d.isNumeric(r)){w(this,p,0);break}a=y(new Date(r),t.increments[p]),l=0;do{if(c=a,f=t.increments[p].format,u=_(c,f),h=M(this,p,l),s=this.getPx(a.getTime()),a=v(a,t.increments[p]),o=this.getPx(a.getTime()),S(p,h,u,this.getMinPx(),this.getMaxPx(),s,o),100<++l)break}while(a.getTime()<n);w(this,p,l)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(t){return this.wrapper[t]}},{key:"setShift",value:function(t){this.shift=t,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}]),n}();e.default=u,t.exports=e.default},r=[t,e,i(72),i(5)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),a=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var l=function(t){function n(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default),h(n,null,[{key:"defaults",value:function(){return{zpos:0}}}]),h(n,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),n}();o.mix(l,s.default),e.default=l,t.exports=e.default},r=[t,e,i(141),i(5),i(49)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}})(i),o(n);var s=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return n.pathDom=document.createElementNS(n.graph.ns,"path"),n.groupMain.appendChild(n.pathDom),n.styles={},n.styles.unselected={lineColor:n.options.lineColor,lineStyle:n.options.lineStyle,lineWidth:n.options.lineWidth,fillColor:n.options.fillColor,fillOpacity:n.options.fillOpacity,markers:n.options.markers},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),a(r,[{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor}},{key:"setFillOpacity",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillOpacity",value:function(t){return this.getStyle(t).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t="";this.hasErrors()&&this.errorDrawInit();for(var e=0;e<this.waveform.getLength();e++)if(this.categoryIndices[this.waveform.getX(e)]&&(t+="M "+this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])+" "+this.getYAxis().getPos(this.getYAxis().getCurrentMin())+" V "+this.getYAxis().getPos(this.waveform.getY(e))+" h "+this.getXAxis().getDeltaPx(1/this.nbCategories)+" V "+this.getYAxis().getPos(this.getYAxis().getCurrentMin()),this.hasErrors())){var i=this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])+this.getXAxis().getDeltaPx(1/this.nbCategories)/2,n=this.getYAxis().getPos(this.waveform.getY(e));this.errorAddPoint(e,this.waveform.getX(e),this.waveform.getY(e),i,n)}this.hasErrors()&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return this.waveform.xdata}}]),r}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(73),i(49)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,S,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a={orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}},s=function(t){function s(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,i,(0,S.extend)(!0,{},a,n)));return r.pathDom=document.createElementNS(r.graph.ns,"path"),r.groupMain.appendChild(r.pathDom),r.styles={},r.styles.unselected=r.options.defaultStyle,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r.default),o(s,[{key:"setData",value:function(t,e){if(this.data=t,Array.isArray(t)){var i=void 0,n=void 0,r=void 0,s=void 0,o=void 0;for(var a in"y"==this.options.orientation?(i=this.getXAxis(),n=this.getYAxis(),r=this._checkX.bind(this),s=this._checkY.bind(this),o=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),n=this.getXAxis(),r=this._checkY.bind(this),s=this._checkX.bind(this),o=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(r=function(){},s=function(){}),i&&n||(0,S.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand"),this.data)o?(r(this.data[a].x),this.data[a].pos=this.data[a].x):(r(this.data[a].y),this.data[a].pos=this.data[a].y),this.data[a].Q3&&s(this.data[a].Q3),this.data[a].Q1&&s(this.data[a].Q1),this.data[a].whiskers?Array.isArray(this.data[a].whiskers)?(0<this.data[a].whiskers.length&&s(this.data[a].whiskers[0]),1<this.data[a].whiskers.length&&s(this.data[a].whiskers[1])):(s(this.data[a].whiskers),this.data[a].whiskers=[this.data[a].whiskers]):this.data[a].whiskers=[],Array.isArray(this.data[a].outliers)?this.data[a].outliers.map(function(t){return s(t)}):this.data[a].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected",n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,n&&this._set(t,e,"selected"),this.styleHasChanged(i),this}},{key:"_gstyle",value:function(t,e){return this.getStyle(e)[t]}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[t]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=(0,S.extend)({},this.default().defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var i=this;if(this.data){var n=void 0,e="y"==this.options.orientation?this.getYAxis():this.getXAxis(),t="y"==this.options.orientation?this.getXAxis():this.getYAxis(),r=void 0,s=void 0,o=void 0,a=void 0,u=void 0,h=void 0,l=void 0;if((0,S.emptyDom)(this.groupMain),"category"==t.getType())r=t.getRelPx(.8/this.nbCategories),!0;else{r=this.options.maxBoxWidth,console.log(r);for(var c=0,f=this.data.length;c<f-1;c++)r=Math.max(5,Math.min(r,Math.abs(t.getPx(this.data[c+1].x)-t.getPx(this.data[c].x)))),console.log(r,this.data,this.data[c+1].x,t.getPx(this.data[c+1].x),t)}for(c=0,f=this.data.length;c<f;c++){if("category"==t.getType()){var p="y"==this.options.orientation?this.data[c].x:this.data[c].y;if(this.categoryIndices.hasOwnProperty(p))n=[t.getPos(this.categoryIndices[p])+1.2*r/2];else if(Array.isArray(this._linkedToScatterSeries)){var d=!0,g=!1,y=void 0;try{for(var v,m=this._linkedToScatterSeries[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var x=v.value;if(x.categoryIndices.hasOwnProperty(p)){n=[t.getPos(x.categoryIndices[p])+1.2*r/2],e="y"==this.options.orientation?x.getYAxis():x.getXAxis();break}}}catch(t){g=!0,y=t}finally{try{!d&&m.return&&m.return()}finally{if(g)throw y}}}}else n=[t.getPos("y"==this.options.orientation?this.data[c].x:this.data[c].y),r];s=e.getPos(this.data[c].Q2),o=e.getPos(this.data[c].Q3),a=e.getPos(this.data[c].Q1),this.data[c].whiskers.map(function(t){t<i.data[c].Q1?h=e.getPos(t):u=e.getPos(t)}),l=this.data[c].outliers.map(function(t){return e.getPos(t)});var b=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(b);var k=document.createElementNS(this.graph.ns,"rect"),_=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(k.setAttribute("width",r),k.setAttribute("x",n[0]-r/2),_.setAttribute("width",r),_.setAttribute("x",n[0]-r/2),b.setAttribute("x1",n[0]-r/2),b.setAttribute("x2",n[0]+r/2),b.setAttribute("y1",s),b.setAttribute("y2",s)):(k.setAttribute("height",r),k.setAttribute("y",n[0]-r/2),_.setAttribute("height",r),_.setAttribute("y",n[0]-r/2),b.setAttribute("y1",n[0]-r/2),b.setAttribute("y2",n[0]+r/2),b.setAttribute("x1",s),b.setAttribute("x2",s)),this.boxPos(k,s,o,"x"==this.options.orientation),this.boxPos(_,s,a,"x"==this.options.orientation),this.applyBoxStyle(k,_);var M=document.createElementNS(this.graph.ns,"line"),w=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==u&&(M.setAttribute("y1",o),M.setAttribute("y2",u),M.setAttribute("x1",n[0]),M.setAttribute("x2",n[0])),void 0!==h&&(w.setAttribute("y1",a),w.setAttribute("y2",h),w.setAttribute("x1",n[0]),w.setAttribute("x2",n[0]))):(void 0!==u&&(M.setAttribute("x1",o),M.setAttribute("x2",u),M.setAttribute("y1",n[0]),M.setAttribute("y2",n[0])),void 0!==h&&(w.setAttribute("x1",a),w.setAttribute("x2",h),w.setAttribute("y1",n[0]),w.setAttribute("y2",n[0]))),l.map(function(t){var e=document.createElementNS(i.graph.ns,"circle");e.setAttribute("r",2),"y"==i.options.orientation?(e.setAttribute("cx",n[0]),e.setAttribute("cy",t)):(e.setAttribute("cy",n[0]),e.setAttribute("cx",t)),i.setOutlierStyle(e),i.groupMain.appendChild(e)}),void 0!==u&&this.groupMain.appendChild(M),void 0!==h&&this.groupMain.appendChild(w),void 0!==o&&this.groupMain.appendChild(k),void 0!==a&&this.groupMain.appendChild(_),this.groupMain.appendChild(b),this.applyWhiskerStyle(M,w)}}}},{key:"applyBoxStyle",value:function(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(t,e,i,n){i<e?(t.setAttribute(n?"x":"y",i),t.setAttribute(n?"width":"height",e-i)):(t.setAttribute(n?"x":"y",e),t.setAttribute(n?"width":"height",i-e))}},{key:"getUsedCategories",value:function(){var e="y"==this.options.orientation?"x":"y",i=this.data.map(function(t){return t[e]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(t){t.getUsedCategories().map(function(t){var e;-1<(e=i.indexOf(t))&&i.splice(e,1)})}),i}},{key:"linkToScatterSerie",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this._linkedToScatterSeries=e}}]),s}();e.default=s,t.exports=e.default},r=[t,e,i(5),i(74)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}})(i),o(n);var s=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return n.lines=n.lines||{},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),a(r,[{key:"setColors",value:function(t){this.colors=t}},{key:"_draw",value:function(){var t,e,i,n,r,s,o,a,u=this,h=(this._dataToUse,0),l=!1,c=!1,f=this.getXAxis(),p=this.getYAxis(),d=f.getCurrentMin(),g=p.getCurrentMin(),y=f.getCurrentMax(),v=p.getCurrentMax();for(this.eraseLines(),this.isFlipped()&&(1,0),this.currentLine="",e=this.waveform.getLength(),t=0;t<e;t+=2)if(i=this.waveform.getX(t),n=this.waveform.getY(t),i<d&&l<d||y<i&&y<l||(n<g&&c<g||v<n&&v<c)&&!this.options.lineToZero)l=i,c=n,!0;else if(this.counter2=t,this.markersShown()&&this.getMarkerCurrentFamily(this.counter2),o=this.getX(i),a=this.getY(n),o!=r||a!=s)if(i<d||n<g||y<i||v<n,isNaN(o)||isNaN(a))this.counter;else{var m=this.colors[t];this._addPoint(o,a,i,n,r,s,l,c,t,m,!1,!0),r=o,s=a,l=i,c=n}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var x=this.groupLines.cloneNode(!0);this.groupMain.appendChild(x);h=0;for(var b=x.children.length;h<b;h++)x.children[h].setAttribute("stroke","transparent"),x.children[h].setAttribute("stroke-width","25px"),x.children[h].setAttribute("pointer-events","stroke");u._trackerDom=x,u.groupMain.addEventListener("mousemove",function(t){var e=u.graph._getXY(t),i=u.handleMouseMove(!1,!1);u._trackingCallback(u,i,e.x,e.y)}),u.groupMain.addEventListener("mouseleave",function(t){u._trackingOutCallback(u)})}return this}},{key:"_addPoint",value:function(t,e,i,n,r,s,o,a,u,h,l,c){if(void 0!==r&&void 0!==s&&!isNaN(t)&&!isNaN(e)){h._rgb&&(h="rgba("+h._rgb[0]+","+h._rgb[1]+","+h._rgb[2]+","+(h._rgb[3]||1)+")");var f=this.lines[h];f||((f=this.lines[h]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:h}).object.setAttribute("stroke",h),f.color=h,this.groupLines.appendChild(f.object)),f.path+="M "+r+" "+s+" L "+t+" "+e,this.hasErrors()&&this.errorAddPoint(u,i,n,t,e)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}},{key:"eraseLines",value:function(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}]),r}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(73),i(49)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),a=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var l=function(t){function n(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default),h(n,null,[{key:"default",value:function(){return{zpos:0}}}]),h(n,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),n}();o.mix(l,s.default),e.default=l,t.exports=e.default},r=[t,e,i(141),i(5),i(142)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(r=n)&&r.__esModule?r:{default:r};var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return s.mapEventEmission(n.options,n),n.rects=[],n.paths=[],n.recalculateBinsOnDraw=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o.default),a(r,[{key:"setData",value:function(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(t,e,i,n,r,s){var o,a,u,h=[],l=this.data.length,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(o=0;o<l;o++)a=~~((this.data[o][0]-t)/e),u=~~((this.data[o][1]-n)/r),i<a||s<u||a<0||u<0||(h[a]=h[a]||[],h[a][u]=h[a][u]+1||1,c=h[a][u]<c?h[a][u]:c,f=h[a][u]>f?h[a][u]:f);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=c,this.binMax=f,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=s,this.densitymap=h}},{key:"setDensityMap",value:function(t,e,i,n,r){var s,o,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(s=0;s<t.length;s++)for(o=0;o<t[s].length;o++)a=t[s][o]<a?t[s][o]:a,u=t[s][o]>u?t[s][o]:u;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,console.log(t),this.binMin=a,this.binMax=u,this.deltaX=i,this.deltaY=r,this.fromX=e,this.fromY=n,this.numX=this.maxIndexX,this.numY=this.maxIndexY,this.densitymap=t}},{key:"calculateDensityWeighted",value:function(t,e,i,n,r,s){var o,a,u,h,l,c,f,p,d,g,y,v=[],m=this.data.length,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(o=0;o<m;o++)c=(this.data[o][0]-t)/e-.5,f=(this.data[o][1]-n)/r-.5,d=(p=a=Math.floor(c))+1,y=(g=u=Math.floor(f))+1,h=1-(c-a),l=1-(f-u),i<a||s<u||a<0||u<0||(v[p]=v[p]||[],v[d]=v[d]||[],v[p][g]=v[p][g]||0,v[d][g]=v[d][g]||0,v[p][y]=v[p][y]||0,v[d][y]=v[d][y]||0,v[p][g]+=h*l,v[d][g]+=(1-h)*l,v[p][y]+=h*(1-l),v[d][y]+=(1-h)*(1-l),x=v[p][g]<x?v[p][g]:x,b=v[p][g]>b?v[p][g]:b,x=v[d][g]<x?v[d][g]:x,b=v[d][g]>b?v[d][g]:b,x=v[p][y]<x?v[p][y]:x,b=v[p][y]>b?v[p][y]:b,x=v[d][y]<x?v[d][y]:x,b=v[d][y]>b?v[d][y]:b);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=x,this.binMax=b,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=s,this.densitymap=v}},{key:"autoBins",value:function(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}},{key:"setBinsFromTo",value:function(t,e,i,n){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:n},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}},{key:"calculateDensityAdvanced",value:function(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},n=!1;for(var r in this.densityMapCalculation)if(this.densityMapCalculation[r].weighted&&(n=!0,t[r].weighing=!0),this.densityMapCalculation[r].pxPerBin){var s="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,o="max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to,a=Math.abs(i[r].call(this).getRelPx(o-s));t[r].num=Math.ceil(e[r]/this.densityMapCalculation[r].pxPerBin),t[r].from=s-Math.abs(i[r].call(this).getRelVal((t[r].num*this.densityMapCalculation[r].pxPerBin-a)/2)),t[r].delta=Math.abs(i[r].call(this).getRelVal(this.densityMapCalculation[r].pxPerBin))}else t[r].num=this.densityMapCalculation[r].numBins||400,t[r].from="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,t[r].delta=this.densityMapCalculation[r].to?(("max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to)-t[r].from)/t[r].num:this.densityMapCalculate[r].delta;(n?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}},{key:"setColorMapBinBoundaries",value:function(t,e,i){return this.colorMapMin=t,this.colorMapMax=e,i||(this.callbackColorMapMinMax="manual"),this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(t){return this.callbackColorMapMinMax=t,this}},{key:"colorMapHSL",value:function(t,e,i){i=i||"linear";for(var n,r,s={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},o=0,a=[],u=[],h={h:null,s:null,l:null,a:null},l=t.length-1,c=0;c<=e;c++){for(var f in n=s[i](c),(r=Math.floor(n*l))==t.length-1&&(r=l-1),n=(n-r/l)/(1/l),h)h[f]=(t[r+1][f]-t[r][f])*n+t[r][f];a[o]="hsl("+h.h+", "+Math.round(100*h.s)+"%, "+Math.round(100*h.l)+"%)",u[o]=h.a,o++}return this.opacities=u,this.colorMap=a,this.colorMapNum=e,this}},{key:"autoColorMapHSL",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"linear";return this.colorMapHSL(t,100,e),this}},{key:"getColorIndex",value:function(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&null!=this.colorMapMin&&null!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){if("function"==typeof this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1],!0)}}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),n=this.getYAxis().getRelPx(this.deltaY),r=0;r<this.paths.length;r++)this.paths[r]="";console.log(this.maxIndexX,this.maxIndexY);for(r=0;r<this.maxIndexX;r++)for(var s=0;s<this.maxIndexY;s++)null!=this.densitymap[r]&&null!=this.densitymap[r][s]&&(t=this.getColorIndex(this.densitymap[r][s]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=" M "+this.getXAxis().getPx(r*this.deltaX+this.fromX)+" "+this.getYAxis().getPx(s*this.deltaY+this.fromY)+" h "+i+" v "+n+" h -"+i+" z");this.drawRects()}},{key:"drawRects",value:function(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}},{key:"setOptions",value:function(t){return this.options=s.extend(!0,{},this.defaults(),t||{}),this}}]),r}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(74)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=(r=n)&&r.__esModule?r:{default:r};var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return n.negativeDelta=0,n.positiveDelta=0,n.negativeThreshold=0,n.positiveThreshold=0,n.groupMain.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),o(r,[{key:"setData",value:function(t,e,i){i=i||"float";var n,r,s,o,a=t.length,u=[];for(t instanceof Array||"object"==(void 0===t?"undefined":h(t))&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,a=(t=t.segments).length),n=0;n<a;n++){for(s=t[n].lines.length,o=this._addData(i,s),r=0;r<s;r+=2)o[r]=t[n].lines[r],this._checkX(o[r]),o[r+1]=t[n].lines[r+1],this._checkY(o[r+1]);u.push({lines:o,zValue:t[n].zValue})}return this.data=u,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){var e,i,n,r,s,o,a,u=this.currentLine=0,h=this.data.length,l=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var f=0,p=1;this.getFlip()&&(f=0,p=1);var d=this.getYAxis().getCurrentMin(),g=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),v=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;u<h;u++){for(this.currentLine="",l=0,s=(a=this.data[u].lines).length;l<s;l+=4){a[l+f]<g&&a[l+2+f]<g||a[l+p]<d&&a[l+2+p]<d||a[l+p]>v&&a[l+2+p]>v||a[l+f]>y&&a[l+2+f]>y||(n=this.getX(a[l+f]),r=this.getY(a[l+p]),e=this.getX(a[l+2+f]),i=this.getY(a[l+2+p]),e==n&&i==r||(this.currentLine+="M ",this.currentLine+=n,this.currentLine+=" ",this.currentLine+=r,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++,e,i,0))}this.currentLine+=" z",(o=this._createLine()).setAttribute("data-zvalue",this.data[u].zValue),this.zValues[this.data[u].zValue]={dom:o},this.minZ=Math.min(this.minZ,this.data[u].zValue),this.maxZ=Math.max(this.maxZ,this.data[u].zValue)}for(u++,u=this.currentLine+1;u<this.lines.length;u++)this.groupLines.removeChild(this.lines[u]),this.lines.splice(u,1);for(u=0;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(t,e,i,n){for(var r in t/=250,void 0!==i?(n||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),n&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0),this.zValues)this.zValues[r].dom.setAttribute("display",0<=r&&r>=this.positiveThreshold||r<=0&&r<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"handleMouseMove",value:function(t,e,i){var n=t||this.getXAxis().getMouseVal(),r=i||this.getYAxis().getMouseVal();return{trueX:n,interpolatedY:r,xClosest:n,yClosest:r}}},{key:"setDynamicColor",value:function(t){this.lineColors=t,this.styleHasChanged()}},{key:"setNegative",value:function(t){(this.options.hasNegative=t)&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(t,e,i,n){if(this.lineColors){var r={h:0,s:0,l:0};for(var s in r)r[s]=0<e?this.lineColors.fromPositive[s]+(this.lineColors.toPositive[s]-this.lineColors.fromPositive[s])*(e/n):this.lineColors.fromNegative[s]+(this.lineColors.toNegative[s]-this.lineColors.fromNegative[s])*(e/i);r.h/=360;var o=a.hslToRgb(r.h,r.s,r.l);t.setAttribute("stroke","rgb("+o.join()+")")}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(t){this._shapeZoom=t}}]),r}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(49)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var n=this.serie.searchClosestValue(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!n)return;this.resizingPosition.x!=n.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=n.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),n=Math.min(t.x,e.x);if(i<2||n+i<0||n>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var r,s,o,a,u,h,l,c=this.serie.searchClosestValue(this.getPosition(0).x),f=this.serie.searchClosestValue(this.getPosition(1).x),p=0,d=Number.MAX_VALUE;if(!c||!f)return!1;for(c.xBeforeIndex>f.xBeforeIndex&&(r=c,c=f,f=r),this.counter=0,s=c.dataIndex;s<=f.dataIndex;s++){for(this.currentLine="",h=0,(a=s==c.dataIndex?c.xBeforeIndexArr:0)==(u=s==f.dataIndex?f.xBeforeIndexArr:this.serie.data[s].length)&&u++,o=a;o<=u;o+=2)n=this.serie.getX(this.serie.data[s][o+0]),l=this.serie.getY(this.serie.data[s][o+1]),p=Math.max(this.serie.data[s][o+1],p),d=Math.min(this.serie.data[s][o+1],d),o==a&&(this.firstX=n,this.firstY=l),this.currentLine+=0<h?" L "+n+" "+l+" ":" M "+n+" "+l+" ",h++;if(this.lastX=n,this.lastY=l,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V "+this.getYAxis().getPx(0)+" H "+this.firstX+" z",this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(p),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}]),e}();e.default=o,t.exports=e.default},r=[t,e,i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow"+this.graph._creation+")"),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}]),e}();e.default=o,t.exports=e.default},r=[t,e,i(103)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r.default),s(i,[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}]),i}();e.default=o,t.exports=e.default},r=[t,e,i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),null==this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this.setProp("pxPoints",t),this}},{key:"applyPosition",value:function(){var t=void 0,e=this.computePosition(0);if(t=this.getProp("pxPoints"))t=" M "+e.x+" "+e.y+" "+t,this.setDom("d",t);else if(this.points){var i,n;this.serie?(i=this.serie.getXAxis(),n=this.serie.getYAxis()):this.xAxis&&this.yAxis&&(i=this.xAxis,n=this.yAxis),this.setDom("d","M "+this.points.map(function(t){return i.getPx(t[0])+", "+n.getPx(t[1])}).join(" L "))}return this.changed(),!0}}]),i}();e.default=o,t.exports=e.default},r=[t,e,i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(i);var r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.nbHandles=2,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.default),o(n,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._domShadow=document.createElementNS(this.graph.ns,"path"),(this._domShadow.jsGraphIsShape=this)._dom.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("stroke-width","12"),this._domShadow.setAttribute("fill","transparent"),this._domShadow.setAttribute("stroke","transparent"),this.group.appendChild(this._domShadow)}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(t,e){return t&&!e||!t&&e}},{key:"applyPosition",value:function(){var t=void 0,e=void 0,i=void 0,n=void 0,r=this.getAxis(),s=[],o="",a=this.getProp("baseLine",0)||300,u=void 0;if(!this.serie)throw"No serie exists for this shape";var h=this.getPosition(0),l=this.getPosition(1);if(h.x<this.serie.getXAxis().getCurrentMin()&&l.x<this.serie.getXAxis().getCurrentMin()||h.x>this.serie.getXAxis().getCurrentMax()&&l.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this._domShadow.setAttribute("d",""),this.hideLabel(0),!1;this.showLabel(0);var c=0,f=void 0,p=this.serie.getWaveform();if(p){var d=p.getIndexFromX(h[r],!0,Math.floor),g=p.getIndexFromX(l[r],!0,Math.ceil),y=void 0,v=!1;d==g&&("aggregate"==p.getReductionType()?g+=4:g++),g<d&&(y=d,d=g,g=y,v=!0);var m=void 0,x=void 0,b=void 0,k=(p.getDataInUse(),void 0),_=void 0;for("aggregate"==p.getReductionType()&&!1,p.getXMonotoneousAscending()||(p.getXMonotoneousAscending(),0)?(f=g,k=!0,_=-1):(f=d,k=!1,_=1);k?d<=f:f<=g;f+=_)i=p.getX(f,!0),n=p.getY(f,!0),t=this.serie.getX(i),e=this.serie.getY(n),c+=p.getY(f,!0),m||(m=t,x=e,p.getX(f),p.getY(f)),null!=b?(b=t,e,s.push([t,e,c]),i):(b=t,e,p.getX(f),p.getY(f));b=!1,0==c&&(c=1),this._sumVal=p.integrate(h.x,l.x),u=this.ratio?this.ratio*(this.sumVal/c):200/c;var M=void 0;if(0!=s.length){for(var w=0,S=s.length;w<S;w++){if(M=a-s[w][2]*u,0<w&&(s[w-1][2]>c/2&&s[w][2]<=c/2||s[w-1][2]<c/2&&s[w][2]>=c/2)){var A=a-(s[w-1][2]+s[w][2])/2*u;this.setPosition({x:s[w][0]+"px",y:A+"px"},3),this.setLabelPosition(this.getPosition(3),0)}o+=" L "+s[w][0]+", "+M+" ",this.lastPointX=s[w][0],this.lastPointY=M}return this.points=s,this._sum=c,o=this.serie.isFlipped()?" M "+a+", "+m+" "+o:" M "+m+", "+a+" "+o,this.firstPointX=m,this.firstPointY=a,this.setDom("d",o),this._domShadow.setAttribute("d",o),this.firstX=m,this.firstY=x,this.serie.ratioLabel&&this.updateIntegralValue(this.serie.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==_,v),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.serie.ratioLabel,e=arguments[1];return console.log(t),t&&(this.serie.ratioLabel=t),isNaN(e)||isNaN(this.sumVal)||!this.sumVal||(this.serie.ratioLabel=e/this.sumVal),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels(),this.serie.ratioLabel}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){null!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(t){this._ratio=t},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}]),n}();e.default=a,t.exports=e.default},r=[t,e,i(53),i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.nbHandles=4,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.default),s(n,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),(this._dom.element=this).createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}]),n}();e.default=o,t.exports=e.default},r=[t,e,i(143)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.nbHandles=1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r.default),s(n,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -"+this.width/2+" 0 h "+this.width+" m -"+this.width/2+" -"+this.width/2+" v "+this.width)}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform","translate( "+t.x+", "+t.y+")"),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(t){return this.moving=!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s=this.getFromData("pos");return this.moving&&(s.x=this.graph.deltaPosition(s.x,e,this.getXAxis()),s.y=this.graph.deltaPosition(s.y,i,this.getYAxis())),this.redrawImpl(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(t){this.options.width=t}}]),n}();e.default=o,t.exports=e.default},r=[t,e,i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.lineHeight=6,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var n=this.lineHeight;this.rectBoundary.setAttribute("d","M "+t.x+" "+(this.posYPx-n)+" v "+2*n+" H "+e.x+" v "+-2*n+"z"),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(n)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(t){return this.posYPx=t,this}},{key:"setLineHeight",value:function(t){this.lineHeihgt=t}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){var n=this.getPosition(0),r=this.getPosition(1),s=this.getPosition(2);switch(this.handleSelected){case 1:n.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))&&(s.x=n.x+.1*(r.x-n.x));break;case 2:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))&&(s.x=r.x+.1*(n.x-r.x));break;case 3:if(s.deltaPosition("x",e,this.getXAxis()),Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:s.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}]),i}();e.default=o,t.exports=e.default},r=[t,e,i(103)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var t=document.createElement("div");this._dom.appendChild(t),this.div=t}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(t){this.setProp("height",t)}},{key:"setWidth",value:function(t){this.setProp("width",t)}},{key:"setContent",value:function(t){this.setProp("content",t)}},{key:"setRenderer",value:function(t){this._renderer=t}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&(0,n.isNumeric)(t.x)&&(0,n.isNumeric)(t.y))return this._dom.style.left=t.x+"px",this._dom.style.top=t.y+"px",this.currentPosX=t.x,this.currentPosY=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){return!0}},{key:"setHandles",value:function(){}},{key:"isHTML",value:function(){return!0}}]),i}();e.default=a,t.exports=e.default},r=[t,e,i(5),i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"init",value:function(t){this.graph=t,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(t,e,i,n,r){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,!(this.moved=!1)}},{key:"onMouseMove",value:function(t,e,i,n,r){var s=e-this._draggingX,o=i-this._draggingY;this.options.dragX&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-s)),t.setCurrentMax(t.getVal(t.getMaxPx()-s))},!1,!0,!1),this.options.dragY&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}},{key:"onMouseUp",value:function(t,e,i,n,r){var s=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/s,this.speedY=(i-this._lastDraggingY)/s,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes(function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}},{key:"_persistanceMove",value:function(n){var r=this;r.stopAnimation?r.emit("dragged"):window.requestAnimationFrame(function(){var t=Date.now()-r.time,e=(.5*r.accelerationX*t+r.speedX)*t,i=(.5*r.accelerationY*t+r.speedY)*t;r.options.persistanceX&&n._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(e)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(e)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!0,!1),r.options.persistanceY&&n._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(i)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(i)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!1,!0),n.draw(),t<r.totaltime?(r.emit("dragging"),r._persistanceMove(n)):r.emit("dragged")})}}],[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}]),e}();e.default=o,t.exports=e.default},r=[t,e,i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=(r=n)&&r.__esModule?r:{default:r};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"init",value:function(t,e){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).call(this,t,e),this.shapeType=e.type}},{key:"setShape",value:function(t){this.shapeInfo.shapeType=t}},{key:"onMouseDown",value:function(e,t,i,n,r){var s=this;if(this.shapeType||this.options.url){var o,a,u=this;this.count=this.count||0,t-=e.getPaddingLeft(),i-=e.getPaddingTop();var h={position:[{x:o=e.getXAxis().getVal(t),y:a=e.getYAxis().getVal(i)},{x:o,y:a}],onChange:function(t){e.triggerEvent("onAnnotationChange",t)},locked:!1,selectable:!0,resizable:!0,movable:!0},l=this.options.properties;if(f.extend(!0,h,this.options),this.emit("beforeNewShape",n,h),!this.graph.prevent(!1)){var c=e.newShape(h.type,h,!1,l);this.emit("createdShape",n,c),c&&(u.currentShape=c,u.currentShapeEvent=n),e.once("mouseUp",function(){console.log(s.currentShape),s.currentShape||u.emit("newShape",n,c)})}}}},{key:"onMouseMove",value:function(t,e,i,n){if(this.currentShape){console.log("mv"),this.count++;var r=this.currentShape;this.currentShape=!1,t.selectedSerie&&!r.serie&&r.setSerie(t.selectedSerie),r.resizing=!0,r.options&&r.options.onCreate&&r.options.onCreate.call(r),r.draw(),t.selectShape(r),r.handleMouseDown(this.currentShapeEvent,!0),r.handleSelected=this.options.handleSelected||1,r.handleMouseMove(n,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}],[{key:"default",value:function(){return{}}}]),i}();e.default=a,t.exports=e.default},r=[t,e,i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(r=n)&&r.__esModule?r:{default:r};var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._path=document.createElementNS(t.ns,"path"),s.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),(this.graph=t).dom.appendChild(this._path)}},{key:"setSerie",value:function(t){this.serie=t}},{key:"onMouseDown",value:function(t,e,i,n,r){this.serie&&(this.path="M "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs=[this.serie.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[this.serie.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block"))}},{key:"onMouseMove",value:function(t,e,i,n,r){25<Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)&&(this.path+=" L "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs.push(this.serie.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(this.serie.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d",this.path+" z"),this.findPoints())}},{key:"findPoints",value:function(){for(var t,e=this.serie.waveform,i=[],n=0,r=0,s=e.getLength();r<s;r+=1){for(var o=n=0,a=this.xs.length;o<a;o+=1)t=o==a-1?0:o+1,(this.ys[o]<e.getY(r)&&this.ys[t]>e.getY(r)||this.ys[o]>e.getY(r)&&this.ys[t]<e.getY(r))&&e.getX(r)>(e.getY(r)-this.ys[o])/(this.ys[t]-this.ys[o])*(this.xs[t]-this.xs[o])+this.xs[o]&&n++;n%2==1?(i.push(r),this.serie.selectPoint(r,!0,"selected")):this.serie.unselectPoint(r)}this.selected=i,this.emit("selectionProcess",i)}},{key:"onMouseUp",value:function(t,e,i,n){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(r=n)&&r.__esModule?r:{default:r};var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),s.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),(this.graph=t).groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(t,e,i,n,r){var s=this.options.zoomMode;if(s){switch(this._zoomingMode=s,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!r&&this.options.onZoomStart(t,e,i,n,r)}}},{key:"onMouseMove",value:function(t,e,i,n,r){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!r&&this.options.onZoomMove(t,e,i,n,r)}},{key:"onMouseUp",value:function(t,e,i,n,r){var s=this;this.removeZone();var o=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:n,mute:r}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var u=!1,h=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o),t.getVal(s.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o),t.getVal(s.x1))},!1,!0,!1),u=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(s.y1))},!1,!1,!0),h=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(s.y2),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(s.y2),t.getVal(s.y1))},!1,!1,!0),h=!0),this.transition(u,h,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(t,e,i,n,r){r||(r={}),r.baseline||(r.baseline=0);var s=r.baseline;"mousePosition"==r.baseline&&(s=this.graph.getYAxis().getVal(n));var o="x"==r.direction,a=!("y"!==r.direction);this.toAxes("handleMouseWheel",[t,e,s],o,a),this.graph.drawSeries()}},{key:"onDblClick",value:function(t,e,i,n,r){var s=this.graph;if(this.emit("beforeDblClick",{graph:s,x:t,y:e,pref:n,e:i,mute:r}),!s.prevent(!1)){if(this.options.transition||this.options.smooth){var o=!1,a=!1;"xtotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!0,!1),o=!0),"ytotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!1,!0),a=!0);var u=void 0,h=void 0;return"gradualX"!=n.mode&&"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(h=u=!1,"gradualX"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(o=u=!0),"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(a=h=!0),this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())},!1,u,h)),void this.transition(o,a,"dblClick")}var l=this.graph.getXAxis(),c=this.graph.getYAxis();if("xtotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var f=l.getCurrentMin(),p=l.getCurrentMax(),d=l.getVal(t),g=p-f,y=c.getCurrentMin(),v=c.getCurrentMax(),m=c.getVal(e),x=v-y;if("gradualXY"==n.mode||"gradualX"==n.mode){var b=(d-f)/(p-f);f=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,f-g*b),p=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,p+g*(1-b)),l.setCurrentMin(f),l.setCurrentMax(p),l.options.onZoom&&l.options.onZoom(f,p),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval()}if("gradualXY"==n.mode||"gradualY"==n.mode){b=(m-y)/(v-y);y=Math.max(c.getMinValue()-c.getInterval()*c.options.axisDataSpacing.min,y-x*b),v=Math.min(c.getMaxValue()+c.getInterval()*c.options.axisDataSpacing.max,v+x*(1-b)),c.setCurrentMin(y),c.setCurrentMax(v),c.options.onZoom&&c.options.onZoom(y,v),c.cacheCurrentMin(),c.cacheCurrentMax(),c.cacheInterval()}}s.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(i,n,r){var s=this;s.gradualUnzoomStart||(s.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var t=Date.now()-s.gradualUnzoomStart;500<t&&(t=500);var e=Math.sin(t/500*Math.PI/2);s.toAxes(function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*e),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*e),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,i,n),s.graph.draw(),t<500?(s.transition(i,n,r),s.emit("zooming")):(s.emit("zoomed"),s.graph.pluginYieldActiveState(),r&&s.emit(r),s.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(t,e,i,n){var r=this.options.axes;switch(r&&("serieSelected"!=r||this.graph.getSelectedSerie())||(r="all"),r){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var s=this.graph.getSelectedSerie();s&&(i&&("string"==typeof t?s.getXAxis()[t].apply(s.getXAxis(),e):t.apply(s.getXAxis(),e)),n&&("string"==typeof t?s.getYAxis()[t].apply(s.getYAxis(),e):t.apply(s.getYAxis(),e)));break;default:Array.isArray(r)||(r=[r]);var o=!0,a=!1,u=void 0;try{for(var h,l=r[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var c=h.value;c.isX()&&i?"string"==typeof t?c[t].apply(c,e):t.apply(c,e):c.isY()&&n&&("string"==typeof t?c[t].apply(c,e):t.apply(c,e))}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}}}}],[{key:"default",value:function(){return{axes:"all"}}}]),e}();e.default=u,t.exports=e.default},r=[t,e,i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(i),d=h(n),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),u=h(s);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.series=[],i.plugins=[],i.currentSlots={},i.requestLevels=new Map,i.update=function(e,t){i.series.forEach(function(t){this.updateSerie(t,e)}),e||i.recalculateSeries(t)},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),l(e,[{key:"init",value:function(t,e){this.graph=t,d.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(t){return this.options.url=t,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(t,e,i,n,r){var s=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},s.on("hide",function(){s._zoneSerie&&s._zoneSerie.hide()}),s.on("show",function(){s._zoneSerie&&s._zoneSerie.show()}),s.setInfo("timeSerieManagerDBElements",n),r||(s._zoneSerie=this.graph.newSerie(t+"_zone",{},o.default.SERIE_ZONE)),this.series.push(s),s}},{key:"registerPlugin",value:function(t,e){if(-1<this.plugins.indexOf(t))for(var i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}},{key:"updateSerie",value:function(r,s){var o,a=this,t=r.getXAxis().getCurrentMin(),e=r.getXAxis().getCurrentMax(),u=this.getOptimalInterval(e-t),i=this.options.intervals.indexOf(u);this.cleanRegister(i);for(var n=i;n<=i+1;n++){o=this.options.intervals[n];var h=a.computeSlotID(t,o),l=a.computeSlotID(e,o);[[2,5,6],[1,2,4],[0,1,3]].forEach(function(t){for(var e=h-t[0]*(l-h),i=l+t[0]*(l-h),n=e;n<=i&&!(a.computeTimeMin(n,o)>Date.now());)a.register(r,n,o,o==u?t[1]:t[2],!0,s),n++})}this.processRequests()}},{key:"cleanRegister",value:function(n){this.requestLevels&&this.requestLevels.forEach(function(i){i.forEach(function(t,e){t[4]<n&&i.splice(e,1)})})}},{key:"register",value:function(t,e,i,n,r,s){var o=this.computeUniqueID(t,e,i),a=d.default.get(this.options.LRUName,o);(!a||this.computeTimeMax(e,i)>Date.now()&&a.timeout<Date.now()-(s?5e3:1e5)&&1==n)&&this.request(t,e,i,n,o,r)}},{key:"request",value:function(t,e,i,n,r,s){for(var o in this.requestLevels)o!=n&&this.requestLevels[o][r]&&(1!==this.requestLevels[o][r][0]?delete this.requestLevels[o][r]:this.requestLevels[o][r][5]=n);this.requestLevels[n]&&this.requestLevels[n][r]||(this.requestLevels[n]=this.requestLevels[n]||{},this.requestLevels[n][r]=[0,r,t.getName(),e,i,n,t.getInfo("timeSerieManagerDBElements")],s||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var e,i=this,n=1;;){for(var r in this.requestLevels[n])if(1!=this.requestLevels[n][r][0]){e=this.requestLevels[n][r];break}if(e)break;if(10<++n)return}this.requestsRunning++,e&&(e[0]=1,a.ajaxGet({url:this.getURL(e),method:"GET",json:!0}).done(function(t){1==t.status&&(i.requestsRunning--,delete i.requestLevels[n][r],d.default.store(i.options.LRUName,e[1],t.data),i.processRequests(),1==e[5]&&0==Object.keys(i.requestLevels[1]).length&&i.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(t,e){return(t+1)*(e*this.options.nbPoints)}},{key:"computeTimeMin",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getURL",value:function(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var n in i)e=e.replace("<"+n+">",i[n]);return e}},{key:"getOptimalInterval",value:function(t){var i,n=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),r=1/0;return this.options.intervals.forEach(function(t){var e=Math.min(r,Math.abs(t-n));r!==e&&(i=t,r=e)}),i||1e3}},{key:"computeUniqueID",value:function(t,e,i){var n="",r=t.getInfo("timeSerieManagerDBElements");for(var s in r)n+=";"+s+":"+r[s];return t.getName()+";"+e+";"+i+n}},{key:"computeSlotID",value:function(t,e){return Math.floor(t/(e*this.options.nbPoints))}},{key:"computeSlotTime",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getZoneSerie",value:function(t){return t._zoneSerie}},{key:"updateZoneSerie",value:function(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(e){var i=this;this.locked||(this.changed=!1,this.series.map(function(t){i.recalculateSerie(t,e)}),this.changed=!1,i.graph.draw())}},{key:"recalculateSerie",value:function(t,e){var i=t.getXAxis().getCurrentMin(),n=t.getXAxis().getCurrentMax(),r=this.getOptimalInterval(n-i),s=this.computeSlotID(i,r),o=this.computeSlotID(n,r),a=[],u=[];if(!(!e&&r==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=s&&this.currentSlots[t.getName()].max>=o)){s-=2,o+=2,this.currentSlots[t.getName()].min=s,this.currentSlots[t.getName()].max=o,this.currentSlots[t.getName()].interval=r;for(var h=s;h<=o;){var l=d.default.get(this.options.LRUName,this.computeUniqueID(t,h,r));l?(a=a.concat(l.data.mean),u=u.concat(l.data.minmax)):this.recalculateSerieUpwards(t,h,r,a,u),h++}this.changed=!0,t.setData(a),t._zoneSerie&&t._zoneSerie.setData(u)}}},{key:"setIntervalCheck",value:function(t){var e=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){e.update(!0,!1)},t)}},{key:"recalculateSerieUpwards",value:function(t,e,i,n,r){var s=this.options.intervals.slice(0);s.sort();var o=s[s.indexOf(i)+1]||-1;if(o<0)return[];var a=this.computeSlotTime(e,i),u=this.computeSlotTime(e+1,i),h=this.computeSlotID(a,o),l=!1,c=d.default.get(this.options.LRUName,this.computeUniqueID(t,h,o));if(c)for(var f=0,p=c.data.mean.length;f<p;f+=2)if(!(c.data.mean[f]<a)&&(!1===l&&(l=f),c.data.mean[f]>=u))return void(r=(n=n.concat(c.data.mean.slice(l,f))).concat(c.data.minmax.slice(l,f)));return this.recalculateSerieUpwards(t,h,o,n,r)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}],[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}]),e}();e.default=c,t.exports=e.default},r=[t,e,i(71),i(377),i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;r=[e],void 0===(s="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(t,e){!function(t,e){e=e||50,h[t]||(h[t]={},c[t]=0);f[t]=e}(t,e)},t.get=e,t.store=function(t,e,i){return n=t,r=e,s=i,h[n]&&void 0!==c[n]&&f[n]&&(u=l[n],h[n][r]?(p(n,r),h[n][r].data.data=s,h[n][r].data.timeout=Date.now()):(o={data:{data:s,timeout:Date.now()}},void 0===u?(o.prev=o).next=o:(o.prev=u.prev,o.next=u.next,u.next.prev=o,u.next=o),l[n]=o,h[n][r]=o,c[n]++),c[n]>f[n]&&u&&(a=u.next,(u.next.next.prev=u).next=u.next.next,a.next.next=void 0,a.next.prev=void 0,c[n]--)),i;var n,r,s,o,a,u},t.empty=function(t){e=t,h[e]={},c[e]=0;var e},t.exist=function(t){return h[t]};var h={},l={},c={},f={};function p(t,e){var i,n;if(h[t]&&h[t][e])return n=l[t],(i=h[t][e]).prev=n,i.next=n.next,n.next.prev=i,n.next=i,(l[t]=i).data}function e(t,e){var i;if(null!=(i=p(t,e)))return i}t.default=e})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i)&&n.__esModule?n:{default:n};var s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"init",value:function(t,e){this.graph=t,this.series=[],this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(t,e){this.serie1=t,this.serie2=e}},{key:"setBoundaries",value:function(t,e){this.options.from=t,this.options.to=e}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){var r=this,t=this.serie1.getWaveform(),e=this.serie2.getWaveform(),i=t.duplicate(!0).subtract(e).add(e),n=t.duplicate(!0).subtract(t.duplicate(!0).subtract(e)),s=[],o=void 0,a=function(){(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||0!=o.wave1.length||0!=o.wave2.length)&&(o={above:void 0,wave1:[],wave2:[]},s.push(o))};a(!0);for(var u=0;u<i.getLength();u++)if(isNaN(i.getY(u))||isNaN(n.getY(u)))a();else{if(0<u&&0<o.wave1.length){if(i.getY(u)>n.getY(u)&&!o.above){var h=this.computeCrossing(i.getX(u-1),i.getY(u-1),i.getX(u),i.getY(u),n.getX(u-1),n.getY(u-1),n.getX(u),n.getY(u));o.wave1.push([h.x,h.y]),a(),o.wave1.push([h.x,h.y]),o.above=!0}if(i.getY(u)<n.getY(u)&&o.above){var l=this.computeCrossing(i.getX(u-1),i.getY(u-1),i.getX(u),i.getY(u),n.getX(u-1),n.getY(u-1),n.getX(u),n.getY(u));o.wave1.push([l.x,l.y]),a(),o.wave1.push([l.x,l.y]),o.above=!1}}0==o.wave1.length&&(o.above=i.getY(u)>n.getY(1)),o.wave1.push([i.getX(u),i.getY(u)]),o.wave2.push([n.getX(u),n.getY(u)])}this.series.forEach(function(t){return t.kill()}),this.series=s.forEach(function(t,e){var i=r.graph.newSerie("__graph_serielinedifference_"+r.serie1.getName()+"_"+r.serie2.getName()+"_"+e),n=new c.Waveform;n.setData(t.wave1.map(function(t){return t[1]}).concat(t.wave2.reverse().map(function(t){return t[1]})),t.wave1.map(function(t){return t[0]}).concat(t.wave2.map(function(t){return t[0]}))),t.wave1[0]&&n.append(t.wave1[0][0],t.wave1[0][1]),i.setWaveform(n),i.setXAxis(r.serie1.getXAxis()),i.setYAxis(r.serie1.getYAxis()),t.above?i.setFillColor(r.options.positiveStyle.fillColor):i.setFillColor(r.options.negativeStyle.fillColor),console.log(r.options)})}},{key:"computeCrossing",value:function(t,e,i,n,r,s,o,a){var u=(n-e)/(i-t),h=(a-s)/(o-r),l=n-u*i;if(t==i||r==o)return!1;if(u==h)return{x:t,y1:e,y2:e,y:e};var c=(l-(a-h*o))/(h-u);return!(i<c||c<t||c<r||o<c)&&{x:c,y:u*c+l}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}],[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}]),e}();e.default=o,t.exports=e.default},r=[t,e,i(29),i(55)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n,r,s,o,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=v(i),c=v(n),f=v(r),p=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s),d=v(o),g=v(a),y=(v(u),v(h));function v(t){return t&&t.__esModule?t:{default:t}}var m=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function x(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var k=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=function(t){function e(){b(this,e);var t=_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,d.default),k(e,[{key:"draw",value:function(){return this}}]),e}(),S=function(t){function e(){b(this,e);var t=_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,g.default),k(e,[{key:"draw",value:function(){return this}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),A=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","_recalculateMarkerPoints","getSymbolForLegend","_getSymbolForLegendContainer"],P=[];Object.getOwnPropertyNames(d.default.prototype).concat(P).map(function(t){var i;-1<A.indexOf(t)||(w.prototype[t]=(i=t,function(){var e=arguments;this.subSeries.map(function(t){t[i].apply(t,x(e))})}))});var C=["getSymbolForLegend"];P=["_getSymbolForLegendContainer"];Object.getOwnPropertyNames(d.default.prototype).map(function(t){var i,n;-1!=C.indexOf(t)&&(w.prototype[t]=(i=t,function(){var t;console.log(i);var e=arguments;return(t=this.subSeries[0])[i].apply(t,x(e))}),S.prototype[t]=(n=t,function(){var t,e=arguments;return(t=this.subSeries[0])[n].apply(t,x(e))}))}),P.map(function(t){var i,n;w.prototype[t]=(i=t,function(){var t,e=arguments;return(t=this.subSeries[0])[i].apply(t,x(e))}),S.prototype[t]=(n=t,function(){var t,e=arguments;return(t=this.subSeries[0])[n].apply(t,x(e))})});var L=function(t){function i(t){b(this,i);var e=_(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e.series=new Map,e}return M(i,y.default),k(i,[{key:"init",value:function(t){this.graph=t}},{key:"newXAxis",value:function(t){return this.newBottomAxis(t)}},{key:"newYAxis",value:function(t){return this.newLeftAxis(t)}},{key:"newTopAxis",value:function(t){return t=this.getOptions(t),new T(this.graph,"top",t)}},{key:"newBottomAxis",value:function(t){return t=this.getOptions(t),new T(this.graph,"bottom",t)}},{key:"newLeftAxis",value:function(t){return t=this.getOptions(t),new X(this.graph,"left",t)}},{key:"newRightAxis",value:function(t){return t=this.getOptions(t),new X(this.graph,"right",t)}},{key:"getOptions",value:function(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return p.extend(!0,e,t)}},{key:"preDraw",value:function(){var a,s,u=this;this.series.forEach(function(t){var o=t.serie;a=o.getXAxis(),s=o.getYAxis();var e=1;for(a.splitNumber&&(e*=a.splitNumber),s.splitNumber&&(e*=s.splitNumber);o.subSeries.length<e;){var i=o.getName()+"_"+o.subSeries.length,n=u.graph.newSerie(i,{},o.getType()||l.default.SERIE_LINE);n.excludedFromLegend=!0,n.styles=o.styles,n.waveform=o.waveform,o.getType()==l.default.SERIE_LINE&&(n.markerPoints=o.markerPoints,n.markerFamilies=o.markerFamilies),o.subSeries.push(n),o.postInit()}for(;o.subSeries.length>e;){var r=u.graph.getSerie(o.getName()+"_"+(o.subSeries.length-1));r&&r.kill&&r.kill(),o.subSeries.pop()}!o.getXAxis().splitNumber&&o.getXAxis().splitAxis&&o.getXAxis().splitAxis(),!o.getYAxis().splitNumber&&o.getYAxis().splitAxis&&o.getYAxis().splitAxis(),o.subSeries.map(function(t,e){var i,n;if(o.getXAxis().getSubAxis){var r=e%(a.splitNumber||1);i=o.getXAxis().getSubAxis(r)}else i=o.getXAxis();if(t.setXAxis(i),o.getYAxis().getSubAxis){var s=Math.floor(e/(a.splitNumber||1));n=o.getYAxis().getSubAxis(s)}else n=o.getYAxis();t.setYAxis(n),t.draw(!0)})})}},{key:"newSerie",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];switch(i){case"line":return this.newLineSerie(t,e);case"scatter":return this.newScatterSerie(t,e)}throw"Cannot create a split serie of type "+i}},{key:"newLineSerie",value:function(t,e){var i={type:"lineSerie",serie:new w(this.graph,t,e,"line")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}},{key:"newScatterSerie",value:function(t,e){var i={type:"scatterSerie",serie:new S(this.graph,t,e,"scatter")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}}],[{key:"default",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),i}(),O={splitMarks:!0},E=function(e){var n=function(t){function o(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};b(this,o);var n=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,e,i));return n.axes=[],n.position=e,n.constructorOptions=p.extend(!0,{},O,i),n._splitVal=[],n}return M(o,e),k(o,[{key:"all",value:function(t){if("function"==typeof t)return this.axes.map(t),this}},{key:"splitAxis",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(1);for(var n=e.length;this.axes.length>n;)this.axes.pop().kill(!0,!0);for(;this.axes.length<n;){var r=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(r),r.zoomLock=!0,r.init(this.graph,this.constructorOptions)}var s=0,o=0,a=!0,u=!1,h=void 0;try{for(var l,c=this.axes[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;f.options.marginMin=10,f.options.marginMax=10,0==o&&(f.options.marginMin=0),o==this.axes.length-1&&(f.options.marginMax=0),f.setSpan(s,s=e[o]),f.setMinMaxFlipped(),o++}}catch(t){u=!0,h=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return this._splits=e,this}},{key:"fixGridIntervalBasedOnAxis",value:function(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(t){return this.autoSpread=!!t,this}},{key:"hasAxis",value:function(t){return-1<this.axes.indexOf(t)}},{key:"_splitSpread",value:function(){var t=[],e=0,i=0,n=!0,r=!1,s=void 0;try{for(var o,a=this._splitVal[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;e+=u[1]-u[0]}}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}var h=!0,l=!1,c=void 0;try{for(var f,p=this._splitVal[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;t.push(i+=(d[1]-d[0])/e)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}t.pop(),this.splitAxis.apply(this,t)}},{key:"setChunkBoundaries",value:function(t){var e=0,i=void 0,n=void 0,r=!0,s=!1,o=void 0;try{for(var a,u=this.axes[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var h=a.value;Array.isArray(t[e])&&1<t[e].length&&!i&&(i=t[e][1]-t[e][0],n=e),1!=t[e].length&&Array.isArray(t[e])?h.forceMin(t[e][0]).forceMax(t[e][1]):(h._mean=t[e],Array.isArray(h._mean)&&(h._mean=h._mean[0])),e++}}catch(t){s=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}return this._baseWidthVal=i,this._baseWidthIndex=n,this._splitVal=t,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var i=this;this.autoSpread&&this._splitSpread();var n=0,r=void 0,s=void 0,o=void 0;if(0<=this._baseWidthIndex&&(s=this.getSubAxis(this._baseWidthIndex))&&(o=s.getSpan()),s=void 0,0<=this.fixGridFor&&(s=this.getSubAxis(this.fixGridFor))){if(void 0!==s._mean){var t=(s.getSpan()[1]-s.getSpan()[0])/(o[1]-o[0])*this._baseWidthVal;s.forceMin(s._mean-t/2),s.forceMax(s._mean+t/2)}n=s.draw(),r=s.getPrimaryTickUnit()}return this.axes.map(function(t){if(s!==t){if(void 0!==t._mean){var e=(t.getSpan()[1]-t.getSpan()[0])/(o[1]-o[0])*i._baseWidthVal;t.forceMin(t._mean-e/2),t.forceMax(t._mean+e/2)}r&&t.forcePrimaryTickUnit(r),n=Math.max(n,t.draw())}}),this.writeUnit(),n}},{key:"setMinPx",value:function(t){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMinPx",this).call(this,t);var e=!0,i=!1,n=void 0;try{for(var r,s=this.axes[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){r.value.setMinPx(t)}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}}},{key:"setMaxPx",value:function(t){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMaxPx",this).call(this,t);var e=!0,i=!1,n=void 0;try{for(var r,s=this.axes[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){r.value.setMaxPx(t)}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}}},{key:"setShift",value:function(){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setShift",this).apply(this,arguments);var t=!0,e=!1,i=void 0;try{for(var n,r=this.axes[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;s.setShift.apply(s,arguments)}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}}},{key:"init",value:function(){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var e=0;return this.axes.map(function(t){e=Math.max(e,t.getAxisPosition())}),e}},{key:"getSubAxis",value:function(t){if(this.axes.length<=t)throw"Impossible to reach axis. Index "+t+" is out of range";return this.axes[t]}},{key:"splitNumber",get:function(){return this._splits.length}}]),o}();return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map(function(t){var i;n.prototype[t]=(i=t,function(){var e=arguments;return this.axes.map(function(t){t[i].apply(t,e)}),this})}),n},T=function(t){function r(t,e,i){b(this,r);var n=_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return n.topbottom=e,n}return M(r,E(c.default)),k(r,[{key:"getConstructor",value:function(){return c.default}},{key:"getAxisPosition",value:function(){var t=m(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"drawLabel",value:function(){m(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var t=m(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),t}}]),r}(),X=function(t){function n(t,e,i){return b(this,n),_(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return M(n,E(f.default)),k(n,[{key:"getConstructor",value:function(){return f.default}},{key:"drawLabel",value:function(){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(e){var i=e;if(this.getLabel()&&this.axes.map(function(t){i=Math.max(t.equalizePosition(e),i)}),this.getLabel())return this.placeLabel(this.left?-i:i),i+this.graph.options.fontSize}}]),n}();p.mix(T,new c.default),p.mix(X,new f.default),e.default=L,t.exports=e.default},r=[t,e,i(71),i(101),i(140),i(5),i(49),i(102),i(72),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var r,s=(r=n)&&r.__esModule?r:{default:r};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"init",value:function(t,e){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).call(this,t,e)}},{key:"checkHSL",value:function(t){var e={},i=void 0,n=void 0,r=void 0;return(i=t.h||t.hue)?(i<1&&(i=Math.round(360*i)),e.hue=i):e.h=0,(n=t.s||t.saturation)?(1<n&&(n/=100),e.saturation=n):e.saturation=.75,(r=t.lightness||t.l)?(1<r&&(r/=100),e.lightness=r):e.lightness=.5,e}},{key:"buildHSLString",value:function(t){return"hsl( "+Math.round(t.h)+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%)"}},{key:"colorizeAll",value:function(n){var r,t,s=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=void 0;n.serieTypes?(Array.isArray(n.serieTypes)||(n.serieTypes=[n.serieTypes]),e=(t=this.graph).allSeries.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(n.serieTypes))):e=this.graph.getSeries();if(r=e.length,!n.startingColorHSL){if(!n.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";n.startingColorHSL=this.checkHSL(n.colorHSL)}if(n.endingColorHSL)n.endingColorHSL=Object.assign({},n.startingColorHSL,n.endingColorHSL);else switch(n.affect&&["h","s","l","hue","saturation","lightness"].include(n.affect)||(n.affect="h"),n.affect){case"h":case"hue":n.endingColorHSL={h:n.startingColorHSL.h+300,s:n.startingColorHSL.s,l:n.startingColorHSL.l};break;case"saturation":case"s":var i=void 0;i=.5<n.startingColorHSL.s?0:1,n.endingColorHSL={h:n.startingColorHSL.h,s:i,l:n.startingColorHSL.l};break;case"lightness":case"l":var a=void 0;a=.5<n.startingColorHSL.l?0:.75,n.endingColorHSL={h:n.startingColorHSL.h,s:n.startingColorHSL.s,l:a}}return e.map(function(t,e){if(!t.setLineColor)throw"The serie "+t.getName()+" does not implement the method `startingColor`";var i=void 0;return i=1==r?s.buildHSLString({h:n.startingColorHSL.h,s:n.startingColorHSL.s,l:n.startingColorHSL.l}):s.buildHSLString({h:n.startingColorHSL.h+e/(r-1)*(n.endingColorHSL.h-n.startingColorHSL.h),s:n.startingColorHSL.s+e/(r-1)*(n.endingColorHSL.s-n.startingColorHSL.s),l:n.startingColorHSL.l+e/(r-1)*(n.endingColorHSL.l-n.startingColorHSL.l)}),t.setLineColor(i),"function"==typeof o&&o(e,i),i})}}],[{key:"default",value:function(){return{}}}]),i}();e.default=a,t.exports=e.default},r=[t,e,i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var r,o=(r=n)&&r.__esModule?r:{default:r};var a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var s=function(t){function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o.default),a(s,[{key:"init",value:function(t,e){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0})(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"init",this).call(this,t,e),this.picks=[];for(var i=0,n=this.options.autoPeakPickingNb;i<n;i++){var r=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});r.draw(),this.picks.push(r)}}},{key:"setSerie",value:function(t){this.serie=t,this.picks.map(function(t){t.show()})}},{key:"serieRemoved",value:function(t){this.serie==t&&this.picks.map(function(t){t.hide()})}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var t=!0,e=!1,i=void 0,n=[],r=this.serie.getWaveform();if(!r)throw"The serie must have a waveform for the peak picking to work";for(var s=r.getLength(),o=0,a=void 0;o<s;o++)a=r.getY(o),this.serie.options.lineToZero?n.push([r.getX(o),a]):i?a>=i[1]&&t||a<=i[1]&&e?i=[r.getX(o),a]:(a<i[1]&&t||a>i[1]&&e)&&(e?t=!(e=!1):(t=!(e=!0),n.push(i),i=!1),i=[r.getX(o),a]):i=[r.getX(o),a];var u,h,l,c,f=n,p=[],d=f.length;o=0;var g=this.graph.selectedShapes.map(function(t){return t.getProp("xval")});for(f.sort(function(t,e){return e[1]-t[1]}),c=0;o<d;o++)if(u=f[o][0],h=this.serie.getX(u),l=0,a=this.serie.getY(f[o][1]),!(h<this.serie.getXAxis().getMinPx()||h>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(a>this.serie.getYAxis().getMinPx()||a<this.serie.getYAxis().getMaxPx()))){for(;l<p.length&&!(Math.abs(p[l]-h)<this.options.autoPeakPickingMinDistance);l++);if(!(l<p.length))if(-1<g.indexOf(u))p.push(h);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(f[o][1])-20<0?(this.picks[c].setLabelPosition({x:u,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:u,y:f[o][1],dy:"-15px"})),this.picks[c].setProp("xval",u),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],u,c)):this.picks[c].setLabelText(String(Math.round(1e3*u)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(p.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].hide()}},{key:"showPeakPicking",value:function(t){if((!this._hidePeakPickingLocked||t)&&this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}},{key:"getSerie",value:function(){return this.serie}}],[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}]),s}();e.default=s,t.exports=e.default},r=[t,e,i(5),i(29)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s,o;o=function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var r,s=(r=n)&&r.__esModule?r:{default:r};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var a=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var t=this.computePosition(0);this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);var e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}},{key:"setR",value:function(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){}}]),i}();e.default=a,t.exports=e.default},r=[t,e,i(5),i(28)],void 0===(s="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=s)}])});